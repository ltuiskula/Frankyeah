<!DOCTYPE html>
<html class="init-no-js">
<head>
<meta charset="UTF-8" />
<title>Hype test</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!--

SugarCube (v1.0.35): A free (gratis and libre) story format, based on TiddlyWiki.

Copyright © 2013–2016 Thomas Michael Edwards <tmedwards@motoslave.net>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met: 

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer. 
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution. 

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-init" type="text/javascript">
if(!document.head||!document.querySelector||!document.addEventListener||!JSON||!Object.getPrototypeOf||!Object.freeze){document.documentElement.className="init-lacking";}else{document.documentElement.className="init-loading";
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
if("document" in self){if(!("classList" in document.createElement("_"))){(function(j){"use strict";if(!("Element" in j)){return}var a="classList",f="prototype",m=j.Element[f],b=Object,k=String[f].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[f].indexOf||function(q){var p=0,o=this.length;for(;p<o;p++){if(p in this&&this[p]===q){return p}}return -1},n=function(o,p){this.name=o;this.code=DOMException[o];this.message=p},g=function(p,o){if(o===""){throw new n("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(o)){throw new n("INVALID_CHARACTER_ERR","String contains an invalid character")}return c.call(p,o)},d=function(s){var r=k.call(s.getAttribute("class")||""),q=r?r.split(/\s+/):[],p=0,o=q.length;for(;p<o;p++){this.push(q[p])}this._updateClassName=function(){s.setAttribute("class",this.toString())}},e=d[f]=[],i=function(){return new d(this)};n[f]=Error[f];e.item=function(o){return this[o]||null};e.contains=function(o){o+="";return g(this,o)!==-1};e.add=function(){var s=arguments,r=0,p=s.length,q,o=false;do{q=s[r]+"";if(g(this,q)===-1){this.push(q);o=true}}while(++r<p);if(o){this._updateClassName()}};e.remove=function(){var t=arguments,s=0,p=t.length,r,o=false,q;do{r=t[s]+"";q=g(this,r);while(q!==-1){this.splice(q,1);o=true;q=g(this,r)}}while(++s<p);if(o){this._updateClassName()}};e.toggle=function(p,q){p+="";var o=this.contains(p),r=o?q!==true&&"remove":q!==false&&"add";if(r){this[r](p)}if(q===true||q===false){return q}else{return !o}};e.toString=function(){return this.join(" ")};if(b.defineProperty){var l={get:i,enumerable:true,configurable:true};try{b.defineProperty(m,a,l)}catch(h){if(h.number===-2146823252){l.enumerable=false;b.defineProperty(m,a,l)}}}else{if(b[f].__defineGetter__){m.__defineGetter__(a,i)}}}(self))}else{(function(){var b=document.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var c=function(e){var d=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(h){var g,f=arguments.length;for(g=0;g<f;g++){h=arguments[g];d.call(this,h)}}};c("add");c("remove")}b.classList.toggle("c3",false);if(b.classList.contains("c3")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(d,e){if(1 in arguments&&!this.contains(d)===!e){return e}else{return a.call(this,d)}}}b=null}())}};
/*! jQuery v2.1.3 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=hb(),z=hb(),A=hb(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},eb=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fb){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function gb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+rb(o[l]);w=ab.test(a)&&pb(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function hb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ib(a){return a[u]=!0,a}function jb(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function kb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function lb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function nb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function ob(a){return ib(function(b){return b=+b,ib(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pb(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=gb.support={},f=gb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=gb.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",eb,!1):e.attachEvent&&e.attachEvent("onunload",eb)),p=!f(g),c.attributes=jb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=jb(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=jb(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(jb(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),jb(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&jb(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return lb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?lb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},gb.matches=function(a,b){return gb(a,null,null,b)},gb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return gb(b,n,null,[a]).length>0},gb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},gb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},gb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},gb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=gb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=gb.selectors={cacheLength:50,createPseudo:ib,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||gb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&gb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=gb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||gb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ib(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ib(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ib(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ib(function(a){return function(b){return gb(a,b).length>0}}),contains:ib(function(a){return a=a.replace(cb,db),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ib(function(a){return W.test(a||"")||gb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:ob(function(){return[0]}),last:ob(function(a,b){return[b-1]}),eq:ob(function(a,b,c){return[0>c?c+b:c]}),even:ob(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:ob(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:ob(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:ob(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=mb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=nb(b);function qb(){}qb.prototype=d.filters=d.pseudos,d.setFilters=new qb,g=gb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?gb.error(a):z(a,i).slice(0)};function rb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function tb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ub(a,b,c){for(var d=0,e=b.length;e>d;d++)gb(a,b[d],c);return c}function vb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wb(a,b,c,d,e,f){return d&&!d[u]&&(d=wb(d)),e&&!e[u]&&(e=wb(e,f)),ib(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ub(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:vb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=vb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=vb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sb(function(a){return a===b},h,!0),l=sb(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sb(tb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wb(i>1&&tb(m),i>1&&rb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xb(a.slice(i,e)),f>e&&xb(a=a.slice(e)),f>e&&rb(a))}m.push(c)}return tb(m)}function yb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=vb(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&gb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ib(f):f}return h=gb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,yb(e,d)),f.selector=a}return f},i=gb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&pb(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&rb(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&pb(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=jb(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),jb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||kb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&jb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||kb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),jb(function(a){return null==a.getAttribute("disabled")})||kb(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),gb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)
},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,"script"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||tb(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?tb(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))
},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var ec=/#.*$/,fc=/([?&])_=[^&]*/,gc=/^(.*?):[ \t]*([^\r\n]*)$/gm,hc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ic=/^(?:GET|HEAD)$/,jc=/^\/\//,kc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lc={},mc={},nc="*/".concat("*"),oc=a.location.href,pc=kc.exec(oc.toLowerCase())||[];function qc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rc(a,b,c,d){var e={},f=a===mc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function uc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:oc,type:"GET",isLocal:hc.test(pc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sc(sc(a,n.ajaxSettings),b):sc(n.ajaxSettings,a)},ajaxPrefilter:qc(lc),ajaxTransport:qc(mc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gc.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||oc)+"").replace(ec,"").replace(jc,pc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pc[1]&&h[2]===pc[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pc[3]||("http:"===pc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rc(lc,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ic.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fc.test(d)?d.replace(fc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rc(mc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tc(k,v,f)),u=uc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vc=/%20/g,wc=/\[\]$/,xc=/\r?\n/g,yc=/^(?:submit|button|image|reset|file)$/i,zc=/^(?:input|select|textarea|keygen)/i;function Ac(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wc.test(a)?d(a,e):Ac(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ac(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ac(c,a[c],b,e);return d.join("&").replace(vc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zc.test(this.nodeName)&&!yc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xc,"\r\n")}}):{name:b.name,value:c.replace(xc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bc=0,Cc={},Dc={0:200,1223:204},Ec=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cc)Cc[a]()}),k.cors=!!Ec&&"withCredentials"in Ec,k.ajax=Ec=!!Ec,n.ajaxTransport(function(a){var b;return k.cors||Ec&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Dc[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fc=[],Gc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fc.pop()||n.expando+"_"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hc=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hc)return Hc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ic=a.document.documentElement;function Jc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ic;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ic})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kc=a.jQuery,Lc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lc),b&&a.jQuery===n&&(a.jQuery=Kc),n},typeof b===U&&(a.jQuery=a.$=n),n});
/*! jQuery throttle / debounce - v1.1 - 3/7/2010 [http://benalman.com/projects/jquery-throttle-debounce-plugin/] | (c) 2010 "Cowboy" Ben Alman | Dual licensed under the MIT and GPL licenses. [http://benalman.com/about/license/] */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*! imagesLoaded PACKAGED v3.1.8 | MIT License */
(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function f(e){this.img=e}function c(e){this.src=e,v[e]=this}var a=e.jQuery,u=e.console,h=u!==void 0,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var f=r[o];this.addImage(f)}}},s.prototype.addImage=function(e){var t=new f(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoaded=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(a(this))}),f.prototype=new t,f.prototype.check=function(){var e=v[this.img.src]||new c(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},f.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var v={};return c.prototype=new t,c.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},c.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s});
/*! UUID.js - Version: core-1.0-tme.object.forceBrowserRandom.1 | (c) 2012 LiosK | Licensed under the MIT License */
var UUID={};UUID.generate=function(){var a=UUID._gri,b=UUID._ha;return b(a(32),8)+"-"+b(a(16),4)+"-"+b(16384|a(12),4)+"-"+b(32768|a(14),4)+"-"+b(a(48),12)};UUID._gri=function(a){return 0>a?NaN:30>=a?0|UUID._random()*(1<<a):53>=a?(0|1073741824*UUID._random())+1073741824*(0|UUID._random()*(1<<a-30)):NaN};UUID._ha=function(a,b){for(var c=a.toString(16),d=b-c.length,e="0";0<d;d>>>=1,e+=e)d&1&&(c=e+c);return c};UUID._random=Math.random;
/*! lz-string-1.3.3-min.js | (c) 2013 Pieroxy | Licensed under a WTFPL license */
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}
/*! seedrandom.js v2.3.3 | (c) 2013 David Bau | Licensed under a BSD-style license */
!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
}
</script>
<style id="style-init-screen" type="text/css">#init-screen{display:none;z-index:100000;position:fixed;top:0;left:0;height:100%;width:100%;font-size:28px;text-align:center}#init-screen p{display:none;width:75%;margin:2em auto;font-weight:700;font-style:italic}#init-loading progress{height:20px}html.init-lacking #init-screen,html.init-loading #init-screen,html.init-no-js #init-screen{display:block}html.init-no-js #init-no-js{display:block}html.init-lacking #init-lacking{display:block}html.init-loading #init-loading{display:block}html.init-loading #passages,html.init-loading #ui-bar{display:none}html.init-no-js #init-no-js,noscript{color:red;font-weight:700}</style>
<style id="style-fonts" type="text/css">@font-face{font-family:icomoon-sugarcube;src:url(data:application/font-woff;charset=utf-8;base64,d09GRk9UVE8AABEkAAsAAAAAHHgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAABCAAADeQAABb40HwEm0ZGVE0AAA7sAAAAGgAAABxmn3O0R0RFRgAADwgAAAAdAAAAIABOAARPUy8yAAAPKAAAAEsAAABgL9zcQGNtYXAAAA90AAAAPQAAAVLgMPLNaGVhZAAAD7QAAAAuAAAANv41RT9oaGVhAAAP5AAAAB4AAAAkBBD/5GhtdHgAABAEAAAAHgAAAEgEkACpbWF4cAAAECQAAAAGAAAABgAhUABuYW1lAAAQLAAAAOsAAAIHCW+4AnBvc3QAABEYAAAADAAAACAAAwAAeJyNWAl0lEUS7j9OZoYkThLIIGcCCASYABkIQkQQMHIFEWEERBQEvBgE1ImrnAIRlB+E1QmycoiRS8IqizHgystjMRwyHgkEQcK94ALBAJrNPzBDar/qngxR43v7Jq+6u7q76qvq6ur6owmTSWiaVv/5idNemDZtaseXs5596qWJWROeFlqE0ERvf88I/313+BuZ9Jg79BhTYpRoPKI+6Xq4E2NZPNmf48+KbKblxTYTIq6ZdiW+mYhpZo+oL1qxDKuIFQ1Fc9FaOEQXkS76iAFiqHhUjBUTxWTxonhVzBULxVLhFatErvhYbBM7RKHYK74Rh8VxcVb8ot2RNfX5/qmpqWgeDDdO1XRRTVfVpKmmm2ruUU131fRQTbpq+qqmn2oeUE2Gah5UTX/ZOJU+p9LnVPqcSp9T6XMqfU6lz6n0OZU+p9LnVPqcSp9T6XMqfc4H/+D9Px6HENoi7U3tLW2xpmtLtKXa29oybbn2V+0d7V3Nq+VoK7T3tJXa37T3tVXaam2Ntlb7QFunfajlah9p67UN2kbRkk8jQsSIUi3N1NDU0bTBtNd0wnQxcnDkqMjtZpu5o3moOcucYzYsvSyBesOix9xpjm0VOyz2qzgtLil+RPwz8Xr9Ypvu95iCXr/XYvNnG/l2EtYfTCQs7YNEfvTIaB9MclhkG+LUsBMDGYEMc50zjtpsKYzFJhnYYKlzptxSS3GYnWhkGNBQ10y5uU6kkG8z1pvq3OL31L3nT6wLeuo2wkZawLWLREbeG/CWttVKVD1iJ3rd5qMXvY+E2LeZ6Fb5QhIRSXOIbj58GhNfQ9CN0UeIAi/YJMG+gnXZTPpFMuOd0NSN0aVYfrA3b1zLImaFhEmx1TFWVjWPlXpYfT3IoepXMK0B76S/20isGtFV9WjS1m8hm2gWk9lM5jApDJPZLKcAxJXO4Bey5rmsD8AofbTCQLfOYHjjsdGseQ9gTvmWhOmdX6QF/UgMGjdbWhArucpWYd7kYPCFJCK3tWTwlzFMmKnAC60yHSRvH1swGLOiH5MFYdI3TLKtbFAaEw8b9A16w6+xzTvZ5oGRDP7emoMAeMguVOChbwaDX8AYWrDmr4Br42WGeT1kAcAXMtkdqcCDbONFm7H8HhNvXM8i+rEw9mL6+wo8VM1hpYOkequEEgK1avgvtYBK3PJwFFrsWVJjeuUsFTYSKFz0DOuboM5cYpBxoJwaeGGYRDuHnb5Qor2mIkYCVWEjD+rmw2cUUBxjhgIq4xIn7ZfHHYoYiRZx8k4Y7VTZi7T5M/xp9rKegVL8XIarrMwwBUyR0LRvx1IS9raX7aSlz91NWtqysURrOEyfarWcqH3qR0Qp8C2t+tdAEhO2zFWztPbkdCC+J2VwQxIp2WNIOErakZjUG/rXPNqHxA/fjyVxmG1JyV5NVNq5CVUH+UDFnocAx2NqEeX35NlbRhmVfpPdlxnw4JdmpPl85Y7fzJcblfaA18DPUpttM7x+j71VVNBlujvKYbhwcdNuVQJGREyIyGGYR6XokY97vvCwDl54b+JvNCBFzKoY6YaWJWPgm/fyq4nOdelE4tcGfqquzD6F47JMseokZnVeG3CxjwMujOZceg1uOj1eIA56fUZU5cb5TTjxM9H+u+sTrQxctMJFC+KvQBXRy+tPEj2XGUGi+XcjiWKuWEmLnnEGkeP3QjYtKJ5gSMkGZNO8hotwVVqsEwiQPctI1PMih61pVUKix8lUEs+aGllthsfErtPhWq8uc0TAhTMQ/XSw4Gev4YF3A17dSAOR19ZwESQW6mAhQDRwGBuzsDAN+7wQwQt1xUzTI+EqtzokzIO6pCZdKjJ4vtzvsvsTgviZjco8u8FhWGrJzERPz3MHE3Tdn5DnhqdWrFuAoBs3G844VHiTRMe+uGXjIE2MF5pKr7gxs2C/zoaExrNhiQsofZl60BX0Qpo30vBm2gMJPiPBYkCtXSft6dnbiS7MhmuazB9KdHx+MTshkM+WunU9mMB2+DmSlk5YTuKlNdOJuEfoJcGYz976J9Gp13ALv3zyC6KDPyKZlty1FDF9ZMvuLwE++UQFibs7rSTRuM14El1ffQQuSn/sLtDJ9bB3izWfxKNV/YlyjCEQePDmWdBi5Ee6PO8g0ck+uOsn+5qRFQYUNSLa2SsVQaTzgQwOXCT6PKIYWjqNMEA4Qd5fDQ8121xFov8/knUcdilpK/J3wYCxC58hOp+1h8QDjHfLQ6VQ9P6iT4A1exCQrCroHyJymD0oyEMkx0kYipkF/ROB+elXh/P+MmDensIy25Bourg3ZOyKzMUL+/OFXLykjRsSXR3zJFHl9m1E11dXhMjZ/Z+EyNXHJxEdLbkCCEcecClKIm79asklkdhjuFqJ3iOhXruOh9VG0WFXhV5D23U8pDbKPb8ncqJdpwS5fKtVNSxlo2Sz5CkhbYxQ2CYUK+gi+qFhyhxh+emyFa/c0gfPI559nHNIO3QhkcQnZwRXUqduEl3LxWWL8ewi+hWnImwTj6GqKHoMfvn2U+TpzcfP4VqWdBqJOOOXt2gqVF9LvorYQ2hQyZJ6WJ7cATx+zwOHOgFEH34ioyPQe2UR5KwaNwsvP+08QqLbOU5MC/F4OVa+i5B55hIcWNHvTtCrT/yK/T3Avb71O8jceFlCOE1iVJvxHCirO+DA2l6CZ+LwVvact5ghAFYnD147I6GaROyLV2BFFh7RGNtxyFlwFDbeNxkB2OXh23KO4wJesEBYzx1DsOcQntMmJ7ZiYhHCwno9GbxZmDU53oCqq3gc6CQSaVz+DMiZ9KEsV6pBvz5TBCtW4GUrbYFr261oNfwaf2QPDiqu4E3sLwUiG6dKq3wZuwxrwd5cx97sPgTxfBHlwtVjOL4iAAIERFnJa3fB6I5NzkF81jycUDonDLzLQPd8Dyav8bAPTwywMkXglqx4k2cQ+PuQY0B2Mq9/iIR5WBJk3iIpNRFvqJEADSmdjuOWl7QlOsHnebjkOZDiCzyEC090bsq8tiFyQi7GrEjp3BRJRJj4aRVjmqF3L4jYhHrC1ELAiHZzZ5Nw7+bS8brnXoRH5Uyi8rXINFUfvkV0yf2GbmWpySz1x9tSGdFKRpTM5Dke/phEoqF3JtQlPDWA9+Pptun7WSafydHXF7CmbD6Z0XFSP3obzktMCqO1lp2KyGFt24//3s4wL5HRLtQZPbxY78lXlEUiNnqhtBNVl/f+QkSW2OxEBJ/BiYvHytDbex6bAtsmKApMG9tILnqjvkfvdKFEP79mv00/wFL3s50DWdNf2O4ZSIV42JDI6YNh63GRqhsjB15y4HrdbIOUdZlr8qqrqHOuLLoGgb2qb8Louy1IVS+fhafPVKLG9N+H6Po3eELy9h/apsNd51Bq0jHOxYc3wur/tEaW/u7JNJ1pN9DD7MRGZZg/twm5JhlPsNqrZNGSxL+wfNTMlq/qK52CeRJDpEIlGrwap5AKu6y9G6PubVhabZXm5OEl3JCIGI+owE1uPeo7XN0quKKlA98TDfguNlk9BUs/tTig9IR/OCvAKSRF43Ja9hTjwQCPJG/UqCidT+GlaSCjfwB5uQBk5AHudQUZ9TZREDWJqLe7D4Ck4CMhKqsIzoo6VwyadnYxcuzNcyCn8LnSLZJfDUWZS0daLg59lvgSC4Dmv81TWcoS9BbjYyi4AYFSdX8ha8PNps35CgF6lYwKiZE2pVgVToUbhzGQbcFXjb9XqrKPmAd7U9iWBtdxLBcmutgruMunSmcoT1HZ5i5W5Tqbz5Tp9/osQReus8NXbslDG/D4DI8lzxEqGfIQPYFSn1FqCVeBk/A6vsSh+kSLGiKHTCi3ZoKWhkluzcRtnlqSG9qW5DbO2zN9PktewGvPcxsJDneew+2GSg8Q8YSPqzNXJsoTsyNTd/v0cvzBynh8YSHp4zPLxp96FSMKEh1l9tZRX5rayMI4I9R3ByqlnEzDCzk+w8XmkLb8Iy5ytk7eTdXLxm6l6k0dXmffgcHVD1UacDdTOHlZE7wU6/ZCW/NKRFWbVxZR9ZAXtyBUr/b1Icp78gPYuxuuwgZUPK3aXkaO0rZvmmLmwWadJ1FQNBqzjjf0R11b1EiKOUDaZ2+PjGTh+Gyy8SPHCoVl+k8KgBVVIUDGf4wPT9tIU4jIYZhH19GjCu5VhId18MJ7E/NkVqhgp12v8SEPk3IcO/ScP3EtqlcPCtWg18wfKKgYURcbCfieAs91mwe/e+3uQH4wweJ2636XrK7z7Vy+oXKLkYSfMv6e5/KNdkcMRVR/jGfoi6ErObffrjhryk5FbpeiXJkitw/hYkpkXMSFaXnsXYi7ArzdcvpAxvdH4cUOrRtB062uMCD4/Wn0uEgLch4L+n8AuYFh2a7JTNzYcqAKqdDiIPpmB5+8oswVDfxHeFF7ZBrUbOht5d5RtVykdud72XVglaJqOXPVcpBjarkayokG/lK1xVqzk9mQl6LWsw6YsfO+dpKwExN0+5KYqGYipoEw83/I6ol4MVF8rr2pHfd7g/iZo/0u1P0uS3Rdpfuf+5XCi0WNc0PDGl5SNJfuQa7aTSEih0xoS80E5YTJlpqJ2zy1ZEtoG0vsvqwJZ8+eG/EWPYHPkeRBPfCqFByo3bPnojj1FY3BSRyY/pOkF9RycB9Xi35DvpbLeUnnWlt0xYW4ErUIKrqHez3UckDZoDOsplbZNFHrJUK5Xi6t1ZMTjJD36Nbo/zd063KxIrePQn5tRf8PlqV0RnicY2BgYGQAgpOd+YYg+lw3kyOMBgA8PwUsAAB4nGNgZGBg4ANiCQYQYGJgBEIFIGYB8xgABaoAUwAAAHicY2BmYmCcwMDKwMHow5jGwMDgDqW/MkgytDAwMDGwMjPAgQCCyRCQ5prC4PCA4QMD44P/Dxj0GB8wKDQwMDDCFSgAISMAEEIMHwB4nGNgYGBmgGAZBkYGEPAB8hjBfBYGAyDNAYRMIIkHch8Y/v8HsxggLAUmAUaoLjBgZGNA5o5IAADrtAjMAAAAeJxjYGRgYADild0rzsfz23xl4GZiAIFz3UyOCPr/AyYGxgdALgcDWBoAMdIKXgAAeJxjYGRgYHzw/wGDHhMDA8M/BiAJFEEBzABt5wP2AAB4nGNigAAmBqxAgcEAiQ0hOdHUJDA4MDAAABelAT4AAAAAUAAAIQAAeJydj81Kw0AUhb9pk0LRTV3oNhS3iTMRXNR9F66lq4K0IYQsmoFJ8yo+iG/km3gSZyEoCB243I9zz/0Z4Jp3DOMzrLiPPGPJS+Q5BR+RE1YmjZxyZR4iL6S/yWmSpZT11DXyjBueIs/Z8xo5keczcsqtuYu8YG2eaanwnBSejpyegYYDQfrAkRrayp+87/J+aA6hGo6S/nD9qG6nWecpB/lqMkr9zCpvFP/v/PaVOFWd+nKxFT1quO/OWx+aOisLm22yX9dJK13ubF5aJ/9lH9xJD/K2U1em1eP57OrQt77LXGEvnPwFPSJZ7QB4nGNgZsALAAB9AAQ=) format('woff');font-weight:400;font-style:normal}</style>
<style id="style-structural" type="text/css">body{margin:3.5em 3.5em 3.5em 21em}#store-area{display:none;z-index:0}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:14.5em;height:100%;margin:0;padding:3.5em 1.5em 0 3.5em}html.ui-open body{overflow:hidden}#ui-overlay{display:none;z-index:1000;position:fixed;top:0;left:0;height:100%;width:100%}#ui-body-close{display:none;z-index:1110;position:fixed;white-space:nowrap}#ui-body{display:none;z-index:1100;position:fixed;overflow:auto;min-width:140px;max-width:90%;max-height:90%}#ui-body.options [id|=option-body]{display:table;width:100%}#ui-body.options [id|=option-label]{display:table-cell;width:80%;padding:.33em 2em .4em .33em}#ui-body.options [id|=option-control]{display:table-cell;padding:.33em .33em .4em;white-space:nowrap}#passages{z-index:10;margin-right:16%}#ui-body-close,#ui-body.dialog-list a,#ui-body.options a[id|=option-input],button{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}</style>
<style id="style-appearance" type="text/css">body{color:#fff;background-color:#111;font-family:Verdana,"DejaVu Sans",Helmet,Freesans,sans-serif;font-size:12px}a{cursor:pointer;color:#46d}a:hover{color:#79f}a:active{color:#f70}a.link-external,a.link-internal{font-weight:700;text-decoration:none}a.link-external:hover,a.link-internal:hover{text-decoration:underline}a.link-broken{padding:3px;color:#000;background-color:red;font-weight:700;text-decoration:none}area{cursor:pointer}button{cursor:pointer;padding:4px 6px;color:#fff;background-color:#36c;border:1px solid #58e;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;text-decoration:none;text-shadow:1px 1px rgba(0,0,0,.4);-webkit-transition-duration:.2s;-moz-transition-duration:.2s;transition-duration:.2s}button:hover{background-color:#58e;border-color:#7af}button:active{background-color:#f70;border-color:#f92}button,input,textarea{outline:0}input,textarea{color:#fff;background-color:#111;border:1px solid #444;padding:.4em}input[type=text],textarea{min-width:20em}input{padding:2px 3px}input:focus,input:hover,textarea:focus,textarea:hover{background-color:#222;border:1px solid #eee}input[type=checkbox],input[type=radio]{cursor:pointer}textarea{overflow:auto}hr{height:1px;border:none;background-color:#fff}audio,canvas,progress,video{max-width:100%}.error{margin:0 12px 0 3px;padding:3px 5px;color:#000;background-color:red;font-weight:700}.error[title]{cursor:help}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.transition-in{opacity:0}#ui-bar{overflow:auto;background-color:#222;border-right:1px solid #444}#menu,#ui-bar header{font-weight:700;text-align:right}#menu{margin-top:3em}#menu ul{margin:1em 0;padding:0;list-style:none}#menu li{margin-bottom:1em}#menu li a{text-decoration:none}#menu ul:last-child,#menu ul:last-child li:last-child{margin-bottom:0}#story-title{margin:0;font-size:210%}#story-subtitle{font-size:111%}#story-author{font-size:111%}#story-caption{margin-top:3em;text-align:right}#menu-options a:before,#menu-restart a:before,#menu-rewind a:before,#menu-saves a:before,#menu-share a:before,#ui-body-close,#ui-body.options a[id|=option-input].enabled:before,#ui-body.options a[id|=option-input]:before,[data-icon],a.link-back:before,a.link-external:after,a.link-return:after{font-family:icomoon-sugarcube;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-icon]:before{content:attr(data-icon) "\00a0\00a0"}a.link-back:before{content:"\e00a\00a0\00a0"}a.link-return:after{content:"\00a0\00a0\e00b"}#passages a.link-external:after{content:"\00a0\e010"}#menu-saves a:before{content:"\e011\00a0\00a0"}#menu-rewind a:before{content:"\e012\00a0\00a0"}#menu-restart a:before{content:"\e013\00a0\00a0"}#menu-options a:before{content:"\e014\00a0\00a0"}#menu-share a:before{content:"\e015\00a0\00a0"}#credits,#version{margin-top:1em;color:#999;font-weight:400;font-size:71%}#ui-overlay{opacity:.8;background-color:#000}#ui-body-close{opacity:1;cursor:pointer;font-size:111%;margin:0;padding:3px 4px;font-weight:400;color:#fff;background-color:#36c;border:1px solid #58e;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;text-decoration:none;text-shadow:1px 1px rgba(0,0,0,.4);-webkit-transition-duration:.2s;-moz-transition-duration:.2s;transition-duration:.2s}#ui-body-close:hover{background-color:#58e;border-color:#7af}#ui-body-close:active{background-color:#f70;border-color:#f92}#ui-body{opacity:1;background-color:#222;border:1px solid #444;text-align:left;line-height:2}#ui-body div{padding:.2em}#ui-body hr{background-color:#444}#ui-body>ul>li+li>button{margin-left:12px}#ui-body.dialog{min-width:280px;padding:.33em 1em .66em}#ui-body.dialog ul.buttons{display:block;width:100%;margin:0;padding:0;list-style:none;text-align:left}#ui-body.dialog ul.buttons li{display:inline-block;margin:0;padding:.4em .4em .5em}#ui-body.dialog-list ul{margin:0;padding:0;list-style:none}#ui-body.dialog-list li{margin:0}#ui-body.dialog-list li:nth-child(even){background-color:rgba(255,255,255,.08)}#ui-body.dialog-list li a{display:block;padding:.25em .75em;color:#fff;font-weight:400;text-decoration:none}#ui-body.dialog-list li a:hover{background-color:#47b}#ui-body.dialog-list li a:active{background-color:#f70}#ui-body.saves table{border-spacing:0;min-width:320px;width:100%}#ui-body.saves tr:nth-child(even){background-color:rgba(255,255,255,.08)}#ui-body.saves td{padding:.33em .33em;line-height:1.2}#ui-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-body.saves .empty{color:#999}#ui-body.saves ul{display:block;margin:0;padding:0;list-style:none;white-space:nowrap}#ui-body.saves li{display:inline-block;margin:0;padding:.33em .33em .4em}#ui-body.saves>div:not(:first-child){border-top:1px solid #444}#saves-import-label{margin:0 6px;font-weight:700}#saves-import-file{margin:0 6px 6px}#ui-body.options div[id|=option-body]+br+div[id|=option-body],#ui-body.options div[id|=option-body]+div[id|=option-body]{margin-top:.5em}#ui-body.options select[id|=option-input]{cursor:pointer;padding:3px 6px;font-weight:400;color:#fff;background-color:#36c;border:1px solid #58e;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;text-decoration:none;text-shadow:1px 1px rgba(0,0,0,.4);-webkit-transition-duration:.2s;-moz-transition-duration:.2s;transition-duration:.2s;white-space:nowrap}#ui-body.options a[id|=option-input]{cursor:pointer;padding:4px 6px;font-weight:400;color:#fff;background-color:#36c;border:1px solid #58e;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;text-decoration:none;text-shadow:1px 1px rgba(0,0,0,.4);-webkit-transition-duration:.2s;-moz-transition-duration:.2s;transition-duration:.2s;white-space:nowrap}#ui-body.options a[id|=option-input]:hover{background-color:#58e;border-color:#7af}#ui-body.options a[id|=option-input].enabled{background-color:#292;border-color:#4b4}#ui-body.options a[id|=option-input].enabled:hover{background-color:#4b4;border-color:#6d6}#ui-body.options a[id|=option-input]:before{content:"\e002\00a0\00a0"}#ui-body.options a[id|=option-input].enabled:before{content:"\e003\00a0\00a0"}.passage{line-height:1.75;text-align:left;transition:opacity .4s ease-in;-webkit-transition:opacity .4s ease-in}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}</style>
<style id="style-media-queries" type="text/css">@media screen and (max-width:1440px){#passages{margin-right:8%}}@media screen and (max-width:1136px){body{margin:3.5% 3.5% 3.5% 20em}#ui-bar{padding-top:3.5%;padding-left:2.5em}#passages{margin:0}}</style>
<style id="style-media-queries-narrow" type="text/css">@media screen and (max-width:800px){body{margin:0}#ui-bar{position:relative;top:0;left:0;width:auto;height:auto;margin:0;padding:2.5% 3.5% 0;border:none;border-bottom:1px solid #fff}#story-caption,#ui-bar header{text-align:left;width:66%}#menu{position:absolute;top:0;right:0;margin:2.5% 3.5% 0 0}#menu ul{margin:0}#menu li{margin-bottom:.5em}#passages{width:auto;margin:1.5em 3.5% 3.5%}}</style>
</head>
<body>
	<div id="init-screen">
		<p id="init-no-js"><noscript>Apologies! JavaScript is required. Please enable it to continue.</noscript></p>
		<p id="init-lacking">Apologies! Your web browser lacks required capabilities. Please consider upgrading it or switching to a more modern web browser.</p>
		<p id="init-loading">Initializing. Please wait&hellip;<br /><progress></progress></p>
	</div>
	<div id="store-area" hidden><tw-storydata name="Hype test" startnode="1" creator="Twine" creator-version="2.2.1" ifid="C6D8DA83-E959-4DC6-B45E-1821EB2CE6C7" zoom="1" format="SugarCube" format-version="1.0.35" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">


</style><script role="script" id="twine-user-script" type="text/twine-javascript">(function(){var aa=void 0,h=!0,j=null,l=!1,ba=encodeURIComponent,p=window,ga=Object,ha=Infinity,t=document,u=Math,ka=Number,la=navigator,ma=parseInt,na=parseFloat;function oa(V,E){return V.width=E}function pa(V,E){return V.innerHTML=E}function qa(V,E){return V.speed=E}function sa(V,E){return V.left=E}function ta(V,E){return V.loop=E}function va(V,E){return V.play=E}function wa(V,E){return V.zIndex=E}function xa(V,E){return V.length=E}function ya(V,E){return V.position=E}
function za(V,E){return V.className=E}function Aa(V,E){return V.pause=E}function Ba(V,E){return V.MozPerspective=E}function Ca(V,E){return V.backgroundImage=E}function Da(V,E){return V.display=E}function Fa(V,E){return V.height=E}
var Ja="appendChild",H="push",Ka="direction",La="lastPosition",Oa="clearTimeout",Pa="width",Va="round",Wa="slice",Xa="replace",Ya="toFixed",Za="timestamp",$a="ceil",ab="floor",bb="getElementById",cb="offsetWidth",hb="concat",ib="list",jb="extend",kb="charAt",lb="preventDefault",sb="region",tb="button",ub="indexOf",vb="speed",wb="embeds",xb="MAX_VALUE",yb="opera",zb="createElement",Ab="atan2",Bb="identifier",Cb="sqrt",Fb="addEventListener",Gb="setAttribute",Hb="play",Ib="parentElement",Jb="type",Kb=
"translate",Lb="clear",Qb="childNodes",Rb="Play",Sb="attachEvent",Tb="source",Ub="changedTouches",Vb="zIndex",fc="keys",gc="getElementsByTagName",hc="MIN_VALUE",ic="clientX",jc="clientY",kc="toString",J="length",K="position",lc="create",mc="className",nc="index",oc="clientWidth",vc="setTimeout",wc="removeEventListener",xc="ctrlKey",yc="split",zc="duration",Ac="userAgent",Bc="location",Cc="rotate",Dc="hasOwnProperty",Ec="touches",N="style",Fc="pause",Gc="body",Hc="ownerDocument",Ic="removeChild",Jc=
"search",Kc="group",Lc="options",Mc="start",Nc="getAttribute",Yc="detachEvent",Zc="clientHeight",$c="contains",ad="element",bd="startTime",cd="removeAttribute",dd="parentNode",ed="update",fd="display",gd="height",hd="splice",id="event",Q="",jd="\n",kd=" ",ld=" -webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(",md=" : ",nd=" rotate(",od=" rotateX(",pd=" rotateY(",qd=" scaleX(",rd=" scaleY(",sd=" translateX(",td=" translateY(",ud=" translateZ(",vd="#",wd="#4ECDC4",xd="#556270",
yd="#666",Pd="#C44D58",Qd="#C7F464",Rd="#FF6B6B",Sd="#eeeeee",Td="%",Ud="%25",Vd="%27",Wd="%c [Matter] ",Xd="&",Yd="&nbsp;",Zd="')",$d="'autoplay='false'class='video'></embed>",ae="'classid='clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B'codebase='http://apple.com/qtactivex/qtplugin.cab'width='",be="'controller='",ce="'enablejavascript='true'postdomevents='true'scale='tofit'name='embedobj_",ze="'height='",Ae="'id='embedobj_",Be="'loop='",Ce="'volume='",De="(",Ee=")",Fe=") ",Ge="*",He=",",Ie=",M12=",Je=
",M21=",Ke=",M22=",Le=",SizingMethod='auto expand')",Me=",transparent),to(rgba(255,255,255,.5)))",Ne="-1",Oe="-10000",Pe="-2",Qe="-bottom",Re="-moz-",Se="-moz-perspective",Te="-ms-transform",Ue="-ms-transform-origin",Ve="-o-",We="-pie-background",Xe="-webkit-",Ye="-webkit-perspective",Ze="-webkit-tap-highlight-color",$e="-webkit-transform",af=".",bf=".AlphaImageLoader(sizingMethod='scale',src='",cf=".HYPE_element{-webkit-transform:rotateY(0);}video.HYPE_element{-webkit-transform:none;}^{color:#000;`size:16px;`weight:normal;`family:Helvetica,Arial,Sans-Serif;`weight:normal;`style:normal;`variant:normal;text-decoration:none;text-align:left;text-transform:none;text-indent:0;text-shadow:none;line-height:normal;letter-spacing:normal;white-space:normal;word-spacing:normal;@:baseline;border:none;background-color:transparent;background-image:none;-webkit-`smoothing:antialiased;-moz-backface-visibility:hidden;}",
df=".HYPE_scene ",ef=".Matrix(M11=",ff=".gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)",gf=".png",hf="/",jf="0",kf="0.0",lf="0123456789ABCDEF",mf="0px",cg="1",dg="1.0",eg="100",fg="100%",gg="50%",hg="600px",ig=": ",jg="</div>",kg="</style>",lg="<div style='overflow:auto;-webkit-overflow-scrolling:touch;width:100%;height:100%;'>",mg="<embed src='",ng="<iframe frameBorder='0'style='width:100%;height:100%;border:none'></iframe>",og='<style id="" type="text/css">',pg="=",qg="?",rg="@1x",sg=
"@2x",tg="APPLY ERR ",ug="Action",vg="Alpha(Opacity=",wg="Android",xg="BD",yg="BODY",zg="BackCompat",Ag="Body",vh="Composite",wh="Constraint",xh="Error in ",yh="False",zh="GET",Ah="GHIJKLMNOPQRSTUVWXYZ",Bh="HYPE_element",Ch="HYPE_element ",Dh="HYPE_element HYPE_scene",Eh="HYPE_element HYPE_scene ",Fh="HYPE_element Hype_scene ",Gh="HYPE_element_container",Hh="HYPE_persistent_symbols",Ih="HYPE_scene",Jh="HYPE_scene_index",Kh="HYP_a",Lh="HYP_b",Mh="HYP_c",Nh="HYP_d",Oh="HYP_e",Ph="HYP_f",Qh="HYP_g",
Rh="HYP_h",Sh="HYP_i",Th="HYP_j",Uh="HYP_k",Vh="HYP_l",Wh="HYP_m",Xh="HYP_n",Yh="HYP_o",Zh="HYP_p",$h="HYP_q",ai="HYP_t",bi="HYP_u",ci="HYP_w",di="HypeDocumentLoad",ei="HypeLayoutRequest",fi="HypeResourceLoad",gi="HypeSceneLoad",hi="HypeSceneUnload",ii="HypeSwipe",ji="HypeSymbolLoad",ki="HypeSymbolUnload",li="HypeTimelineAction",mi="HypeTimelineComplete",ni="HypeTriggerCustomBehavior",oi="L ",pi="L 0 0 L 40 0 L 40 40 L 0 40",qi="M",ri="MSPointerUp",si="MouseEvents",ti="MozBoxShadow",ui="N",vi="O",
wi="P",xi="Q",yi="R",zi="S",Ai="T",Bi="True",Ci="U",Di="V",Ei="W",Fi="World",Gi="YES",Hi="^div,^span,^applet,^object,^iframe,^h1,^h2,^h3,^h4,^h5,^h6,^p,^blockquote,^pre,^a,^abbr,^acronym,^address,^big,^cite,^code,^del,^dfn,^em,^img,^ins,^kbd,^q,^s,^samp,^small,^strike,^strong,^sub,^sup,^tt,^var,^b,^u,^i,^center,^dl,^dt,^dd,^ol,^ul,^li,^fieldset,^form,^label,^legend,^table,^caption,^tbody,^tfoot,^thead,^tr,^th,^td,^article,^aside,^canvas,^details,^embed,^figure,^figcaption,^footer,^header,^hgroup,^menu,^nav,^output,^ruby,^section,^summary,^time,^mark,^audio,^video{color:?;`size:?;`weight:?;`family:?;`weight:?;`style:?;`variant:?;text-decoration:?;text-align:?;text-transform:?;text-indent:?;text-shadow:?;line-height:?;letter-spacing:?;white-space:?;word-spacing:?;@:?;border:none;background-color:transparent;background-image:none;padding:0;box-sizing:content-box;}^p{display:block;$:1em 0;}^div,^layer{display:block;}^article,^aside,^footer,^header,^hgroup,^nav,^section{display:block;}^blockquote{display:block;$:1em 40px;}^figcaption{display:block;}^figure{display:block;$:1em 40px;}^q{display:inline;}^q:before{content:open-quote;}^q:after{content:close-quote;}^center{display:block;text-align:center;}^hr{display:block;$:.5em auto;border-style:inset;border-width:1px;}^h1,^h2,^h3,^h4,^h5,^h6{display:block;$-left:0;$-right:0;`weight:bold;}^h1{`size:2em;$-top:.67em;$|:.67em;}^h2{`size:1.5em;$-top:.83em;$|:.83em;}^h3{`size:1.17em;$-top:1em;$|:1em;}^h4{$-top:1.33em;$|:1.33em;}^h5{`size:.83em;$-top:1.67em;$|:1.67em;}^h6{`size:.67em;$-top:2.33em;$|:2.33em;}^table{display:table;border-collapse:separate;border-spacing:2px;border-color:gray;}^thead{display:table-header-group;@:middle;border-color:?;}^tbody{display:table-row-group;@:middle;border-color:?;}^tfoot{display:table-footer-group;@:middle;border-color:?;}^col{display:table-column;}^colgroup{display:table-column-group;}^tr{display:table-row;@:?;border-color:?;}^td,^th{display:table-cell;@:?;}^th{`weight:bold;}^caption{display:table-caption;text-align:center;}^ul,^menu,^dir{display:block;list-style-type:disc;$:1em 0;padding-left:40px;}^ol{display:block;list-style-type:decimal;$:1em 0;padding-left:40px;}^li{display:list-item;$:0;}^ul ul,^ol ul{list-style-type:circle;}^ol ol ul,^ol ul ul,^ul ol ul,^ul ul ul{list-style-type:square;}^dd{display:block;$-left:40px;}^dl{display:block;$:1em 0;}^dt{display:block;}^ol ul,^ul ol,^ul ul,^ol ol{$-top:0;$|:0;}^u,^ins{text-decoration:underline;}^strong,^b{`weight:bolder;}^i,^cite,^em,^var,^address{`style:italic;}^tt,^code,^kbd,^samp{`family:monospace;}^pre,^xmp,^plaintext,^listing{display:block;`family:monospace;white-space:pre;$:1em 0;}^mark{background-color:yellow;color:black;}^big{`size:larger;}^small{`size:smaller;}^s,^strike,^del{text-decoration:line-through;}^sub{@:sub;`size:smaller;}^sup{@:super;`size:smaller;}^nobr{white-space:nowrap;}^a{color:blue;text-decoration:underline;cursor:pointer;}^a:active{color:red;}^noframes{display:none;}^frameset,^frame{display:block;}^frameset{border-color:?;}^iframe{border:0;}^details{display:block;}^summary{display:block;}",
Ii="_",Ji="_blank",Ki="a",Li="aA",Mi="aB",Ni="aC",Oi="aD",Pi="aE",Qi="aI",Ri="aJ",Si="aK",Zj="aL",$j="aM",ak="aN",bk="aS",ck="aT",dk="aU",ek="aV",fk="aW",gk="aX",hk="aY",ik="aZ",jk="abort",kk="absolute",lk="acC",mk="afterAdd",nk="afterRemove",ok="afterRender",pk="afterUpdate",qk="alt",rk="aria-busy",sk="aria-hidden",tk="arraybuffer",uk="audio",vk="audio/ogg",wk="auto",xk="autoplay",yk="autostart",zk="b",Ak="bA",Bk="bB",Ck="bC",Dk="bF",Ek="bG",Fk="bH",Gk="bI",Hk="bJ",Ik="bK",Jk="bL",Kk="bM",Lk="bN",
Mk="bO",Nk="bP",Ok="bQ",Pk="bR",Qk="bS",Rk="bT",Sk="bU",Tk="bV",Uk="bW",Vk="backdrop-filter",Wk="background-origin",Xk="background-size",Yk="bcC",Zk="beforeAdd",$k="beforeRemove",al="beforeRender",bl="beforeUpdate",cl="below ",dl="block",el="blur(",fl="body",gl="body=",hl="boolean",il="border-radius",jl="box-reflect",kl="box-shadow",ll="boxShadow",ml="brightness(",nl="c",ol="cB",pl="cC",ql="cD",rl="cF",sl="cG",tl="cH",ul="cI",vl="cJ",wl="cK",xl="cL",yl="cQ",zl="cR",Al="cT",Bl="cV",Cl="cW",Dl="cX",
El="cY",Fl="cZ",Gl="cancel",Hl="canplaythrough",Il="click",Jl="collisionActive",Kl="collisionEnd",Ll="collisionStart",Ml="color: coral",Nl="color: red",Ol="composite",Pl="constraint",Ql="contrast(",Rl="controller",Sl="controls",Tl="d",Ul="deg",Vl="deviceorientation",Wl="div",Xl="down",Yl="drag",Zl="e",$l="element",am="embed",bm="embedobj_",cm="end",dm="enter",em="error",fm="exit",gm="f",hm="false",im="fcC",jm="file://",km="filter",lm="flat",mm="font-",nm="function",om="head",pm="height",qm="hidden",
rm="href",sm="http://",tm="hue-rotate(",um="hype-obj-",vm="hype-scene-",wm="iPad",xm="iPhone",ym="iPod",zm="ibooksimg://",Am="iframe",Bm="img",Cm="img_",Dm="inherit",Em="j",Fm="kTimelineDefaultIdentifier",Gm="kTimelinePhysicsIdentifier: ",Hm="keydown",Im="keypress",Jm="keyup",Km="l",Lm="left",Mm="linear-gradient(",Nm="loop",Om="m",Pm="mailto:",Qm="margin",Rm="mouseConstraint",Sm="mouseclick",Tm="mousedown",Um="mousemove",Vm="mouseout",Wm="mouseover",Xm="mouseup",Ym="move",Zm="mozHidden",$m="mozvisibilitychange",
an="msHidden",bn="msvisibilitychange",cn="mute",dn="n",en="no",fn="no-repeat",gn="none",hn="number",jn="object",kn="on",ln="onresize",mn="pageshow",nn="passive",on="playsinline",pn="pointer-events",qn="pointerup",rn="preserve-3d",sn="progid:DXImageTransform.Microsoft",tn="px",un="px) ",vn="r",wn="resize",xn="rgb",yn="rgba",zn="rgba(",An="rgba(0,0,0,0)",Bn="right",Cn="role",Dn="saturate(",En="script",Fn="sepia(",Gn="source",Hn="src",In="start",Jn="string",Kn="subject=",Ln="swipe",Mn="tX",Nn="tY",On=
"tabindex",Pn="tap",Qn="target",Rn="testPassive",Sn="ti",Tn="title",Un="touchcancel",Vn="touchend",Wn="touchmove",Xn="touchstart",Yn="transform-origin",Zn="transform-style",$n="true",ao="type",bo="up",co="url('",eo="user-select",fo="vertical-align",go="video",ho="video/ogg",io="video/quicktime",jo="video/webm",ko="visibilitychange",lo="warn",mo="webkitHidden",no="webkitvisibilitychange",oo="width",po="www.",qo="x-ibooks-th://",ro="z";function so(){return function(){}}
(function(){p.HYPE_596=function(V,E,Ma,de,Ti,Ui,db,x,pc,to,nf,of,ra,Vi,Bg,pf,uo,vo,ee){function Wi(a,b,c){var d=ka[xb],e={x:0,y:0};b=b.ba;a=a[K];for(var f,g,k=b[0],m=b[1],m=0;m<b[J];m++)g=b[m],e.x=g.x-a.x,e.y=g.y-a.y,f=-s.za(c,e),f<d&&(d=f,k=g);g=b[0<=k[nc]-1?k[nc]-1:b[J]-1];e.x=g.x-a.x;e.y=g.y-a.y;d=-s.za(c,e);m=g;g=b[(k[nc]+1)%b[J]];e.x=g.x-a.x;e.y=g.y-a.y;f=-s.za(c,e);f<d&&(m=g);return[k,m]}function Xi(a,b,c){for(var d=s.za(b[0],c),e=d,f=1;f<b[J];f+=1){var g=s.za(b[f],c);g>e?e=g:g<d&&(d=g)}a.min=
d;a.max=e}function Cg(a,b,c){for(var d={},e={},f={lb:ka[xb]},g,k,m=0;m<c[J];m++){k=c[m];Xi(d,a,k);Xi(e,b,k);g=d.min<e.min?d.max-e.min:e.max-d.min;if(0>=g){f.lb=g;break}g<f.lb&&(f.lb=g,f.axis=k,f.Rc=m)}return f}function Yi(a,b,c,d){return{id:a+He+b+He+c+He+d,dc:a,Qb:b,ec:c,Sb:d}}function qf(a){var b=zd(a);if(!(ra!=h||a==j||rf==h||b==j||b.Yc==h))if(b=b.Cc[T[a.id]],b!=j){var c=r(a,Kk,0),d=r(a,Sk,0.5),e=r(a,Tk,0.1),f=r(a,Al,0.01);a=r(a,Uk,0.0010);0>=a&&(a=1E-6);1==c&&(d=0,e=1,a=ha);b.Wa=d;b.Ma=e;b.wc=
f;O.$a.$d(b,a)}}function Oc(a){var b,c,d=zd(a);if(!(ra!=h||a==j||rf==h||d==j||d.Yc==h)){var e=d.ub.ma,f=T[a.id],g=d.Cc[f],k=r(a,Kk,0);if(!(0==k&&g==j)){Zi(a)==h&&(k=1);var m=r(a,Sk,0.5),n=r(a,Tk,0.1),y=r(a,Al,0.01),q=r(a,Uk,0.0010);0>=q&&(q=1E-6);1==k&&(m=0,n=1,q=ha);var B=r(a,lk,0),v=r(a,Yk,0),G=r(a,im,0);b=[1,0,0,1,0,0];c=Dg(a);c[H](a);for(var I=0;I<c[J];I++)b=$i(b,aj(c[I]));c=T[a.id];var I=Wb(c,h),M=Xb(c,h);c=Yb(b,0,0);var z=Yb(b,0+I,0),F=Yb(b,0+I,0+M);b=Yb(b,0,0+M);var X=u[Ab](z.y-c.y,z.x-c.x)*
(180/u.PI),I=u[Cb](u.pow(z.x-c.x,2)+u.pow(z.y-c.y,2)),M=u[Cb](u.pow(b.x-c.x,2)+u.pow(b.y-c.y,2)),z=u.min(c.x,F.x)+u.abs((F.x-c.x)/2),F=u.min(c.y,F.y)+u.abs((F.y-c.y)/2);b=I;c=M;I=z-I/2+b/2;M=F-M/2+c/2;X=u.PI*(X/180);B=I-B;v=M-v;G=X-G*u.PI/180;F=g!=j&&0==k;(g==j&&0!=k&&0!=b&&0!=c)==h?(g=O.$a[lc]({Pb:a.id}),O.zb.add(e,g),d.Cc[f]=g):F==h&&(O.zb.remove(e,g),delete d.Cc[f],g=j);if(g!=j){e=T[a.id];d=Wb(e,h);e=Xb(e,h);F=f=1;z=Dg(a);z[H](a);for(var ca=0;ca<z[J];ca++)var s=z[ca],f=f*r(s,yl,1),F=F*r(s,zl,1);
var A=z=0,x=ca=0,E=s=0,C=0,D=0;if(r(a,Si)==gg)z=d/2,ca=d/2,s=d/2,C=d/2,A=e/2,x=e/2,E=e/2,D=e/2;else var z=r(a,Si,0),s=r(a,Zj,0),ca=r(a,Qi,0),Z=r(a,Ri,0),A=u.max(u.max(z+ca,s+Z),e),x=u.max(u.max(z+s,ca+Z),d),z=u.min(e*(z/A),d*(z/x)),ca=u.min(e*(ca/A),d*(ca/x)),s=u.min(e*(s/A),d*(s/x)),C=u.min(e*(Z/A),d*(Z/x)),A=z,x=ca,E=s,D=C;Z=[];mb(Z,z*f,0);mb(Z,(d-s)*f,0);if(0<s||0<E)for(var P=sf(s,E),w=270+P;360>w;w+=P){var R=s*O.Ka.cos(w*u.PI/180)+(d-s),S=E*O.Ka.sin(w*u.PI/180)+E;mb(Z,R*f,S*F)}mb(Z,d*f,E*F);mb(Z,
d*f,(e-D)*F);if(0<C||0<D){P=sf(C,D);for(w=0+P;90>w;w+=P)R=C*O.Ka.cos(w*u.PI/180)+(d-C),S=D*O.Ka.sin(w*u.PI/180)+(e-D),mb(Z,R*f,S*F)}mb(Z,(d-C)*f,e*F);mb(Z,ca*f,e*F);if(0<ca||0<x){P=sf(ca,x);for(w=90+P;180>w;w+=P)R=ca*O.Ka.cos(w*u.PI/180)+ca,S=x*O.Ka.sin(w*u.PI/180)+(e-x),mb(Z,R*f,S*F)}mb(Z,0,(e-x)*F);mb(Z,0,A*F);if(0<z||0<A){P=sf(z,A);for(w=180+P;270>w;w+=P)R=z*O.Ka.cos(w*u.PI/180)+z,S=A*O.Ka.sin(w*u.PI/180)+A,mb(Z,R*f,S*F)}d=Q;for(e=0;e<Z[J];e++)1<Z[J]&&e==Z[J]-1&&Z[e].x==Z[0].x&&Z[e].y==Z[0].y||
(d+=oi+Z[e].x+kd+Z[e].y+kd);k=1==k;if(1<1E5*u.abs(g[K].x-I)||1<1E5*u.abs(g[K].y-M)||g.Xc==aa||1<1E5*u.abs(g.Xc-b)||g.Wc==aa||1<1E5*u.abs(g.Wc-c)||1<1E5*u.abs(g.ca-X)||g.ya.path!=d||g.Wa!=m||g.Ma!=n||g.wc!=y||g.Ab!=q||g.da!=k||g.ia!=l)O.$a.ae(g,k),O.$a.kd(g,0),O.$a.$d(g,q),O.$a.be(g,O.ie.Md(d)),O.$a.Hc(g,{x:I,y:M}),O.$a.kd(g,X),O.$a.Se(g,{x:I-B,y:M-v}),O.$a.Re(g,X-G),g.ya.path=d,g.Wa=m,g.Ma=n,g.wc=y,O.wd.set(g,l),g.Ba={x:0,y:0},g.lc=0,g.ka={x:0,y:0},g.Fa={x:0,y:0,ca:0},g.Ra=0,g.rb=0,g.Xc=b,g.Wc=c,
ea(a,Zh,l);qc()}}}}function aj(a){var b=T[a.id],c=r(a,Lh,0),d=r(a,Kh,0),e=r(a,gm,0),f=r(a,Mk,0),g=r(a,yl,1),k=r(a,zl,1),m=r(a,Mn,0.5);a=r(a,Nn,0.5);var n=Wb(b,h),b=Xb(b,h),m=m*n;a*=b;b=[1,0,0,1,0,0];b=rc(b,c,d);b=rc(b,m,a);b=Eg(b,u.PI*((e+f)/180));b=Fg(b,g,k);return b=rc(b,-m,-a)}function Dg(a){for(var b=[];a!=j;){a=r(a,Dk);if(a==j)break;a=Ga(a);if(fe(a)==h)break;b[hd](0,0,a)}return b}function mb(a,b,c){b=b[Ya](3);c=c[Ya](3);(0==a[J]||a[a[J]-1].x!=b||a[a[J]-1].y!=c)&&a[H]({x:b,y:c})}function sf(a,
b){var c=u.max(a,b);return u.max(u.min(u[Va](90/c),90),6)}function Zi(a){var b=eb[T[a.id]];return 2==r(a,Kk,0)&&b!=j&&(b.a!=j||b.b!=j)?h:l}function Gg(a,b,c,d){if(-1!=nb(ge,b)&&0!=r(a,Kk,0)){var e=zd(a);b=Q+b+ol;for(var f=r(a,b,[]);4<=f[J];)f.shift();f[H]({value:c,time:d});ea(a,b,f);-1==nb(e.uc,a.id)&&e.uc[H](a.id)}}function wo(a){var b,c,d;a=O.zb.Ha(a.ma);for(var e=0;e<a[J];e++)if(d=a[e],!(d.Pb==j||d.da==h)){var f=t[bb](d.Pb);c=d.Xc;var g=d.Wc;b=f;var k=d[K].x-ma(c,10)/2,m=d[K].y-ma(g,10)/2;d=d.ca*
(180/u.PI);for(var n=r(b,yl,1),y=r(b,zl,1),q=[1,0,0,1,0,0],B=Dg(b),v=0;v<B[J];v++)q=$i(q,aj(B[v]));var B=q[0],v=q[1],G=q[2],I=q[3],M=q[4],q=q[5],z=B*I-v*G;z?(z=1/z,q=[I*z,-v*z,-G*z,B*z,(G*q-I*M)*z,(v*M-B*q)*z]):q=j;q=rc(q,k,m);q=rc(q,c/2,g/2);q=Eg(q,u.PI*(d/180));q=Fg(q,1/n,1/y);q=rc(q,-(c/2),-(g/2));k=Yb(q,0,0);n=Yb(q,0+c,0);m=Yb(q,0+c,0+g);g=Yb(q,0,0+g);d=u[Ab](n.y-k.y,n.x-k.x)*(180/u.PI);c=u[Cb](u.pow(n.x-k.x,2)+u.pow(n.y-k.y,2));g=u[Cb](u.pow(g.x-k.x,2)+u.pow(g.y-k.y,2));q=n=aa;n=u.min(k.x,m.x)+
u.abs((m.x-k.x)/2);q=u.min(k.y,m.y)+u.abs((m.y-k.y)/2);k=b;B=n-c/2;v=q-g/2;z=r(k,Qk,0);if(Pc!=h||0==z||36==z)b=B,c=v;else{c=T[k.id];b=tf(c);var I=uf(b),F=Hg(b),m=uf(c);b=r(k,nl,j);g=r(k,Tl,j);b==j&&(b=m[Pa]);g==j&&(g=m[gd]);var X=Wb(c),ca=Xb(c),s=X-b,A=ca-g,x=b,M=g,k=B;c=v;var m=0!=(z&1),q=0!=(z&4),E=0!=(z&2),n=0!=(z&8),y=0!=(z&32),C=0!=(z&16),G=0!=(z&64)&&E==h&&C==h,z=0!=(z&128)&&E==h&&C==h,w=G==h||z==h,Z=F[Pa]/I[Pa],D=F[gd]/I[gd];m==h&&q==h&&E==h?x=X+(F[Pa]-I[Pa])-s:E==h&&(x=u[$a](X*Z-s));n==h&&
y==h&&C==h?M=ca+(F[gd]-I[gd])-A:C==h&&(M=u[$a](ca*D-A));m==h&&q==l&&E==l?k=B-(F[Pa]-I[Pa]):m==h&&q==h&&E==l?k=(B+X/2)/Z-X/2:m==h&&q==h&&E==h?k=B:E==h&&(k=m==h&&q==l?B+(x-b)-(F[Pa]-I[Pa]):B);n==h&&y==l&&C==l?c=v-(F[gd]-I[gd]):n==h&&y==h&&C==l?c=(v+ca/2)/D-ca/2:n==h&&y==h&&C==h?c=v:C==h&&(c=n==h&&y==l?v+(M-g)-(F[gd]-I[gd]):v);w==h&&(v=x,B=M,I=x/b,F=M/g,M=I,G==h?M=I<=F?I:F:z==h&&(M=I>=F?I:F),x=b*M,M*=g,b=v-x,g=B-M,m==h&&q==l?k-=b:m==h&&q==h&&(k-=b/2),n==h&&y==l?c-=g:n==h&&y==h&&(c-=g/2));b=k}r(f,Zh,
l)==l&&(da(f,Mn,0.5),da(f,Nn,0.5),ea(f,Zh,h));da(f,Ki,b);da(f,zk,c);da(f,gm,d[Ya](6))}}function bj(a,b){vf=a.Yc=h;var c=u[$a](1E3/60),d=u[ab](1E3*b),e=d-a.Qd;a.Qd=d;a.kc+=u[ab](e);for(d=0;a.kc>=c&&20>d;)O.Ic[ed](a.ub,c),a.kc-=c,d+=1;O.Ic.ya(a.ub);Ig();a.Yc=l}function wf(a){a=O.zb.Ha(a.ub.ma);for(var b=0;b<a[J];b++){var c=a[b];c.Pb!=j&&O.wd.set(c,l)}}function cj(a,b){if(!(b.gamma==j||b.beta==j)){var c=u.sin(b.gamma*u.PI/180),d=u.sin(b.beta*u.PI/180)*u.cos(b.gamma*u.PI/180);a.Id=(-u.atan(c/d)+(0>d?
u.PI:0))*(180/u.PI);a.Jd=u[Cb](c*c+d*d);d=a[Bb];xf(d)==h&&(c=yf(d)*a.Jd,d=zf(d)+a.Id,a.ub.ma.Ub.x=c*O.Ka.cos(d*u.PI/180),a.ub.ma.Ub.y=c*O.Ka.sin(d*u.PI/180));wf(a);qc()}}function Af(a){for(;a!=j;){var b=a;a=r(b,Dk);if(a==j){var c=Mb(b),b=x[c].v[T[b.id]];b!=j&&(a=b.bF)}a=Ga(a);if(a==j)break;if(fe(a)==h)return a}return j}function zd(a){a=Af(a);return Jg(a!=j?a.id:j)}function Jg(a){a==j&&(a=E);for(var b=0;b<Ha[J];b++){var c=Ha[b];if(c[Bb]==a)return c}return j}function Kg(a){return a==j||a[Bb]==j?l:ia[T[a[Bb]]]!=
j}function Lg(a){return(a==E||a==j)==h?l:x[W].v[T[a]].bX}function xf(a){return(a==E||a==j)==h?x[W].cA:Lg(a)==h?(a=Af(t[bb](a)),a==j?xf(j):xf(a.id)):x[W].v[T[a]].cA}function zf(a){return(a==E||a==j)==h?x[W].bZ-90:Lg(a)==h?(a=Af(t[bb](a)),a==j?zf(j):zf(a.id)):x[W].v[T[a]].bZ-90}function yf(a){return(a==E||a==j)==h?x[W].bY:Lg(a)==h?(a=Af(t[bb](a)),a==j?yf(j):yf(a.id)):x[W].v[T[a]].bY}function Mg(a){if(Jg(a)==j){var b={};Ha[H](b);a==j&&(a=E);b.identifier=a;b.Cc={};b.Qf={};b.uc=[];b.Qd=0;b.kc=0;var c=
t[bb](a),c=O.Ic[lc](c,{Uc:h});b.ub=c;var d=yf(a),e=zf(a);a=xf(a);c.ma.Ub.x=d*O.Ka.cos(e*u.PI/180);c.ma.Ub.y=d*O.Ka.sin(e*u.PI/180);b.Id=0;b.Jd=1;p[Fb]!=j&&a==h?p[Fb](Vl,function(a){cj(b,a)},h):p[Fb]!=j&&p[wc](Vl,function(a){cj(b,a)},h);c.ma.fa.min.x=-2E4;c.ma.fa.min.y=-2E4;c.ma.fa.max.x=2E4;c.ma.fa.max.y=2E4;c.ya.Ga.Yd=wo}}function Yb(a,b,c){return{x:a[0]*b+a[2]*c+a[4],y:a[1]*b+a[3]*c+a[5]}}function rc(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3];return[d,e,f,g,d*b+f*c+a[4],e*b+g*c+a[5]]}function Fg(a,
b,c){return[a[0]*b,a[1]*b,a[2]*c,a[3]*c,a[4],a[5]]}function Eg(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=u.sin(b),k=u.cos(b);return[c*k+e*g,d*k+f*g,c*-g+e*k,d*-g+f*k,a[4],a[5]]}function $i(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],k=b[1],m=b[2],n=b[3],y=b[4],q=b[5];return[c*g+e*k,d*g+f*k,c*m+e*n,d*m+f*n,c*y+e*q+a[4],d*y+f*q+a[5]]}function dj(a,b,c){he!=j&&(a={element:a,triggerOnce:l,elementOffset:0},a[c]=function(){b()},c=new he.hypeS(a),Bf[H](c))}function ua(a,b){return function(c){for(var d=0;d<
b[J];d++){var e=b[d],f=e.p;if(1==f)ie(xo(e.e,e.f),e.g,e.d);else if(3==f)e.b!=j&&(f=e.z!=aa?e.z:l,Zb(e.b,a!=j?a.id:j,f));else if(7==f)e.b!=j&&$b(e.b,e.r);else if(8==f)e.b!=j&&(f=e.z!=aa?e.z:l,Ad(e.b,f,h,e.J!=aa?e.J:l));else if(9==f)e.b!=j&&e.i!=j&&ac(e.i,e.b,l,h);else if(4==f){var g;e.h!=j?g=Ui[to[e.h]]:e.hc!=j&&(g=e.hc);try{g(ja.API,a,c)}catch(k){Ng(xh+y+ig+k)}}else if(5==f)f=ej(e.j),f!=j&&(e=e.k==h,(e=9>A.aa?e||4==c[tb]:e||1==c[tb]||c.metaKey==h)?9>A.aa||A.Vd||A.vc!=j?p.open(f,Ji):(9==A.aa||15>A[yb])&&
!(c instanceof MouseEvent)?p.open(f,Ji):(e=t[zb](Ki),e[Gb](rm,f),e[Gb](Qn,Ji),t[Gc][Ja](e),f=t.createEvent(si),f.initMouseEvent(Il,c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c[ic],c[jc],c[xc],c.altKey,c.shiftKey,c.metaKey,c[tb],t[Gc][dd]),e.dispatchEvent(f),t[Gc][Ic](e)):p.top.location=f);else if(6==f){var m=e.l,n=e.m,e=e.n,f=Pm;m!=j&&(f+=escape(m));if(n!=j||e!=j)f+=qg,m=[],n!=j&&m[H](Kn+ba(n)),e!=j&&m[H](gl+ba(e)),f+=m.join(Xd);f!=Pm&&(p.top.location=f)}else if(12==f)f=e.o,e=e.q,
e!=h&&(e=l),f!=j&&yo(f,e);else if(13==f)f=e.o,f!=j&&Og(f)[Fc]();else if(14==f)f=e.B,f!=j&&fj(f);else if(15==f){var y=e.s;arguments=e.t;f=Q+y+De+arguments.join(He)+Ee;try{eval(f)}catch(q){Ng(xh+y+ig+q)}}}}}function xo(a,b){var c=-1;if(b==j||0==b)a:{for(c=0;c<db[J];c++)if(db[c].o==a)break a;c=-1}else 1==b&&ob+1<db[J]?c=ob+1:2==b?c=ob-1:3==b?c=0:4==b&&(c=db[J]-1);return c}function Cf(a,b){return function(c){Pg(c,b,T[a.id])}}function Qg(a,b){return function(c){gj(c,b,T[a.id])}}function Df(a){var b=r(a,
Si,jf),c=r(a,Zj,jf),d=r(a,Qi,jf),e=r(a,Ri,jf),b=typeof b!=hn?b:P(b),c=typeof c!=hn?c:P(c),d=typeof d!=hn?d:P(d),e=typeof e!=hn?e:P(e);a[N][il]=Q+b+kd+c+kd+e+kd+d}function je(){}function hj(a){var b=r(a,gk,8),c=r(a,fk,0);A.zd==j&&(1==1-c&&a[N].removeProperty!=j?a[N].removeProperty(ja.Pa+jl):a[N][ja.Pa+jl]=cl+P(b)+ld+(1-c)+Me)}function Rg(a){var b=r(a,Di);if(b!=j){var c=Q;b==cg?c=ej(r(a,Ei)):b==jf&&(c=Q+de+hf+r(a,Ci));b=ng;A.pb!=j&&(b=lg+b+jg);pa(a,b);a[gc](Am)[0].src=c}}function ij(a,b){if(!(12>A.aa)){var c=
b==h?xg:Q,d=r(a,c+Jk,0),e=r(a,c+Ek,0),f=r(a,c+Fk,0),g=r(a,c+Gk,1),k=r(a,c+Hk,1),c=r(a,c+Ik,1),m=Q;0!=d&&(m+=el+d+un);0!=e&&(m+=Fn+e+Fe);0!=f&&(m+=tm+(Q+f+Ul)+Fe);1!=g&&(m+=Dn+g+Fe);if(1!=k){if(6==A.Qe||A.pb!=j&&536.26>=A.Za)k-=1,1<k&&(k=1);m+=ml+k+Fe}1!=c&&(m+=Ql+c+Fe);m==Q&&(m=gn);b==h?(a[N][ja.Pa+Vk]=m,a[N][Vk]=m,d=a[N][fd],Da(a[N],gn),Da(a[N],a[N][fd]+(Q+a[cb]).substring(0,0)),Da(a[N],d)):(a[N][ja.Pa+km]=m,a[N].filter=m)}}function Bd(a){ij(a,l)}function Cd(a){ij(a,h)}function Ef(a){var b=r(a,Bk),
c=r(a,Ck),d=r(a,Ak),e=r(a,ik);b==j||(c==j||d==j||e==j)||(a[N].textShadow=(0==b&&0==c&&0==e)==h?gn:Q+P(b)+kd+P(c)+kd+P(e)+kd+Db(d))}function Ff(a){var b=r(a,zi),c=r(a,Ai),d=r(a,yi),e=r(a,xi);if(!(b==j||c==j||d==j||e==j))for(var f=[ja.Pa+kl,ti,ll,kl],g=0==b&&0==c&&0==e,b=P(b)+kd+P(c)+kd+P(e)+kd+Db(d),c=0;c<f[J];c++)g==h?a[N][cd]?a[N][cd](f[c]):a[N].removeProperty(f[c]):a[N][f[c]]=b}function ke(a){var b=r(a,Qh,Q),c=r(a,Ph,Q),d=r(a,gm,0),e=r(a,yl,1)*r(a,ai,1),f=r(a,zl,1)*r(a,bi,1),g=r(a,Mk,0),k=r(a,Mh),
m=r(a,Oh),n=Q,y=0!=d||0!=g||1!=e||1!=f,q=a[Zc];a[N].borderTopWidth!=Q&&(q+=ma(a[N].borderTopWidth));a[N].borderBottomWidth!=Q&&(q+=ma(a[N].borderBottomWidth));var B=a[oc];a[N].borderLeftWidth!=Q&&(B+=ma(a[N].borderLeftWidth));a[N].borderRightWidth!=Q&&(B+=ma(a[N].borderRightWidth));b!=Q&&(n+=kd+b);c!=Q&&(n+=kd+c);b=j;if(y==h)var c=r(a,Mn,0.5)*B,v=r(a,Nn,0.5)*q,b=[1,0,0,1,0,0],b=rc(b,c,v),b=Eg(b,u.PI*((d+g)/180)),b=Fg(b,e,f),b=rc(b,-c,-v),n=n+(kd+(ja.Ac+ef+b[0]+Ie+b[2]+Je+b[1]+Ke+b[3]+Le));k!=j&&(n+=
kd+k);m!=j&&(n+=kd+m);a[N].filter=n;if(y==h){e=d=j;q=[{x:0,y:0},{x:B,y:0},{x:0,y:q},{x:B,y:q}];for(B=0;B<q[J];B++){f=Yb(b,q[B].x,q[B].y);if(d==j||f.x<d)d=f.x;if(e==j||f.y<e)e=f.y}d=ma(d[Ya](0));e=ma(e[Ya](0));ea(a,Rh,d);ea(a,Sh,e);sa(a[N],r(a,Lh,0)+d);a[N].top=r(a,Kh,0)+e}}function le(a){var b=Sg(a),c=b==l?j:r(a,Lh),d=b==l?j:r(a,Kh),e=r(a,Ok,0),f=r(a,Pk,0),g=r(a,hk,0),k=r(a,gm,0),m=r(a,Mk,0),n=r(a,yl,1)*r(a,ai,1),y=r(a,zl,1)*r(a,bi,1),q=r(a,$h),B=0!=r(a,Jk,0),v=r(a,Mn,0.5),G=r(a,Nn,0.5),b=Q;if(q==
j){for(var q=l,I=Mb(a),I=x[I].v,M=T[a.id];M!=j&&I[M]!=j;)if(M=I[M].bF,M!=j&&I[M]!=j&&(I[M].cQ!=j||I[M].cR!=j||Pc==h&&0!=(I[M].bS&256))){q=h;break}ea(a,$h,q)}q=pf==h&&-1==a[mc][ub](Ih)&&1==n&&(1==y&&q==l)&&!(B==h&&50<=A.Tc);if(10<=A.aa&&0==k&&(1!=n||1!=y)&&0==r(a,ui,0)&&0==r(a,vi,0)&&0==r(a,wi,0)&&0==r(a,qi,0))k=1E-5;c!=j&&(b+=sd+P(c,2)+Fe);d!=j&&(b+=td+P(d,2)+Fe);0!=e&&(b+=ud+P(e)+Fe);0!=m&&r(a,Nk)==Gi&&(b+=nd+(Q+m+Ul)+Fe);0!=k&&(b+=nd+(Q+k+Ul)+Fe);if(A.fc==h){if(0!=g||q==h)b+=pd+(Q+g+Ul)+Fe;0!=f&&
(b+=od+(Q+f+Ul)+Fe)}1!=n&&(b+=qd+n+Fe);1!=y&&(b+=rd+y+Fe);c=Q+(Q+100*v+Td)+kd+(Q+100*G+Td);a[N][ja.Pa+Yn]=c;a[N].MozTransformOrigin=c;a[N].OTransformOrigin=c;a[N][Ue]=c;a[N][Yn]=c;a[N][$e]=b;a[N].MozTransform=b;a[N].OTransform=b;a[N][Te]=b;a[N].transform=b}function Dd(a){9>A.aa?ke(a):le(a);ra==h&&Oc(a)}function Tg(a){function b(a,b){return Q+a+Mm+(Q+(b==h?(u.abs(e)+180)%360:(360-u.abs(e)+270)%360)+Ul)+He+Db(c)+He+Db(d)+Ee}var c=r(a,dn);if(!(c==j||c==Q)){var d=r(a,Om);if(!(d==j||d==Q)){var e=r(a,Km);
e!=j&&(A.Za!=j?Ca(a[N],b(ja.Pa,l)):A.Ae!=j?Ca(a[N],b(Re,l)):10>A.aa?a[N][We]=b(Q,l):Ca(a[N],15>A[yb]?b(Ve,l):b(Q,h)))}}}function jj(a){var b=0==r(a,Zl,1)&&r(a,Li)==j&&r(a,Pi)==j&&r(a,Mi)==j&&r(a,Lk)==j;if(r(a,ci,l)!=b){var c=r(a,Sn);b==h?(a[Gb](sk,h),Na.ti(a,j)):(a[cd](sk),Na.ti(a,c));ea(a,ci,b)}}function kj(a){var b=a[N][fd];Da(a[N],r(a,El,l)==h?gn:r(a,vn,Q));b==gn&&Ug(T[a.id])}function Nb(a){Qc[a.id]=j;Rc(a)}function Rc(a){try{if(vf==h)-1==nb(me,a)&&me[H](a);else{var b=r(a,Qk,36),c=Sg(a),d=T[a.id],
e=tf(d),f=uf(e),g=Hg(e),k=uf(d),m=r(a,Ki,0),n=r(a,zk,0),y=r(a,nl,j),q=r(a,Tl,j),B=e=h;y==j&&(e=l,y=k[Pa]);q==j&&(B=l,q=k[gd]);var v=Wb(d),G=Xb(d),I=G-q,d=m,k=n,M=v,z=G,F=l;if(Pc==h&&36!=b){var X=0!=(b&1),ca=0!=(b&4),s=0!=(b&2),x=0!=(b&8),E=0!=(b&32),C=0!=(b&16),D=0!=(b&64)&&s==h&&C==h,w=0!=(b&128)&&s==h&&C==h,F=0!=(b&256)&&(s==h||C==h),Z=g[Pa]/f[Pa],S=g[gd]/f[gd];s==h&&(M=X==h&&ca==h?v+(g[Pa]-f[Pa]):u[$a](v*Z));X==h&&ca==h&&s==l?(b=m+v/2,d=u[$a](b*Z-v/2)):X==h&&ca==l&&s==h?d=g[Pa]-f[Pa]+m-(M-v):X==
h&&ca==l?d=g[Pa]-f[Pa]+m:X==l&&ca==l&&(d=u[$a](m*Z));C==h&&(z=x==h&&E==h?G+(g[gd]-f[gd]):u[$a](G*S));x==h&&E==h&&C==l?k=u[$a]((n+G/2)*S-G/2):x==h&&E==l&&C==h?k=g[gd]-f[gd]+n-(z-G):x==h&&E==l?k=g[gd]-f[gd]+n:x==l&&E==l&&(k=u[$a](n*S));if((D==h||w==h)==h)g=M,f=z,n=M/v,Z=z/G,S=n,D==h?S=n<=Z?n:Z:w==h&&(S=n>=Z?n:Z),M=u[$a](v*S),z=u[$a](G*S),D=g-M,w=f-z,X==h&&ca==l?d+=D:X==h&&ca==h&&(d+=u[$a](D/2)),x==h&&E==l?k+=w:x==h&&E==h&&(k+=u[$a](w/2))}var W=u.max(0,M-(v-y)),R=u.max(0,z-I);ra==h&&(ea(a,Xh,W),ea(a,
Yh,R));e==h?(F==h&&(d+=r(a,Mn,0.5)*(M-v),ea(a,ai,u.max(0,M/v)),W=y),oa(a[N],P(W,2))):oa(a[N],Q);B==h?(F==h&&(k+=r(a,Nn,0.5)*(z-G),ea(a,bi,u.max(0,z/G)),R=q),Fa(a[N],P(R,2))):Fa(a[N],Q);if(8>A.aa){var V=t[bb](Cm+a.id);V!=j&&(y=function(){oa(V[N],P(a[oc]));Fa(V[N],P(a[Zc]))},0==a[oc]&&0==a[Zc]?p[vc](y,0):y())}if(9>A.aa){r(a,gm)!=j&&ke(a);var O=a[Hc][wb][bm+a.id];O!=j&&(O[Gb](oo,W),O[Gb](pm,R))}ea(a,Kh,k);ea(a,Lh,d);c==l&&(k+=r(a,Sh,0),d+=r(a,Rh,0),a[N].top=P(k),sa(a[N],P(d)));if(c==h||F==h)9>A.aa?ke(a):
le(a);ra==h&&Oc(a);Vg==l&&lj()}}catch(L){}}function ej(a){a!=j&&0===a[ub](po)&&(a=sm+a);return a}function Gf(a){return a[Xa](/'/g,Vd)}function nb(a,b){if(a[ub])return a[ub](b);for(var c=0;c<a[J];c++)if(a[c]==b)return c;return-1}function mj(a){return typeof a==Jn&&(7==a[J]&&a[kb](0)==vd||0==a[ub](xn)&&a[ub](Ee)==a[J]-1)}function nj(a,b,c){var d=c.ha,e=Ob(a,c),f=a.d,g=a.i,k=a.o,m=d==l?a.b:j,n=m==j?c.ha?a.e:a.s:m,m=d==h?a.b:j,y=m==j?c.ha?a.s:a.e:m,q=a.f,m=Ga(k),f=u.min(1,(b-e)/f);d==h&&(f=1-f);e=1;if(q==
Ki)e=1==f?1:0;else if(q==zk)e=f;else a:{for(var e=oj[q],B=q=j,v=0;v<e[J];v++){for(var G=e[v],I=0;I<G.ra[J];I++){B=G.ra[I];if(B[Bc].x>=f){e=q!=j?q[Bc].y+(B[Bc].y-q[Bc].y)*(f-q[Bc].x)/(B[Bc].x-q[Bc].x):B[Bc].y;break a}q=B}q=j}e=B[Bc].y}f=d==l?n:y;q=a.a;if(q!=aa){d=Wg[q];if(a.b!=j){if(c.Dc[q]==j&&(d=a.o,n=a.a,n!=aa)){y=Wg[n];a={};for(var v=[],M=B=0,G=0;G<y.La[J];G++){I=y.La[G];if(0==G)var B=Wb(d),M=Xb(d),z=fa[d].b,B=fa[d].a+B/2-I.fb.x,M=z+M/2-I.fb.y;v[H]({fb:{x:I.fb.x+B,y:I.fb.y+M},Ib:{x:I.Ib.x+B,y:I.Ib.y+
M},Bb:{x:I.Bb.x,y:I.Bb.y},Rb:{x:I.Rb.x,y:I.Rb.y},length:0,ra:[]});M=B=0}a.La=v;xa(a,Xg(a.La,h));c.Dc[n]=a;n=Ga(d);if(r(n,Nk)==Gi){for(var F,n=0;n<c.ua[J];n++)if(y=c.ua[n],y.i==Mk){F=y;break}F!=j&&(a=pj(a,0,d),F.b=a.wb)}}d=c.Dc[q]}c=pj(d,e,k);g==Ki?(f=c.x,r(m,Nk)==Gi&&da(m,Mk,c.wb)):g==zk&&(f=c.y)}else if(d==h&&(e=1-e),typeof n==hn||typeof y==hn)c=qj(n),k=qj(y),f=c+(k-c)*e;else if(mj(n)==h&&mj(y)==h){c=Yg(n);k=Yg(y);F=[];for(f=0;4>f;f++)F[f]=c[f]+(k[f]-c[f])*e;f=rj(F)}else 1==e&&(f=y);da(m,g,f);ra==
h&&Gg(m,g,f,b)}function pj(a,b,c){var d;d=a[J];var e=0,f,g=0,g={};if(0>b||1<b){var k=e=f=j,m=1,n=b;if(0>b){var y=a.La[0];2<=y.ra[J]&&(f=y.ra[0],e=y.ra[1],k=f)}else m=-1,n=1-b,y=a.La[a.La[J]-1],2<=y.ra[J]&&(f=y.ra[y.ra[J]-2],k=e=y.ra[y.ra[J]-1]);if(f!=j&&e!=j){a=m*(e[Bc].x-f[Bc].x);b=m*(e[Bc].y-f[Bc].y);d*=n;0==b?(g.y=0,g.x=d):(g.y=u[Cb](u.pow(d,2)/(u.pow(a,2)/u.pow(b,2)+1)),g.x=g.y*a/b);if(0<a&&0<g.x||0>a&&0>g.x)g.x*=-1;if(0<b&&0<g.y||0>b&&0>g.y)g.y*=-1;g.x+=k[Bc].x;g.y+=k[Bc].y;g.wb=sj(f[Bc],e[Bc])}}else if(0==
d)g={x:a.La[0].fb.x,y:a.La[0].fb.y,wb:0};else{if(1==b)d=a.La,f=d[d[J]-1],g=1;else{for(g=0;g<a.La[J];g++){y=a.La[g];if((y[J]+e)/d>b){f=y;break}e+=y[J]}g=(b-e/d)/(f[J]/d);d=f[J]*g;for(b=a=g=0;b<f.ra[J];b++)if(e=f.ra[b],a+e[J]<=d)a+=e[J],g=b;else break;g=(g+(d-a)/(g+1<f.ra[J]?f.ra[g+1]:f.ra[f.ra[J]-1])[J])/(f.ra[J]-1)}g=tj(f,g)}d=g;d.x-=Wb(c)/2;d.y-=Xb(c)/2;return d}function Xb(a,b){var c=Ga(a),d=r(c,b==h?Yh:Tl,0),e=0;0==d?d=c[Zc]:e=r(c,ek,0)+r(c,bk,0);return d+e+(r(c,wi,0)+r(c,qi,0))}function Wb(a,
b){var c=Ga(a),d=r(c,b==h?Xh:nl,0),e=0;0==d?d=c[oc]:e=r(c,ck,0)+r(c,dk,0);return d+e+(r(c,vi,0)+r(c,ui,0))}function Zg(a,b,c){for(var d=b.eb;d<c[J];d++){var e=c[d],f=Ob(e,b),g=e.o,k=e.i;if(a>=f)b.eb=d+1,pb[g][k]==b.ea&&(1==e.p&&b.oa==h?(e=x[W].v[g].aH,f=Ga(g),e==h&&f[Hb]&&(f.autoplay=h,f[Hb]())):0==e.p&&b.Ea[H](e));else break}c=[];for(d=0;d<b.Ea[J];d++)g=b.Ea[d],f=Ob(g,b),f=Ea(f+g.d,b),a<f?g.i==Ki||g.i==zk?c[H](g):nj(g,a,b):(f=Ga(g.o),e=b.ha==h?g.b:j,da(f,g.i,e==j?b.ha?g.s:g.e:e),b.Ea[hd](d,1),d--);
for(d=0;d<c[J];d++)nj(c[d],a,b);c=Ia(b);g=b.ha==l?b.gc:b.Ec;if(g!=j&&0!=g[J]){for(d=0;d<b.ab[J];d++){var m=b.ab[d],e=m.b,k=Y(e),f=b.ha==l?Ea(m[bd]+m[zc],b):Ea(c-m[bd],b);a>=f&&(Ed[e]==b.ea&&(f=m.G,b.ha==l&&(f=m.z?f-m[zc]:f+m[zc]),f=Ea(u.max(0,f),k),Fd(k,l),f=Sc(f,k,h,h,l),f==l&&$b(e,j)),b.ab[hd](d,1),d--)}for(d=b.tb;d<g[J];d++)if(m=g[d],e=m.b,k=Y(e),k!=j&&(f=b.ha==l?m[bd]:Ea(c-m[bd]-m[zc],b),a>=f)){b.tb=d+1;var n=m.z,y=m.E,q=m.G;b.ha==h&&(q=n?q-m[zc]:q+m[zc],q=Ea(q,k),n=!n);var r=q,v=l;y&&(f=a-f,
f>m[zc]?(y=l,f=m[zc]):(b.ab[H](m),v=h),r=n?r-f:r+f,r=Ea(u.max(0,r),k));if(y){if(f=ac(q,e,h,h))continue;n&&Fd(k,n);if(q!=r&&(f=ac(r,e,h,h)))continue;b.oa?(ne(k,b.ta),Ad(e,n,l,l)):$b(e,j)}else $b(e,j),ac(r,e,l,h);v&&(Ed[e]=b.ea)}}}function Sc(a,b,c,d,e){vf=h;for(var f=b.qa,g=b.ha?b.ac:b.ua,k=[],m=u.min(a*b.ta,Ia(b)),n=b.eb;n<g[J];n++){var y=g[n],q=Ob(y,b);2==y.p&&((b.oa==h||e==h)&&m>=q)&&k[H](y)}e=l;if(0==k[J]||d==l)Zg(m,b,g);else{for(var y=d=0,r=b.oa,v=b.ha,n=0;n<k[J];n++){var G=k[n],q=Ob(G,b);if(e==
h&&d<q)break;if(!(c==l&&q!=m)){if(0==y||y!=q)Zg(q,b,g),y=q;for(var G=G.s.a,I=[],M=l,z=0;z<G[J];z++){var F=G[z];7==F.p&&F.b==b.ea&&(F.r=q,M=h);0==q&&3==F.p&&F.b==b.ea||I[H](F)}if(0!=I[J]){var X;b.Kb[Dc](nl)&&(X=b.Kb.c);var s;X?sc[Dc](X)?s=sc[X][ad]():ia[Dc](X)&&(s=ia[X][ad]):s=Qa();ua(s,I)({type:li,timelineName:b.Kb.n})}if(f!=b.qa||b.qa==j||r!=b.oa||M||v!=b.ha)e=h,d=q}}e==l&&Zg(m,b,g)}if(ra==h&&b.kb==h&&b.oa==h)bj(b.Ge,a);else return Ig(),e}function Ob(a,b){return b.ha?Ea(Ia(b)-a.d-a.t,b):a.t}function uj(){for(var a,
b=h,c=Eb()/1E3,d=0;d<Pb[J];d++){var e=Pb[d];if(!(e.qa==j||e.oa==l||e.kb==h)){var f=c-e.qa,g=e.ha?e.ac:e.ua;Sc(f,e,h,h)&&(f=c-e.qa);if(e.oa!=l){var k=Ia(e);if(f*e.ta<=k){if(0<e.Ea[J])a=0;else if(e.eb<g[J]&&(g=Ea((Ob(g[e.eb],e)-f*e.ta)/e.ta,e),a==j||g<a))a=g;g=e.ha==l?e.gc:e.Ec;if(0<e.ab[J])a=0;else if(e.tb<g[J]&&(g=g[e.tb],g=Ea(((e.ha==l?g[bd]:Ea(k-g[bd]-g[zc],e))-f*e.ta)/e.ta,e),g<a||a==j))a=g}}}}if(ra==h)for(d=0;d<Ha[J];d++)if(k=Ha[d],e=Y(k.ea),e!=j&&e.oa==h){e.ce!=j&&(e.qa+=c-e.ce);for(var f=c-
e.qa,g=k,m=O.zb.Ha(g.ub.ma),n=l,y=0;y<m[J];y++){var q=m[y],B=t[bb](q.Pb),v=r(B,Kk,0),G=nb(g.uc,q.Pb);if(-1==G){2==v&&Zi(B)==l&&(q.da=l);for(G=0;G<ge[J];G++)ea(B,Q+ge[G]+pl,j)}else{g.uc[hd](G,1);for(G=0;G<ge[J];G++){var I=ge[G],M=j,z=r(B,Q+I+ol,[]);4<=z[J]&&(n=z[0],z=z[z[J]-2],M=(z.value-n.value)/(z.time-n.time)*(1/60),n=h);ea(B,Q+I+pl,M)}r(B,ql,l)==h&&(Oc(B),ea(B,ql,l));2==v&&(q.da=h)}}n==h&&wf(g);bj(k,f);a:{f=O.zb.Ha(k.ub.ma);for(k=0;k<f[J];k++)if(f[k].ia==l){f=l;break a}f=h}b=b&&f;e.ce=f==h?c:j}0===
a||b==l?qc():a!=j&&p[vc](function(){Hf=l;uj()},1E3*a)}function vj(a,b){var c=a.gc,d=[];if(c!=j)for(var e=0;e<c[J];e++){var f=c[e].b,g=Y(f);g==j||-1!=nb(d,f)||(Gd(g),b==h&&$g(g,h),ac(0,f,l,h),d[H](f))}}function ac(a,b,c,d){Ed[b]=j;var e=Y(b);if(e!=j)return ne(e,1),-1==nb(Pb,e)&&($b(b),Pb[H](e)),b=Ia(e),a>b&&(a=b),e.ha==h&&(a=b-a),d==h&&(a=Ea(a,e)),e.eb=0,e.tb=0,e.Ea=[],e.ab=[],d=Eb()/1E3,e.qa=d-a,e.Da=d-e.qa,e.oa==h&&(p[Oa](e.hb),e.hb=p[vc](function(){oe(e)},1E3*((b-a)/e.ta))),$g(e,l),vj(e,l),ah(e,
0),wj(e,a),a=Sc(a,e,l,h,c),qc(),a}function Hd(a,b){var c=Y(a);if(c==j)return 0;var d=0;c.oa==h?(d=Eb()/1E3-c.qa,d*=c.ta):d=c.Da;var e=Ia(c);b==h&&c.ha==h&&(d=e-d);d=u.max(0,d);return d=u.min(e,d)}function wj(a,b){for(var c={},d=a.ha?a.ac:a.ua,e=0;e<d[J];e++){var f=d[e];if(0==f.p){var g=f.o,k=f.i;if(pb[g][k]==a.ea){var m=a.ha?f.e:f.s,n=a.ha?l:f.r;Ob(f,a)>=b&&(c[g]==j&&(c[g]={}),n!=h&&c[g][k]==j&&(n=Ga(g),m==aa&&(a.ha==h&&0==f.d)&&(m=f.s),da(n,k,m)),c[g][k]=h)}}}}function Ad(a,b,c,d){Ed[a]=j;var e=
Y(a);e!=j&&(c&&ne(e,1),Fd(e,b),e.oa==l&&(e.qa!=j?e.Da==Ia(e)?d&&Zb(a,j,b):(e.oa=h,e.qa=Eb()/1E3-e.Da/e.ta,p[Oa](e.hb),e.hb=p[vc](function(){oe(e)},1E3*((Ia(e)-e.Da)/e.ta)),e.kb!=h&&(ah(e,e.Da),e.eb=0,e.tb=0,e.Ea=[],e.ab=[]),Sc(e.Da/e.ta,e,l,l)):(d==h||0==e.Da)&&Zb(a,j,b)),qc())}function $b(a,b){Ed[a]=j;var c=Y(a);c!=j&&c.oa==h&&(ne(c,1),c.Da=b!=j?b:Eb()/1E3-c.qa,c.oa=l,p[Oa](c.hb))}function oe(a){if(!(ra==h&&a.kb==h)&&(a.ta=1,!Sc(Ia(a),a,h,h)))if(Gd(a),pe!=j&&If==a.ea)a=pe,If=pe=j,a();else if(a={type:mi,
timelineName:a.Kb.n},bc(a,j)!==l){var b=Qa();if(b!=j){var c=x[Jf(Id(W))].F;c!=j&&ua(b,c.a)(a)}}}function Ea(a,b){return ra==h&&b.kb==h?Kf(a,60):Kf(a,b.Kb.f)}function Kf(a,b){var c=u[ab](a);return c+u[Va]((a-c)*b)/b}function Ia(a){return ra==h&&a.kb==h?31536E3:Ea(a.Kb.d,a)}function qc(){if(Hf!==h){Hf=h;var a=function(a){p[vc](a,1E3/60)};(p.requestAnimationFrame||p.webkitRequestAnimationFrame||p.mozRequestAnimationFrame||a)(function(){Hf=l;uj()})}}function Gd(a){p[Oa](a.hb);a.eb=0;a.tb=0;a.Ea=[];a.ab=
[];a.$e=j;a.qa=j;a.oa=l;a.ta=1;a.Da=Ia(a);a=nb(Pb,a);-1!=a&&Pb[hd](a,1)}function xj(a){for(var b=0;b<Pb[J];b++){var c=Pb[b];if(!(a!=j&&c.ea==a.ea))for(var d=0;d<c.Ea[J];d++)pb[c.Ea[d].o][c.Ea[d].i]!=c.ea&&(c.Ea[hd](d,1),d--)}}function ah(a,b){for(var c=a.ua,d=0;d<c[J];d++){var e=c[d],f=e.o,g=e.i,e=Ea(Ob(e,a)+e.d,a);pb[f]===aa&&(pb[f]={});if(e>=b&&(eb[f]===aa||eb[f][g]===aa||eb[f][g]==a.ea))pb[f][g]=a.ea}xj(a)}function Zb(a,b,c){Ed[a]=j;for(var d=0;d<qb[J];d++){var e=qb[d];e.ea==a&&Gd(e)}var f=Y(a);
if(f!=j)if(f.$e=b,Pb[H](f),x[W].T[f.ea]==j&&f.fd==aa&&f.kb!=h)oe(f);else if(a=c==l,f.kb!=h&&($g(f,a),Fd(f,c),ah(f,0),wj(f,0)),f.oa=h,f.eb=0,f.tb=0,f.Ea=[],f.ab=[],f.Dc={},f.qa=Eb()/1E3,p[Oa](f.hb),f.hb=p[vc](function(){oe(f)},1E3*(Ia(f)/f.ta)),vj(f,a),f.kb==h||0<f.ua[J]||0<f.gc[J])Sc(0,f,h,h,l),qc()}function $g(a,b){for(var c=0;c<a.ua[J];c++){var d=a.ua[c].o,e=a.ua[c].i,f=a.ua[c].r;try{if(f==h&&fa[d][e]!=j&&(b||a.ua[c].b==j))a.ua[c].b=fa[d][e]}catch(g){}}}function Y(a){for(var b=0;b<qb[J];b++){var c=
qb[b];if(c.ea==a)return c}for(var d in ia)if(ia[Dc](d)!=l)for(var e=ia[d].sd,b=0;b<e[J];b++)if(c=e[b],c.ea==a)return c;return j}function tc(a){var b=x[W].T,c;for(c in b)if(b[Dc](c)!=l&&b[c].n==a){var d=l,e=x[W].U,f;for(f in e)if(e[Dc](f)!=l){var g=e[f].V;for(a in g)if(g[Dc](a)!=l&&g[a]==c){d=h;break}if(d==h)break}if(d==l)return c}return Fm}function Lf(a,b,c,d){b={eb:0,Ea:[],ua:b,ea:a,gc:c.b,oa:l,Da:0,ta:1,ha:l,ab:[],fd:d,Kb:c,Dc:{}};for(c=0;c<qb[J];c++)qb[c].ea==a&&(Gd(qb[c]),qb[hd](c,1),c-=1);qb[H](b);
return b}function Fd(a,b){var c=Hd(a.ea,l);if(b!=a.ha){a.ha=b;b==h&&a.ac==j&&(a.ac=a.ua[Wa](0),a.ac.sort(function(b,c){var d=Ob(b,a),k=Ob(c,a);return d==k?c.k-b.k:d-k}));b==h&&a.Ec==j&&(a.Ec=a.gc[Wa](0),a.Ec.sort(function(b,c){var d=Ea(b[bd]+b[zc],a),k=Ea(c[bd]+c[zc],a);return d==k?(d=b[bd],k=c[bd],d==k?c.F-b.F:k-d):k-d}));var d=Ia(a);a.Ea=[];a.eb=0;a.tb=0;a.ab=[];a.Da=Ea(d-a.Da,a);yj(a,d-c);a.qa!=j&&Sc(Ea(Eb()/1E3-a.qa,a),a,l,l)}}function ne(a,b){if(a.ta!=b){var c=Hd(a.ea,l);a.ta=b;yj(a,c)}}function yj(a,
b){a.qa!=j&&(a.qa=Eb()/1E3-b/a.ta,a.oa==h&&(p[Oa](a.hb),a.hb=p[vc](function(){oe(a)},1E3*((Ia(a)-b)/a.ta))))}function zj(a,b){var c=tc(a);b==aa&&(b=0);Zb(c,j,1==b?h:l)}function Pg(a,b,c){b=x[W].T[b];if(b!=j){b=b.a;for(var d=Ga(c),e=0;e<b[J];e++){var f=b[e];if(f.o==c){var f=f.i,g=bh[c];g!=j&&g[f]!=j&&(da(d,f,g[f]),g[f]=j)}}a=a?a:p[id];if(a[Jb]==Xm||a[Jb]==qn||a[Jb]==ri)b=x[W].v[c].aM,b!=j&&gj(a,b,c)}}function gj(a,b,c){var d=x[W].T[b];if(d!=j){var d=d.a,e=Ga(c),f=x[W].v[c].aM;f!=j&&f!=b&&Pg(a,f,c);
var g=x[W].v[c].aN;a=a?a:p[id];a[Jb]!=Xm&&(a[Jb]!=qn&&a[Jb]!=ri&&g!=j&&g!=b&&f!=b)&&Pg(a,g,c);for(a=0;a<d[J];a++)f=d[a],f.o==c&&(b=f.i,f=f.e,f!=j&&(g=bh[c],g==j&&(g={},bh[c]=g),g[b]==j&&(g[b]=fa[c][b]),da(e,b,f)))}}function da(a){for(var b=arguments,c=1;c<b[J];c+=2){var d=b[c],e=b[c+1];if("undefined"!=typeof e)try{var f=Na[d];f!=j&&(fa[T[a.id]][d]=e,f(a,e))}catch(g){Ng(tg+d+pg+e+md+g)}}}function Db(a){9>A.aa&&0==a[ub](yn)&&(a=rj(Yg(a),h));return a}function rj(a,b){if(1==a[3]||b==h){for(var c=ja.Zc,
d=vd,e=0;3>e;e++)d+=c[kb](a[e]/16)+c[kb](a[e]%16);return d}return zn+ma(a[0])+He+ma(a[1])+He+ma(a[2])+He+na(a[3])+Ee}function P(a,b){var c=u.pow(10,b==j?0:b);return Q+u[Va](a*c)/c+tn}function Yg(a){var b=[0,0,0,1];if(0==a[ub](xn)){var c=a[ub](De),d=a[ub](Ee);if(3<d-c){a=a.substring(c+1,d)[yc](He);for(c=0;c<a[J];c++)b[c]=na(a[c])}}else{a[kb](0)==vd&&(a=a[Wa](1));a=a.toUpperCase();d=ja.Zc;for(c=0;3>c;c++)b[c]=16*d[ub](a[kb](2*c))+d[ub](a[kb](2*c+1))}return b}function qj(a){typeof a!=hn&&(a=na(a));return isNaN(a)?
0:a}function Aj(a,b,c){Mf=l;c!=j&&delete x[W].T[c];Da(b[N],dl);da(b,Ok,0,hk,0);ea(b,Wh,jf);da(b,zk,0,Ki,0,ro,1,Zl,1);c=x[W].a;c!=j?(oa(b[N],fg),oa(S[N],c+Td)):(oa(b[N],P(x[W].Y)),oa(S[N],b[N][Pa]));c=x[W].b;c!=j?(Fa(b[N],fg),Fa(S[N],c+Td)):(Fa(b[N],P(x[W].Z)),Fa(S[N],b[N][gd]));Qc[S.id]=j;Qc[b.id]=j;fa[T[a.id]]&&(a!=j&&a!=b)&&(Da(a[N],gn),a[Gb](sk,h),da(a,Ok,0,hk,0,zk,0,Ki,0,ro,0,Zl,1),ea(a,Wh,jf));S[N][Ye]=j;S[N][ja.Pa+Zn]=lm;S[N][Se]=j;S[N].perspective=j;if(9>A.aa){a=qe(a);for(c=0;c<a[J];c++){var d=
r(a[c],gm);d!=j&&da(a[c],gm,d)}}d=[];a=x[W].v;for(var e in a)if(a[Dc](e)!=l){var f=a[e],g=f.cL;if(g){d[H](g);c=ia[g][ad];fa[T[c.id]]=j;var k=t[zb](f.k);za(k,f.cP?Eh+f.cP:Dh);k.id=c.id;k[N].pointerEvents=wk;for(k[N][pn]=wk;0<c[Qb][J];)k[Ja](c[Qb][0]);c[dd]&&(c[dd][Ja](k),c[dd][Ic](c));c=k;k=ia[g].element=c;if(k[dd]&&k[dd][mc]==Gh){var k=k[dd],m=k[N];if(f.bR!=j||f.aY!=j){var n=x[W].p;m[Ye]=n;Ba(m,n);m.perspective=n}else m[Ye]=Q,Ba(m,Q),m.perspective=Q}b[Ja](k);ch(f,c,c.id,l);f=qe(c);for(c=0;c<f[J];c++){m=
f[c];k=a[T[m.id]];for(n=0;2>n;n++)for(var y=0;y<re[J];y++){var q=re[y];if(k[Dc](q)!=l){var B=0==n?l:h;if(q==$j||q==ak)B=0==n?h:l;B!=l&&da(m,q,k[q])}}}g=ia[g].sd;for(c=0;c<g[J];c++)qb[H](g[c])}}g=t[bb](Hh);for(e in ia)if(ia[Dc](e)!=l){f=l;for(c=0;c<d[J];c++)if(d[c]===e){f=h;break}f==l&&(c=ia[e][ad],c[dd][mc]==Gh&&(c=c[dd]),g[Ja](c))}S[cd](sk);S[cd](rk);b[cd](sk);Zb(Fm,j,l);if(ra==h)for(c=0;c<Ha[J];c++)e=Ha[c],Y(e.ea).oa!=h&&Zb(e.ea,j,l);e=qe(Qa());for(c=0;c<e[J];c++)if(f=e[c],fe(f)!=l){if(g=a[T[f.id]].cL){d=
ia[g];if(d.Be)continue;d.Be=h}d={type:ji};bc(d,f);(g=r(f,wl))&&ua(f,g.a)(d)}e={type:gi};bc(e,j)!==l&&(a=x[Jf(T[b.id])].A,a!=j&&(a=a.a,ua(Qa(),a)(e)));e=Mb(b);b=dh(b);for(a=0;a<b[J];a++)if(c=b[a],d=t[bb](c),c=x[e].v[T[c]],c!=j)for(g=0;g<Nf[J];g++)f=Nf[g],c[Dc](f)!=l&&da(d,f,c[f])}function Bj(a,b){var c=Mb(a),d=dh(a);Ig();if(ra==h){for(var e=0;e<d[J];e++){var f=d[e];fe(t[bb](f))==h&&Mg(f)}rf=h}for(e=0;e<d[J];e++){var f=d[e],g=t[bb](f),k=x[c].v[T[f]];k!=j&&ch(k,g,f,b)}if(ra==h){rf=l;for(c=0;c<Ha[J];c++)d=
Ha[c],d.ea==j&&(e=d,f=Gm+e[Bb],e.ea=f,d=j,Kg(e)==h&&(d=T[e[Bb]]),e={kb:h,ua:[],ea:f,Ge:e,fd:d},d!=j?ia[d].sd[H](e):qb[H](e));c=function(){for(var b=a[mc]==Ih,c=dh(a),d=0;d<c[J];d++){var e=t[bb](c[d]),f=Kg(zd(e));(b==h&&f==l||b==l)&&Oc(e)}};c();p[vc](c,0)}}function dh(a){a=qe(a);for(var b=[],c=0;c<a[J];c++)b[H](a[c].id);return b}function ch(a,b,c,d){var e=[Dk,Qk,Mn,Nn,zk,Ki,nl,Tl,Em],f=T[c];fa[f]==j&&(fa[f]={});var f=Mb(b),g=x[f].U[T[c]];if(g){var k=function(a){return g.V[a]||g.W};sc[T[c]]={symbolName:function(){return g.n},
element:function(){return b},getSymbolInstancesByName:function(a){a=Cj(a);for(var c=[],d=0;d<a[J];d++)for(var e=a[d],f=e[ad]()[Ib];f!=j;){if(f==b){c[H](e);break}f=f[Ib]}return c},startTimelineNamed:function(a,b){Zb(k(a),j,1==b?h:l)},pauseTimelineNamed:function(a){$b(k(a),j)},continueTimelineNamed:function(a,b,c){Ad(k(a),1==b?h:l,h,c)},goToTimeInTimelineNamed:function(a,b){ac(a,k(b),l,l)},currentTimeInTimelineNamed:function(a){return Hd(k(a),h)},durationForTimelineNamed:function(a){return Ia(Y(k(a)))},
currentDirectionForTimelineNamed:function(a){return Y(k(a)).ha?1:0},isPlayingTimelineNamed:function(a){return Y(k(a)).oa}}}vo==l&&a.bE==j&&ea(b,Wh,cg);for(c=0;c<e[J];c++)f=e[c],da(b,f,a[f]);ra==h&&a.bM!=j&&da(b,gm,0);re[H](sl,tl,ul,vl,wl,rl);for(var m in a)if(a[Dc](m)!=l){e=h;for(c=0;c<Nf[J];c++)if(Nf[c]==m){e=l;break}if(e!=l){if(d==h)for(c=0;c<re[J];c++)if(re[c]==m){e=l;break}e!=l&&da(b,m,a[m])}}A.aa!=j&&a.bE==j&&(b[N].behavior=co+Tc(Ne)+Zd)}function zo(){se[hd](0,1)}function Of(a){se[H](Pf(a));
p[vc](zo,2500)}function Qf(a){for(var b=0;b<se[J];b++){var c=Pf(a);25>u.abs(c.x-se[b].x)&&25>u.abs(c.y-se[b].y)&&(a.stopPropagation(),a[lb]())}}function Cj(a){var b=[],c=x[W].U,d;for(d in c)c[Dc](d)!=l&&c[d].n==a&&b[H](sc[d]);return b}function fj(a){var b={type:ni,customBehaviorName:a},c=Rf[a];if(c!=j)for(var d=0;d<c[J];d++)c[d](b);for(var e in ia)ia[Dc](e)!=l&&(c=ia[e].Hd[a],c!=j&&c(b));bc(b,j)}function Dj(a,b,c){c?ia[c].Hd[a]=b:(c=Rf[a],c==j&&(c=[],Rf[a]=c),c[H](b))}function eh(a,b,c,d){function e(a){a=
a?a:p[id];(32==a.keyCode||13==a.keyCode)&&f(a)}function f(a){a=a?a:p[id];if(a[Jb]==Wm){for(var e=l,f=0;f<te[J];f++)if(te[f]==c){e=h;break}if(e==h)return;te[H](c)}else if(a[Jb]==Vm){e=Mb(b);if(x[e].v[T[b.id]]==j)return;a||(a=p[id]);for(e=t.elementFromPoint(a[ic],a[jc]);e!=j&&e!=this&&e.nodeName!=yg;)e=e[dd];if(e==this)return;te=[]}else if(a[Jb]==Tm){if(a[xc]==h||0!=a[tb])return}else a[Jb]==Xn?0<a[Ec][J]&&Of(a[Ec][0]):a[Jb]==Vn&&0<a[Ub][J]&&Of(a[Ub][0]);if(d==h&&(a[Jb]==Sm||a[Jb]==Xm||a[Jb]==Vn)){if(0<
Sf)return;Tf=h}c(a)}if(a==Il||a==Xm)a=p.navigator.Rf?qn:p.navigator.msPointerEnabled?ri:Xm;Ra(a,f,b,h);a==Il?Ra(Im,e,b,h):a==Tm?Ra(Hm,e,b,h):a==Xm&&Ra(Jm,e,b,h)}function Sa(a,b,c,d){eh(a,b,c,d);a==Wm?eh(Vm,b,so(),d):a==Vm&&eh(Wm,b,so(),d)}function Uc(a,b,c){c={Eb:j,mb:cm,Tb:0,Cb:j,xc:0,fe:0,$c:0,Ud:0,Kd:0,Ld:0,ud:j,td:j,Ja:j,xa:l,Vc:l,options:b,vd:c,Ob:a};Ra(Xn,Ej(c),a,h);if(b.va==Yl||b.va==Ln){var d=a==t?S:a;d[N].msTouchAction=gn;d[N].Yf=gn}b.va!=Pn&&Ra(Tm,Ej(c),a,h)}function Fj(a,b){for(var c={Db:1,
ve:h,va:Yl},d=b.a,e=h,f=0;f<d[J];f++){var g=d[f],k=g.p;0!=k&&(e=l);10==k&&g.b!=j?(c.Xa==j&&(c.Xa=[]),c.Xa[H]({b:g.b,c:g.c,A:g.A,y:g.y,K:100/g.K})):11==k&&(c.vb=a)}e==l&&Uc(a,c,ua(a,d))}function Ej(a){return function(b){a.xa=b[Jb]==Xn;if(a.xa)0<b[Ec][J]&&a[Lc].va==Pn&&Of(b[Ec][0]),a.Tb=b[Ec][J];else{if(b[xc]==h||0!=b[tb])return;b[lb]&&b[lb]()}if(a.xa==l||1===a.Tb){a.mb=In;a.Eb=j;for(var c=[],d=0;5>=d;d++)c[H]({start:{x:0,y:0},end:{x:0,y:0},lastPosition:{x:0,y:0}});a.Cb=c;a.Gb=aa;a.Vc=l;var c=a.xa?
b[Ec][0]:b,e;e=function(b){fh(a);a.mb=Gl;Uf(b,a)};a.Ja=e;b=a.xa?a.Ob:t;a.xa?Ra(Un,a.Ja,b,l):p.self!=p.top&&(d=function(a){(a.relatedTarget===t.documentElement||a.toElement===j)&&e(a)},a.Ja=d,Ra(Vm,d,b,l));c=Pf(c);d=a.Cb[0];d[Mc].x=c.x;d.end.x=c.x;d[La].x=c.x;d[Mc].y=c.y;d.end.y=c.y;d[La].y=c.y;Gj(a,c);a.ud=function(b){if(!(a.mb===cm||a.mb===Gl))if(Tf==h)a.Ja(b);else{var c=a[Lc];if(a.yc==l&&(Sf++,a.yc=h,c.va==Yl)){Vf=h;if(c.Xa!=j)for(var d=0;d<c.Xa[J];d++){var e=c.Xa[d].b,n=Y(e);$b(e,j);Fd(n,l);a.fe=
Hd(n.ea,l);for(var y=n.ua,q=0;q<y[J];q++){var B=y[q].o,v=y[q].i;eb[B]===aa&&(eb[B]={});eb[B][v]=n.ea}}c.vb!=j&&(d=T[c.vb.id],a.Kd=fa[d].a,a.Ld=fa[d].b,pb[d]!=aa&&(pb[d].a=j,pb[d].b=j,xj(j)),eb[d]===aa&&(eb[d]={}),eb[d].a=$l,eb[d].b=$l,ra==h&&(Oc(c.vb),qc()));Uf(b,a)}var y=Pf(a.xa?b[Ec][0]:b),G=a.Cb[0];G[La].x=G.end.x;G[La].y=G.end.y;a.$c=a.Ud;G.end.x=a.xa?b[Ec][0].pageX:y.x;G.end.y=a.xa?b[Ec][0].pageY:y.y;q=Eb();a.Ud=q;q-=a.xc;a.Eb=Hj(G[Mc],G.end,q);a.xa&&(a.Tb=b[Ec][J]);a.mb=Ym;if(c.va==Yl){b[lb]&&
b[lb]();9>A.aa&&(a.Ob.ondragstart=function(a){return a==j?l:h});var B=v=0,I=1,M=1;if(a.Ob!=j)for(var z=tf(T[a.Ob.id]);z!=j&&z!=E;)d=Ga(z),v+=r(d,Ki,0),B+=r(d,zk,0),I*=r(d,yl,1),I*=r(d,ai,1),M*=r(d,zl,1),M*=r(d,bi,1),z=tf(z);if(c.Xa!=j)for(d=0;d<c.Xa[J];d++){var F=c.Xa[d],e=F.b;if(n=Y(e)){var n=Ia(n),X=Ij(F),s;X==Bn?s=(G.end.x-G[Mc].x)/I:X==Lm?s=(G[Mc].x-G.end.x)/I:X==bo?s=(G[Mc].y-G.end.y)/M:X==Xl&&(s=(G.end.y-G[Mc].y)/M);F=s/F.K;F+=a.fe;F=u.min(n,F);F=u.max(0,F);ac(F,e,l,h)}else a.Ja(b)}c.vb!=j&&
(d=T[c.vb.id],s=a.Kd+(G.end.x-G[Mc].x)/I,G=a.Ld+(G.end.y-G[Mc].y)/M,Pc==l&&(z=Hg(z),M=Wb(d),s=u.max(s,-M/2-v),s=u.min(s,z[Pa]-M/2-v),v=Xb(d),G=u.max(G,-v/2-B),G=u.min(G,z[gd]-v/2-B)),c=c.vb,da(c,Ki,s,zk,G),ra==h&&(Gg(c,Ki,s,q/1E3),Gg(c,zk,G,q/1E3),ea(c,ql,h),c=zd(c),wf(c)));Uf(b,a)}else c.va==Ln?1<a.Tb?a.Ja(b):(b[lb]&&a.Eb==c[Ka]&&b[lb](),B=c[Ka]==Bn||c[Ka]==Lm?G.end.x:G.end.y,z=l,z=c[Ka]==Bn||c[Ka]==Xl?20<a.Gb-B:20<B-a.Gb,c=a.Eb===c[Ka]||100>q,(z||c==l||Vf==h)&&a.Ja(b)):c.va==Pn&&5<gh(G[Mc],G.end)&&
a.Ja(b);Gj(a,y)}};Ra(a.xa?Wn:Um,a.ud,b,l);a.td=function(b){if(!(a.mb===cm||a.mb===Gl)&&!(b[Ec]&&0<b[Ec][J]))if(Tf==h&&0<Sf)a.Ja(b);else{var c=a[Lc];b[Jb]==Vn&&0<b[Ub][J]&&c[Jb]==Pn&&Of(b[Ub][0]);var d=Eb(),e=d-a.xc,n=a.Cb[0];a.Eb=Hj(n[Mc],n.end,e);a.mb=cm;var r=1===a.Tb||!a.xa,q=0!==n.end.x;if(c.va==Yl){if(a.yc==l){fh(a);return}eb={};if(c.Xa!=j){r=(d-a.$c)/1E3;for(q=0;q<c.Xa[J];q++){var B=c.Xa[q],d=B.b,e=Y(d),s=B.y;if(e){var G=Ia(e),I=Ij(B),M=B.K,z=l,F=l,X=1;if(s==h)if(s=0,s=0==B.c?u.abs(n[La].x-
n.end.x)/r:u.abs(n[La].y-n.end.y)/r,s*=2,20<s)z=h,F=n[La],X=n.end,F=u[Va](180*u[Ab](X.y-F.y,X.x-F.x)/u.PI),F=(0==B.c?90<=F||-90>=F?Lm:Bn:0>=F&&-180<=F?bo:Xl)!=I,X=s/M;else{I=B=Hd(e.ea,l);for(s=M=0;s<e.ua[J];s++){var x=e.ua[s];if(2==x.p){for(var A=x.s.a,E=l,C=0;C<A[J];C++){var D=A[C];if(7==D.p&&D.b!=j&&D.b==d){E=h;break}}E==h&&(x=x.t,A=u.abs(x-B),A<I&&(I=A,M=x))}}G-B<I&&(M=G,I=G-B);0!=I&&(z=h,F=M<B,X=u.abs(M-B)/0.2)}Fd(e,F);ne(e,X);z==h&&e.Da!=G?Ad(d,F,l,l):ac(F?G-e.Da:e.Da,d,h,h)}}}Uf(b,a)}else c.va==
Ln?(d=a.Eb===c[Ka],n=gh(n[Mc],n.end),r&&(q&&d)&&n>c.jc?(b={type:ii+c[Ka][kb](0).toUpperCase()+c[Ka][Wa](1)+ug},a.vd(b)):a.Ja(b)):c.va==Pn?1500>e&&a.vd(b):a.Ja(b);fh(a)}};Ra(a.xa?Vn:Xm,a.td,b,l);b.setCapture&&b.setCapture();a.xc=Eb();a.$c=a.xc;Vf=Tf=a.yc=l}}}function fh(a){if(a.Vc!=h){a.Vc=h;eb={};var b=a.xa?a.Ob:t;b.releaseCapture&&b.releaseCapture();ue(a.xa?Wn:Um,a.ud,b);ue(a.xa?Vn:Xm,a.td,b);a.xa?ue(Un,a.Ja,b):ue(Vm,a.Ja,b);a[Lc].va==Yl&&(Vf=l);a.yc==h&&Sf--;ra==h&&a[Lc]&&(Oc(a[Lc].vb),qc())}}function Uf(a,
b){b[Lc].ve==h&&(a.hypeGesturePhase=b.mb,a.hypeGestureXPosition=b.Cb[0].end.x,a.hypeGestureYPosition=b.Cb[0].end.y,b.vd(a))}function ue(a,b,c){c[wc]?c[wc](a,b,l):c[Yc]&&c[Yc](kn+a,b)}function Ra(a,b,c,d){var e={eventType:a,handler:b,element:c};d&&Wf[H](e);c[Fb]?c[Fb](a,b,A.qd?{passive:l}:l):c[Sb]&&c[Sb](kn+a,b);jj(c)}function Pf(a){var b={};if(a.pageX||a.pageY)b.x=a.pageX,b.y=a.pageY;else if(a[ic]||a[jc])b.x=a[ic]+t[Gc].scrollLeft+t.documentElement.scrollLeft,b.y=a[jc]+t[Gc].scrollTop+t.documentElement.scrollTop;
return b}function Ij(a){var b;0==a.c?0==a.A?b=Bn:1==a.A&&(b=Lm):1==a.c&&(0==a.A?b=bo:1==a.A&&(b=Xl));return b}function Gj(a,b){var c=a[Lc],d=c[Ka]==Bn||c[Ka]==Lm?b.x:b.y;a.Gb=a.Gb==aa?d:c[Ka]==Bn||c[Ka]==Xl?u.max(a.Gb,d):u.min(a.Gb,d)}function Hj(a,b,c){a=u[Va](180*u[Ab](b.y-a.y,b.x-a.x)/u.PI);c=u.min(45,45*c/2E3);if(a>=135+c||a<=-135-c)return Lm;if(a<=45-c&&a>=-45+c)return Bn;if(a<-45-c&&a>-135+c)return bo;if(a>45+c&&a<135-c)return Xl}function Og(a){for(var b=Jd[a],c={},d=0;d<b[J];d++){var e=Ma[b[d]].t;
A.zd!=j&&e==vk||(c[e]=Tc(b[d]))}b=-1!=de[ub](qo)&&A.pb!=j&&537<=A.Za;b=("undefined"!==typeof AudioContext||"undefined"!==typeof webkitAudioContext)&&-1==p[Bc].href[ub](jm)&&-1==de[ub](zm)&&b==l&&la.onLine!=l&&A[yb]==j?Jj:9>A.aa?Ao:Kj;d={};d.od=A.pb!=j&&603>A.Za;var f=Xf[a];if(f==j){try{f=new b(a,c)}catch(g){b==Jj&&(f=new Kj(a))}f.Of=a;f.cc=c;f.options=d;f.nd=function(){var a=[],b;for(b in f.cc)f.cc[Dc](b)!=l&&a[H](b);return a.sort()}}return f}function yo(a,b){var c=Og(a);ta(c,b);c[Hb]()}function Lj(a){a=
Jd[a];if(a!=j){for(var b=1<p.devicePixelRatio,c=l,d=j,e=0;e<a[J];e++){var f=a[e],g=Ma[f].t;if(g==rg)d=f,c=h;else if(g==sg){if(c==l||b==h)d=f;if(b==h)break}else c==l&&(d=f)}return d}}function hh(a,b){var c=nb(cc,a);-1!=c&&cc[hd](c,1);0>=cc[J]?Mj():b==h&&ih==l&&(ih=h,p[vc](function(){Nj()},1))}function Nj(){0>=cc[J]||(ih=l,Oj(cc[0],h))}function Oj(a,b){var c=Ma[a].p;if(1==c)if(c=Ma[a].g,c!=j&&Lj(c)!=a)hh(a,b);else{var c=new Image,d=function(){hh(a,b)},e=Tc(a);c.onload=d;c.onerror=d;c.onabort=d;c.src=
e;c.Tf=a}else 2==c&&(c=function(){for(var c=Jd[Ma[a].g],d=0;d<c[J];d++){var e=c[d];Ma[e].p!=j&&hh(e,b)}},d=Og(Ma[a].g),A.pb!=j&&536.26>A.Za||9>A.aa?p[vc](c,1):d.load(c,c))}function Mj(){of!=j&&of(l,S);if(bc({type:di},S)!==l)if(-1==Bg)ie(ob);else{Kd=h;for(var a=-1,b=0;b<db[J];b++){for(var c=db[b].X,d=0;d<c[J];d++)if(c[d]==Bg){a=b;break}if(-1!=a)break}-1==a&&(a=0);ob=a;Yf(Bg)}}function Tc(a){var b=Ma[a];if(b==j)return Q;var c=b.n;a=Q;b.r!=h&&(a+=de+hf);a+=c;b=bc({type:fi,url:a});typeof b===Jn&&(a=b);
return a}function Jf(a){for(var b=0;b<x[J];b++)if(x[b].o==a)return b;return-1}function Id(a){a=x[a];return a==j?j:a.o}function Qa(){return Ga(Id(W))}function qe(a){if(a.getElementsByClassName)return a.getElementsByClassName(Bh);var b=/(^|\s)HYPE_element(\s|$)/;a=a||t;a=a.all?a.all:a[gc](Ge);for(var c=[],d,e=a[J],f=0;f<e;f++)d=a[f],b.test(d[mc])&&c[H](d);return c}function dc(a,b,c,d,e,f,g,k,m){a[H]({i:b,t:c,d:d,f:e,o:f,s:g,e:k,r:m,p:0})}function jh(a,b,c,d,e){b={i:a,n:a,f:30,d:b,a:c,b:[]};S[Gb](rk,
h);S[Gb](sk,h);x[W].T[a]=b;Lf(a,c,b);If=a;pe=function(){Aj(d,e,a)};Zb(a,j,l)}function ve(a,b,c,d){var e=S[dd][cb],f=a[Nc](Jh),g=b[Nc](Jh);if(fa[T[a.id]]){var k=Ld(f),m=Md(f);da(a,nl,k,Tl,m)}a=Ld(g);g=Md(g);da(b,nl,a,Tl,g);c&&(c=k,a>c&&(c=a),oa(S[N],P(c)),Qc[S.id]=j,S[N].margin==wk&&da(b,Ki,u.max(0,(k<a?e<c?e-k:c-k:e<c?e-a:c-a)/2)));d&&(b=m,g>b&&(b=g),Fa(S[N],P(b)))}function Md(a){var b=S[dd].offsetHeight,c=x[a].b;return c!=j?c/100*b:x[a].Z}function Ld(a){var b=S[dd][cb],c=x[a].a;return c!=j?c/100*
b:x[a].Y}function Yf(a,b,c,d){if(!(Id(a)==j||Mf==h)){c==j&&(c=1.1);c=Kf(c,60);Mf=h;var e=function(){d!=j&&d();qb=[];Rf={};var e=Qa();Pc=x[a].a!=j||x[a].b!=j?h:l;var f=Id(a),g=W,k=Qa();if(k!=j){for(var m=k[gc](go),n=0;n<m[J];n++)m[n][Fc]&&m[n][Fc]();k=k[gc](am);for(n=0;n<k[J];n++)0==k[n].id[ub](bm)&&pa(k[n][Ib],Q)}n=Pb[Wa](0);for(k=0;k<n[J];k++)n[k].fd==aa&&Gd(n[k]);var k=[],q;for(q in sc)if(sc[Dc](q)!=l){var n=l,s;for(s in pc)if(pc[Dc](s)!=l){for(m=0;m<pc[s][J];m++)if(q==pc[s][m]){n=h;break}if(n==
h)break}n==l&&k[H](q)}for(n=0;n<k[J];n++)delete sc[k[n]];te=[];if(ra==h){q=[];for(s=0;s<Ha[J];s++)n=Ha[s],Kg(n)==l&&q[H](n);for(s=0;s<q[J];s++)n=Jg(q[s][Bb]),n!=j&&(n=nb(Ha,n),-1!=n&&Ha[hd](n,1))}W=Jf(f);q=Ga(f);s=q[Nc](Jh);ra==h&&Mg(j);if(A.pb!=j&&(n=Qa(),n!=j)){n=n[gc](go);for(k=0;k<n[J];k++){m=n[k];pa(m,Q);var y=m.outerHTML,B=m[dd];B[Ic](m);pa(B,B.innerHTML+y)}}if(he!=j){for(n=0;n<Bf[J];n++)Bf[n].destroy();Bf=[]}n=Ga(f);fa[f]={};var f=[],k=x[g].v,v;for(v in k)if(k[Dc](v)!=l){var C=k[v];(g=C.cL)&&
f[H](g)}g=n[Nc](Jh);k=x[g].v;m=[];y=[];B=0;for(v in k)if(k[Dc](v)!=l&&(C=k[v],g=C.cL)){for(var D=l,w=0;w<f[J];w++)if(f[w]===v){D=h;break}var P=ia[g][ad],w=P;w[dd][mc]==Gh&&(w=P[dd]);if(D){if(fa[T[P.id]]){for(var C=P,V=D=0;C&&C.id!=E;)D+=r(C,Ki,0),V+=r(C,zk,0),C=C[dd];da(P,Ki,D,zk,V)}S[Ja](w);ia[g].ye?wa(w[N],w[N][Vb]+100):(y[H](w),w[N][Vb]>B&&(B=w[N][Vb]))}else m[H]([w,P,C]);ia[g].Od==l&&(ra==h&&Mg(ec[g]),Bj(w,h),ia[g].Od=h,w[dd]!=j&&w[dd][Ic](w))}for(w=0;w<y[J];w++)P=y[w],wa(P[N],P[N][Vb]-B-1);Bj(n,
l);for(w=0;w<m[J];w++)n[Ja](m[w][0]),P=m[w][1],C=m[w][2],ch(C,P,P.id,h);v=x[s].T;for(var R in v)v[Dc](R)!=l&&(g=x[W].T[R],g.s==aa&&Lf(R,g.a,g));R={C:Hm,D:Jm,E:Im};for(var O in R)R[Dc](O)==l||x[s][O]==j||(v=ua(Qa(),x[s][O].a),g=R[O],Nd[g]=v,t[Fb]?t[Fb](g,v,l):t[Sb]&&t[Sb](kn+g,v));O=x[s].L;for(n=0;n<O[J];n++)R=O[n].B,v=ua(Qa(),O[n].a),Dj(R,v,j);O={G:Lm,H:Bn,I:bo,J:Xl};for(var L in O)if(O[Dc](L)!=l&&(R=x[s][L])){R=R.a;v=h;for(n=0;n<R[J];n++)if(0!=R[n].p){v=l;break}v==l&&(R=ua(Qa(),R),Uc(q,{Db:1,direction:O[L],
jc:30,va:Ln},R))}(L=x[s].K)&&Fj(t,L);L=Qa();if(2==b){ve(e,L,h,h);var U=c,$=[];wa(L[N],1);dc($,Zl,0,U,zk,T[L.id],0,1);if(e!=j)if(wa(e[N],0),Vi==l){var Y=T[e.id];dc($,Zl,0,U,zk,Y,1,0)}else if(e[N][Pa]!=L[N][Pa]||e[N][gd]!=L[N][gd])Y=T[e.id],dc($,Zl,U/2,U/2,zk,Y,1,0);da(L,Zl,0);jh(Th,U,$,e,L);Da(L[N],dl)}else 3==b&&A.fc==h?(ve(e,L,h,h),O=c,R=dc,v=da,q=S[N],q[Ye]=hg,Ba(q,hg),q.perspective=hg,q[ja.Pa+Zn]=rn,q.MozTransformStyle=rn,q[Zn]=rn,s=S[cb],q=s/4,s/=2,g=-1*q,f=-1*s,n=O/2,m=L[Nc](Jh),k=Ld(m),m=Md(m),
y=[],e!=j&&(U=T[e.id],ea(e,Wh,cg),Y=e[Nc](Jh),$=Ld(Y),Y=Md(Y),v(e,ro,1,Ok,0,nl,$,Tl,Y),R(y,Ki,0,n,Tl,U,0,s),R(y,Ok,0,n,Tl,U,0,-300),R(y,hk,0,n,Tl,U,0,-20),R(y,ro,0,n,Ki,U,1,0)),B=T[L.id],ea(L,Wh,cg),R(y,Ki,0,n,Tl,B,g,f),R(y,Ok,0,n,Tl,B,-600,-300),R(y,hk,0,n,Tl,B,50,40),R(y,ro,0,n,Ki,B,0,1),e!=j&&(R(y,Ki,n,n,Zl,U,s,q),R(y,Ok,n,n,Zl,U,-300,-600),R(y,hk,n,n,Zl,U,-20,-50),($!=k||Y!=m)&&R(y,Zl,n,n,Tl,U,1,0)),R(y,Ki,n,n,Zl,B,f,0),R(y,Ok,n,n,Zl,B,-300,0),R(y,hk,n,n,Zl,B,40,0),v(L,Ki,q,Ok,-600,hk,50,ro,0,
nl,k,Tl,m),jh(Vh,O,y,e,L),Da(L[N],dl)):4==b||5==b||6==b||7==b?(U=c,$=[],R=e[Nc](Jh),v=L[Nc](Jh),Y=Ld(R),O=Ld(v),R=Md(R),v=Md(v),5==b||4==b?(ve(e,L,l,h),Y!=O&&(dc($,nl,0,U,nl,E,Y,O),fa[E]={},fa[E].c=Y,fa[E].d=R>v?R:v,fa[E].a=0,fa[E].b=0)):(ve(e,L,h,l),R!=v&&(dc($,Tl,0,U,nl,E,R,v),fa[E]={},fa[E].c=Y>O?Y:O,fa[E].d=R,fa[E].a=0,fa[E].b=0)),q=Ki,s=O,g=-1*O,5==b?(s=-1*Y,g=Y):6==b?(q=zk,s=-1*R,g=R):7==b&&(q=zk,s=v,g=-1*v),e!=j&&(f=T[e.id],da(e,nl,Y,Tl,R),dc($,q,0,U,nl,f,0,s)),dc($,q,0,U,nl,T[L.id],g,0),da(L,
nl,O,Tl,v,q,g),jh(Uh,U,$,e,L),Da(L[N],dl)):(ve(e,L,l,l),Aj(e,L,j));Vc()},f=l,g=Qa();g[cd](sk);if(Pj==h&&g!=j){var g=Jf(Id(W)),k={type:hi};if(bc(k,j)!==l){var m=x[g].B;if(m!=j){for(var n=m.a,y=ua(Qa(),n),m=0;m<n[J];m++){var q=n[m],s=q.b;3==q.p&&(s!=j&&x[g].T[s]!=j)&&(f=h,If=s,pe=e)}y(k)}}k=qe(Qa());for(m=0;m<k[J];m++)n=k[m],fe(n)!=l&&!x[g].v[T[n.id]].cL&&(y={type:ki},bc(y,n),(q=r(n,rl))&&ua(n,q.a)(y));for(var v in Nd)Nd[Dc](v)!=l&&(t[wc]?t[wc](v,Nd[v],l):t[Yc]&&t[Yc](kn+v,Nd[v]));Nd={};for(m=0;m<Wf[J];m++)v=
Wf[m],ue(v.eventType,v.handler,v[ad]);Wf=[]}Pj=h;f==l&&e()}}function ie(a,b,c){Kd=l;var d=db[a];d==j||Mf==h||(d=Qj(d),Yf(d,b,c,function(){ob=a}))}function kh(a){for(var b=[],c=0;c<a.X[J];c++){var d=a.X[c],e=x[d];b[H]({_:d,name:e.n,breakpoint:e.d,width:e.Y,height:e.Z})}return b}function Rj(a,b){for(var c=kh(b),d=0;d<c[J];d++)if(c[d].name==a)return c[d]._;return-1}function lh(){for(var a=[],b=0;b<db[J];b++)a[H](db[b].n);return a}function ea(a,b,c){a=a.id;a=T[a]||a;var d=fa[a];d==j&&(d={},fa[a]=d);d[b]=
c}function r(a,b,c){c="undefined"!=typeof c?c:j;a=a.id;a=fa[T[a]||a];if(a==j)return c;b=a[b];return b==j?c:b}function bc(a,b){var c=p.HYPE_eventListeners;if(c!=j){for(var d,e=0;e<c[J];e++)if(c[e][Jb]==a[Jb]&&c[e].callback!=j&&(d=c[e].callback(ja.API,b,a),d===l))return l;return d}}function Sj(a){var b=t[gc](om)[0];b||(b=t[zb](Wl),t[Gc][Ja](b));b[Ja](a)}function Tj(a){a=a[Xa](/\|/g,Qe)[Xa](/\`/g,mm)[Xa](/\@/g,fo)[Xa](/\?/g,Dm)[Xa](/\$/g,Qm)[Xa](/\^/g,df);pf==l&&(a=a[Xa](/rotateY\(0\)/g,gn));var b=t[zb](Wl),
c=t.xmlEncoding==j?Yd:Q;pa(b,c+og+a+kg+c);Sj(b)}function we(a,b){var c=b.f,d=u[ab](a);return Kf(d+100*(a-d)/c,c)}function Xg(a,b){for(var c=0,d=0;d<a[J];d++){for(var e=a[d],f=0,g=e.fb,k=0;100>k;k++){var m=tj(e,k/99),n={};n.location=m;b&&(g=gh(m,g),f+=g,xa(n,g));e.ra[H](n);g=m}c+=f;xa(e,f)}return c}function tj(a,b){var c=Od(a.fb,a.Ib,b),d=Od(a.Ib,a.Bb,b),e=Od(a.Bb,a.Rb,b),f=Od(c,d,b),d=Od(d,e,b),f=Od(f,d,b),g=l,k=d;d.x==f.x&&d.y==f.y&&(c.x==f.x&&c.y==f.y?k=e:(k=c,g=h));f.wb=sj(f,k);g==h&&(f.wb+=180);
return f}function sj(a,b){var c=0,c=b.x==a.x?b.y>=a.y?90:-90:180*u.atan((b.y-a.y)/(b.x-a.x))/u.PI;b.x<a.x&&(c+=180);return c}function Od(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c,wb:0}}function gh(a,b){return u[Cb]((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))}function Uj(a,b,c){var d=t[zb](Wl),e=d[N];za(d,Gh);ya(e,kk);e.top=jf;sa(e,jf);oa(e,fg);Fa(e,fg);if(b.bR!=j||b.aY!=j)e[Ye]=c,Ba(e,c),e.perspective=c;e.pointerEvents=gn;e[pn]=gn;d[Ja](a);return d}function Mb(a){var b=W;a!=j&&(a=a[Nc](Jh),a!=
j&&(b=ma(a)));return b}function tf(a){var b=Mb(t[bb](ec[a]));a=x[b].v[a];return a==j?j:a.bF}function Ug(a){if(Pc!=l){Qc={};var b=[],c=Mb(t[bb](ec[a])),c=x[c].v,d;for(d in c)c[Dc](d)!=l&&c[d].bF==a&&b[H](d);for(a=0;a<b[J];a++)d=b[a],c=Ga(d),Rc(c),Ug(d)}}function Vc(){if(!(0<cc[J])){if(Kd==l&&mh==l){mh=h;var a=Qj(db[ob]);W!=a&&Yf(a,1,0);mh=l}Pc==h&&(Ug(j),ra==h&&wf(zd(j)))}}function Qj(a){var b=kh(a),c=b[0]._;if(1!=b[J]){var d=S[Ib][cb];if(0!=d)for(var e=0;e<b[J]&&!(b[e].breakpoint>d);e++)c=b[e]._}b=
x[c].n;d=bc({type:ei,layoutName:b,sceneName:a.n},S);typeof d===Jn&&d!=b&&(a=Rj(d,a),-1!=a&&(c=a));return c}function Hg(a){var b=ec[Id(W)];a!=j&&(b=ec[a]);a=Qc[b];a==j&&(a=t[bb](b),a={width:a[cb],height:a.offsetHeight},Qc[b]=a);return a}function uf(a){var b=0,c=0;a==j?(b=t[bb](ec[a]),a=Mb(b),b=x[a].Y,c=x[a].Z):(b=Wb(a),c=Xb(a));return{width:b,height:c}}function Sg(a){return(A.Za!=j||3.5<=A.vc||10<=A.aa)&&r(a,Wh)==cg}function Ig(){vf=l;Vg=h;for(var a=0;a<me[J];a++)Rc(me[a]);Vg=l;lj();me=[]}function lj(){he==
j||nh==h||(nh=h,p[vc](function(){nh=l;he.refreshAll()},0))}function fe(a){var b=Mb(a);return x[b].U[T[a.id]]!=j||r(a,xl)!=j?h:l}function oh(a,b,c){var d=b;if(d==j||t[bb](d)!=j){do d=c+Vj();while(t[bb](d)!=j)}ec[a]=d;T[d]=a;return ph[b!=j?b:d]=d}function Ga(a){return t[bb](ec[a])}function Eb(){return(new Date).getTime()}function Vj(){for(var a=Q,b=ja.Zc+Ah,c=0;20>c;c++)var d=u[ab](u.random()*b[J]),a=a+b.substring(d,d+1);return a}function Ng(a){p.console&&p.console.log(a)}function Kj(a){var b=this;
Xf[a]=b;b.bc=function(){var a=t[zb](uk);b.Ia=a;for(var d=b.nd(),e=0;e<d[J];e++){var f=d[e],g=t[zb](Gn);g[Gb](Hn,b.cc[f]);g[Gb](ao,f);a[Ja](g)}t[Gc][Ja](a);return a};b.load=function(a,d){if(!(b.cb==h||b.qb==h)){var e=b.bc(d),f=function(){p[Oa](b.he);b.cb!=h&&(b.qb=l,b.cb=h,a!=j&&a(b),b.Yb==h&&b[Hb]())},g=function(){p[Oa](b.he);b.cb!=h&&(b.qb=l,d!=j&&d(b))};e[Fb](Hl,f,h);e[Fb](jk,g,h);e[Fb](em,g,h);b.he=p[vc](g,15E3);b.qb=h;la.onLine==j||la.onLine==h?e.load():f()}};va(b,function(){if(b.cb!=h){if(b.qb==
h){b.Yb=h;return}b.cb=h}b.Ia==j&&b.bc(j);try{ta(b.Ia,b.loop),b.Ia.currentTime=0}catch(a){}b.Ia[Hb]()});Aa(b,function(){b.cb!=h?b.Yb=l:b.Ia!=j&&b.Ia[Fc]()})}function Jj(a){var b=this;Xf[a]=b;b.load=function(a,d){if(!(b.cb==h||b.qb==h)){b.qb=h;var e=b.bf();-1==e[ub](qg)&&(e=Q+e+qg);var f=new XMLHttpRequest;f.open(zh,e,h);f.responseType=tk;f.onload=function(){b.qb=l;b.cb=h;b.jd=f.response;a!=j&&a(b);b.Yb==h&&b[Hb]()};f.onerror=function(){b.qb=l;d!=j&&d(b)};try{f.send()}catch(g){}}};va(b,function(){b.yd();
var a=p.HYPE_gac_596;a==j&&(a=new (p.AudioContext||p.webkitAudioContext),p.HYPE_gac_596=a);a.resume!=j&&a.resume();b.source=a.createBufferSource();b[Tb].connect(a.destination);ta(b[Tb],b.loop);b[Lc].od==h&&b.Kc();b.cb!=h?(b.Yb=h,b.load()):b.jd!=j?(a.decodeAudioData(b.jd,function(a){b.pe=a;b[Tb].buffer=a;b[Lc].od!=h&&b.Kc()}),b.jd=j):(b[Tb].buffer=b.pe,b[Lc].od!=h&&b.Kc())});Aa(b,function(){b.cb!=h?b.Yb=l:b.yd()});b.Kc=function(){try{if(b[Tb]!=j)if(b[Tb].noteOn!=j)b[Tb].noteOn(0);else b[Tb][Mc](0)}catch(a){}};
b.yd=function(){try{b[Tb]!=j&&(b[Tb].noteOff!=j?b[Tb].noteOff(0):b[Tb].stop(0))}catch(a){}};b.bf=function(){if(b.hd!=j)return b.hd;for(var a=t[zb](uk),d=b.nd(),e=0;e<d[J];e++){var f=d[e];b.hd=b.cc[f];if(a.canPlayType(f)!=en&&a.canPlayType(f)!=Q)break}return b.hd}}function Ao(a){var b=this;Xf[a]=b;b.bc=function(a,d){var e=t[zb](am);b.Ia=e;for(var f=b.nd(),g=0;g<f[J];g++){var k=f[g];if(k!=vk){e[Gb](Hn,b.cc[k]);e[Gb](Rl,Bi);e[Gb](xk,d?Bi:yh);e[Gb](yk,d?Bi:yh);e[Gb](oo,jf);e[Gb](pm,jf);oa(e[N],mf);Fa(e[N],
mf);break}}t[Gc][Ja](e);return e};b.load=function(a,d){b.Ia==j&&b.bc(d);a!=j&&a(b)};va(b,function(){b.Ia==j&&b.bc(j,h);try{b.Ia.SetIsLooping(b.loop)}catch(a){}try{b.Ia[Rb]()}catch(d){p[vc](function(){b[Hb]()},100)}});Aa(b,function(){if(b.Ia!=j)try{b.Ia.Stop()}catch(a){p[vc](function(){b[Fc]()},100)}})}var ja=this,S=t[bb](E),Nf=[Cl,Dl],re=[Li,Oi,Ni,Pi,Mi,Lk,$j,ak,Rk,Bl],Wj={top:{HYP_r:zk},left:{HYP_r:Ki},width:{HYP_r:nl},height:{HYP_r:Tl},"background-image":{HYP_r:Fl},rotateZ:{HYP_r:gm,HYP_s:0},scaleX:{HYP_r:yl,
HYP_s:1},scaleY:{HYP_r:zl,HYP_s:1},"z-index":{HYP_r:ro},opacity:{HYP_r:Zl,HYP_s:1}},ob=0,W=0,qb=[],Pb=[],pb={},eb={},Ed={},sc={},ia={},Hf=l,Jd={},cc=[],ih=l,fa={},bh={},te=[],Nd={},pe=j,If=j,ec={},T={},ph={},Xj=0,Mf=l,Wf=[],Wg={},oj={},Pj=l,Pc=l,vf=l,Vg=l,me=[],Qc={},Rf={},qh={d:[[0,0,0.42,0,1,1,1,1]],e:[[0,0,0,0,0.58,1,1,1]],c:[[0,0,0.42,0,0.58,1,1,1]]},Kd=l,mh=l,he=p.HYPE_w_596,Bf=[],nh=l;ja.Zc=lf;ja.Pa=Xe;ja.Ac=sn;var Vf=l,Sf=0,Tf=l,se=[];ja.z_o=function(){0==Xj&&(Xj=Vj());of!=j&&of(h,S);pf=pf&&
A.Za!=j;A.pb!=j&&t[Gc][Fb](Wn,so(),A.qd?{passive:l}:l);ec[E]=E;T[E]=E;ph[E]=E;oa(S[N],P(x[0].Y));Fa(S[N],P(x[0].Z));for(var a=0;a<x[J];a++){var b=x[a].T,c;for(c in b)if(b[Dc](c)!=l){var d=b[c];d.d=we(d.z,d);for(var e=0;e<d.a[J];e++){var f=d.a[e];f.t=we(f.y,d);f.d=we(f.z,d);f.p==j?f.p=0:2==f.p&&(f.d=0);f.r==j&&(f.r=l);f.k=e}e=d.b;for(f=0;f<e[J];f++){var g=e[f];g.startTime=we(g.C,d);g.duration=we(g.D,d)}}}Tj(cf);uo==h&&Tj(Hi);for(a=0;a<Ti[J];a++)b=Ti[a],c=t[zb](Wl),pa(c,b),Sj(c),9>A.aa&&(b=b.match(/('|")(http.*?css.*?)('|")/),
b!=j&&2<=b[J]&&t.createStyleSheet(b[2]));p[vc](Vc,120);p[vc](Vc,1200);a=t[zb](Wl);a.id=Hh;Da(a[N],gn);a[Gb](sk,h);S[Ja](a);for(b=0;b<x[J];b++){c=x[b];d=t[zb](Wl);e=d[N];za(d,Ih);d.id=oh(c.o,j,vm);d[Gb](Jh,c._);Vi!=l&&(e.backgroundColor=Db(c.c));Da(e,gn);d[Gb](sk,h);e.overflow=qm;ya(e,kk);oa(e,P(c.Y));Fa(e,P(c.Z));A.fc==h&&11>A.aa&&(e.perspective=c.p);S[Ja](d);var e=c.v,k;for(k in e)if(e[Dc](k)!=l&&(f=e[k],(g=f.cL)&&ia[g]==j)){var m=c.T,n=[],s;for(s in m)if(m[Dc](s)!=l){var q=c.T[s],r=q.a;q.s==g&&
(q=Lf(s,r,q,g),n[H](q))}m=t[zb](f.k);za(m,f.cP?Fh+f.cP:Dh);m.id=oh(k,f.i,um);m[Gb](Jh,c._);m[N].pointerEvents=wk;m[N][pn]=wk;f.w!=j&&pa(m,f.w);if(A.fc==h&&(A.aa==j||11<=A.aa))q=Uj(m,f,c.p),q[Gb](Jh,c._),a[Ja](q);else a[Ja](m);ia[g]={element:m,sd:n,ye:f.cS,Od:l,Hd:[]}}n=c.O;for(r=0;r<n[J];r++)if(k=n[r],e[Dc](k)!=l&&(f=e[k],g=f.cL,!(f.cM==h||g))){m=t[zb](f.k);za(m,f.cP?Ch+f.cP:Bh);m.id=oh(k,f.i,um);m[Gb](Jh,c._);m[N].pointerEvents=wk;m[N][pn]=wk;f.w!=j&&pa(m,f.w);var g=j,v;for(v in pc)if(pc[Dc](v)!=
l){for(q=0;q<pc[v][J];q++)if(k==pc[v][q]){g=v;break}if(g!=j)break}A.fc==h&&(A.aa==j||11<=A.aa)?(q=Uj(m,f,c.p),g?ia[g][ad][Ja](q):d[Ja](q)):g?ia[g][ad][Ja](m):d[Ja](m)}}for(k=0;k<x[J];k++){s=x[k].T;for(var G in s)if(s[Dc](G)!=l){v=s[G].j;for(var C in v)if(v[Dc](C)!=l){a=v[C];b={};c=[];for(d=0;d<a[J];d++)e=a[d],c[H]({fb:{x:e[0],y:e[1]},Ib:{x:e[2],y:e[3]},Bb:{x:e[4],y:e[5]},Rb:{x:e[6],y:e[7]},length:0,ra:[]});b.La=c;xa(b,Xg(c,h));Wg[C]=b}}}for(var w in qh)qh[Dc](w)!=l&&(nf[w]=qh[w]);for(var z in nf)if(nf[Dc](z)!=
l){G=nf[z];C=[];for(w=0;w<G[J];w++)k=G[w],C[H]({fb:{x:k[0],y:k[1]},Ib:{x:k[2],y:k[3]},Bb:{x:k[4],y:k[5]},Rb:{x:k[6],y:k[7]},length:0,ra:[]});Xg(C,l);oj[z]=C}if(ra==h){var F,D;"undefined"!==typeof t.hidden?(F=qm,D=ko):"undefined"!==typeof t.Hf?(F=Zm,D=$m):"undefined"!==typeof t.Jf?(F=an,D=bn):"undefined"!==typeof t.Zf&&(F=mo,D=no);"undefined"===typeof t[Fb]||"undefined"===typeof t[F]||t[Fb](D,function(){if(t[F])for(var a=0;a<Ha[J];a++){var b=Ha[a];b.ea!=j&&$b(b.ea)}else for(a=0;a<Ha[J];a++)b=Ha[a],
b.ea!=j&&Ad(b.ea)},l)}for(var L in Ma)Ma[Dc](L)!=l&&(z=Ma[L].g,z!=j&&(D=Jd[z],D==j&&(D=[],Jd[z]=D),D[H](L)));for(var O in Ma)Ma[Dc](O)!=l&&Ma[O].p!=j&&-1==nb(cc,O)&&cc[H](O);L=cc[Wa](0);if(0==L[J])Mj();else if(9>A.aa)Nj();else for(O=0;O<L[J];O++)Oj(L[O],l);p[Fb]?(p[Fb](wn,function(){Kd=l;Vc()}),p[Fb](mn,function(){p[vc](Vc,1)})):p[Sb]&&p[Sb](ln,function(){Kd=l;Vc()});ee&&(S[N][Ze]=An,S[Fb]&&(S[Fb](Il,Qf,h),S[Fb](Xm,Qf,h),S[Fb](Tm,Qf,h),S[Fb](Wm,Qf,h)))};var A;var Ta=function(a){return(a=la&&la[Ac]&&
la[Ac].match(a))&&a[1]},L={};if(la){L.aa=na(Ta(/MSIE (\d+\.\d+)/))||na(Ta(/(Trident)/)&&Ta(/rv:(\d+\.\d+)/))||na(Ta(/Edge\/(\d+\.\d+)/))||j;L.Ae=na(Ta(/Gecko\/(\d+)/))||j;L.vc=na(Ta(/Firefox\/(\d+\.\d+)/))||j;L.Za=na(!L.aa&&Ta(/AppleWebKit\/(\d+\.\d+)/))||j;L.Tc=na(L.Za&&Ta(/Chrome\/(\d+\.\d+)/))||j;L.Qe=na(L.Za&&Ta(/Safari\/(\d+\.\d+)/)&&Ta(/Version\/(\d+\.\d+)/))||j;L.opera=na(Ta(/Opera\/(\d+\.\d+)/)&&Ta(/Version\/(\d+\.\d+)/))||Ta(/Opera\/(\d+\.\d+)/)||na(L.Za&&Ta(/OPR\/(\d+\.\d+)/))||j;L.zd=-1<
la[Ac][Jc](wg)||j;L.Ce=-1<la[Ac][Jc](wm)||j;L.De=-1<la[Ac][Jc](xm)||j;L.Ee=-1<la[Ac][Jc](ym)||j;L.pb=L.Ce||L.De||L.Ee||j;L.Vd=t.compatMode==zg||j;L.fc=L.Za!=j||10<=L.vc||10<=L.aa;for(var rh in L)(L[rh]===j||isNaN(L[rh]))&&delete L[rh];L[yb]&&L.aa&&delete L.aa;L.qd=l;try{var Yj=ga.defineProperty({},nn,{get:function(){L.qd=h}});p[Fb](Rn,j,Yj);p[wc](Rn,j,Yj)}catch(Eo){}}A=L;var Na={i:je,cP:je,b:Rc,a:Rc,c:Nb,d:Nb,bQ:function(a){Sg(a)==h&&le(a)},bS:Rc,t:function(a,b){a[N].fontSize=P(b)},s:function(a,b){a[N].fontFamily=
b},v:function(a,b){a[N].fontWeight=b},u:function(a,b){a[N].fontStyle=b},H:function(a,b){a[N].textDecoration=b},F:function(a,b){a[N].textAlign=b},G:function(a,b){a[N].color=Db(b)},X:function(a,b){a[N].letterSpacing=P(b)},E:function(a,b){a[N].wordSpacing=P(b)},Y:function(a,b){a[N].lineHeight=P(b)},aX:hj,aW:hj,f:Dd,bR:le,aY:le,cQ:Dd,cR:Dd,tX:Dd,tY:Dd,bO:Dd,bP:je,e:function(a,b){if(9>A.aa||A.Vd){if(1==ma(b))ea(a,Qh,Q),ea(a,Ph,Q);else{var c=vg+u[Va](100*b)+Ee;ea(a,Qh,ja.Ac+af+c);ea(a,Ph,c.toLowerCase());
a[N].backgroundColor==Q&&a[N].backgroundImage==Q&&t[bb](Cm+a.id)==j&&Ca(a[N],co+Gf(Tc(Pe))+Zd)}ke(a)}a[N].opacity=b;a[N].MozOpacity=b;jj(a)},aP:function(a,b){a[N].cursor=b},bD:function(a,b){a[N][ja.Pa+eo]=b;a[N].MozUserSelect=b;a.onselectstart=function(){return l}},N:function(a,b){a[N].borderLeftWidth=P(b);Nb(a)},O:function(a,b){a[N].borderRightWidth=P(b);Nb(a)},P:function(a,b){a[N].borderTopWidth=P(b);Nb(a)},M:function(a,b){a[N].borderBottomWidth=P(b);Nb(a)},B:function(a,b){a[N].borderLeftColor=
Db(b)},C:function(a,b){a[N].borderRightColor=Db(b)},D:function(a,b){a[N].borderTopColor=Db(b)},A:function(a,b){a[N].borderBottomColor=Db(b)},J:function(a,b){a[N].borderLeftStyle=b},K:function(a,b){a[N].borderRightStyle=b},L:function(a,b){a[N].borderTopStyle=b},I:function(a,b){a[N].borderBottomStyle=b},aK:function(a,b){b=typeof b!=hn?b:P(b);a[N].borderTopLeftRadius=b;a[N].MozBorderRadiusTopleft=b;9>A.aa&&Df(a)},aL:function(a,b){b=typeof b!=hn?b:P(b);a[N].borderTopRightRadius=b;a[N].MozBorderRadiusTopright=
b;9>A.aa&&Df(a)},aI:function(a,b){b=typeof b!=hn?b:P(b);a[N].borderBottomLeftRadius=b;a[N].MozBorderRadiusBottomleft=b;9>A.aa&&Df(a)},aJ:function(a,b){b=typeof b!=hn?b:P(b);a[N].borderBottomRightRadius=b;a[N].MozBorderRadiusBottomright=b;9>A.aa&&Df(a)},bE:function(a,b){pa(a,Q);var c,d=Jd[b];if(d!=j){for(var e=0;e<d[J];e++){var f=d[e],g=Ma[f].t,f=Tc(f),k=a[Hc][zb](Gn);k.src=f;g!=j&&(A.Tc==j||g!=io)&&k[Gb](ao,g);a[Ja](k);c==j&&(g!=ho&&g!=jo)&&(c=f)}if(c!=j&&9>A.aa){d=a[Hc][zb](Wl);za(d,Bh);for(e=0;e<
a.attributes[J];e++)g=a.attributes.item(e),d[Gb](g.name,g.value);if(a.hasChildNodes)for(e=0;e<a[Qb][J];e++)d[Ja](a[Qb].item(e));d[N].cssText=a[N].cssText;a[dd].replaceChild(d,a);e=hm;g=d[Nc](Sl);if(g!=j&&(g==Sl||g==cg||g==Bi||g==$n))e=$n;g=hm;f=d[Nc](Nm);if(f!=j&&(f==Nm||f==cg||f==Bi||f==$n))g=$n;f=eg;k=d[Nc](cn);if(k!=j&&(k==cn||k==cg||k==Bi||k==$n))f=jf;pa(d,mg+c+ae+d[N][Pa]+ze+d[N][gd]+ce+d.id+Ae+d.id+be+e+Be+g+Ce+f+$d);va(d,function(){Na[Rb](a[Hc][wb][bm+a.id],h)});Aa(d,function(){Na[Rb](a[Hc][wb][bm+
a.id],l)})}}},Play:function(a,b){try{if(a==h)b[Rb]();else b.Stop()}catch(c){p[vc](function(){Na[Rb](b,a)},100)}},aH:function(a){a.autoplay=l},aO:function(a,b){a[Gb](Sl,b);a.controls=0!=b;var c=a[Hc][wb][bm+a.id];if(c!=j&&9>A.aa)try{c.SetControllerVisible(0!=ma(b))}catch(d){p[vc](function(){Na.aO(a,b)},100)}},dA:function(a,b){a[Gb](on,b)},aR:function(a,b){a.muted=0!=b;a.volume=0!=b?kf:dg;var c=a[Hc][wb][bm+a.id];if(c!=j&&9>A.aa)try{c.SetMute(0!=ma(b))}catch(d){p[vc](function(){Na.aR(a,b)},100)}},aQ:function(a,
b){a[Gb](Nm,b);ta(a,0!=b);var c=a[Hc][wb][bm+a.id];if(c!=j&&9>A.aa)try{c.sf(0!=ma(b))}catch(d){p[vc](function(){Na.aQ(a,b)},100)}},j:function(a,b){ya(a[N],b)},r:kj,cY:kj,aG:function(a,b){a[Gb](Tn,b);a[Gb](qk,b)},dB:function(a,b){a[Gb](Cn,b)},g:function(a,b){a[N].backgroundColor=Db(b)},n:Tg,m:Tg,l:Tg,h:function(a,b){var c=Lj(b);c!=j&&(c=Tc(c),da(a,Fl,c))},cZ:function(a,b){if((3.6>A.vc||9>A.aa)&&(a[N].backgroundRepeat==j||a[N].backgroundRepeat==Q||a[N].backgroundRepeat==fn)){var c=Cm+a.id,d=t[bb](c);
d!=j?d.src=b:(d=t[zb](Bm),d.src=b,d.id=c,ya(d[N],kk),oa(d[N],fg),Fa(d[N],fg),d[N].top=jf,sa(d[N],jf),wa(d[N],Oe),a[Ja](d));ea(d,Nh,d.src);9>A.aa&&b.substr(b[J]-4).toLowerCase()==gf&&(d.src=Tc(Pe),c=Gf(b)[Xa](/\%/gi,Ud),ea(d,Oh,ja.Ac+bf+c+Zd),ea(d,Mh,ja.Ac+ff),ke(d));Rc(a)}else Ca(a[N],co+Gf(b)+Zd)},q:function(a,b){a[N].backgroundSize=b;a[N][ja.Pa+Xk]=b;a[N].MozBackgroundSize=b},o:function(a,b){a[N].backgroundOrigin=b;a[N][ja.Pa+Wk]=b;a[N].MozBackgroundOrigin=b},p:function(a,b){if(b!=j&&b!=fn){var c=
t[bb](Cm+a.id);c!=j&&(Ca(a[N],co+Gf(r(c,Nh))+Zd),c[dd][Ic](c))}a[N].backgroundRepeat=b},x:function(a,b){a[N].overflow=b},aT:function(a,b){a[N].paddingLeft=P(b);Nb(a)},aU:function(a,b){a[N].paddingRight=P(b);Nb(a)},aV:function(a,b){a[N].paddingTop=P(b);Nb(a)},aS:function(a,b){a[N].paddingBottom=P(b);Nb(a)},S:Ff,T:Ff,R:Ff,Q:Ff,bB:Ef,bC:Ef,bA:Ef,aZ:Ef,bL:function(a){Bd(a);A.Tc!=j&&a[N][$e]==Q&&(a[N][$e]=gn)},bG:Bd,bH:Bd,bI:Bd,bJ:Bd,bK:Bd,BDbL:Cd,BDbG:Cd,BDbH:Cd,BDbI:Cd,BDbJ:Cd,BDbK:Cd,Z:function(a,b){a[N].wordWrap=
b},yy:function(a,b){a[N].whiteSpace=b},y:function(a,b){a[N].whiteSpaceCollapsing=b},z:function(a,b){wa(a[N],b);a[dd][mc]==Gh&&wa(a[dd][N],b)},aA:function(a,b){var c=ua(a,b.a);ee&&(Uc(a,{Db:1,va:Pn},c),a[N][Ze]=An);Sa(Il,a,c,h)},aD:function(a,b){Sa(Wm,a,ua(a,b.a),l)},aC:function(a,b){Sa(Vm,a,ua(a,b.a),l)},aE:function(a,b){var c=ua(a,b.a);ee&&(Sa(Vn,a,c,h),a[N][Ze]=An);Sa(Xm,a,c,h)},aB:function(a,b){var c=ua(a,b.a);if(ee){var d=l;if(A.pb!=j)for(var e=b.a,f=0;f<e[J];f++)if(5==e[f].p&&e[f].k==h){d=h;
break}d!=h&&Sa(Xn,a,c,h);a[N][Ze]=An}Sa(Tm,a,c,h)},bN:function(a,b){Fj(a,b)},cW:function(a,b){var c=ua(a,b.a);9>A.aa?c():dj(a,c,dm)},cX:function(a,b){9>A.aa||dj(a,ua(a,b.a),fm)},cG:function(a,b){Uc(a,{Db:1,direction:Bn,jc:30,va:Ln},ua(a,b.a))},cH:function(a,b){Uc(a,{Db:1,direction:Lm,jc:30,va:Ln},ua(a,b.a))},cI:function(a,b){Uc(a,{Db:1,direction:bo,jc:30,va:Ln},ua(a,b.a))},cJ:function(a,b){Uc(a,{Db:1,direction:Xl,jc:30,va:Ln},ua(a,b.a))},cK:je,cF:je,aM:function(a,b){Sa(Wm,a,Qg(a,b),l);Sa(Vm,a,Cf(a,
b),l)},aN:function(a,b){ee&&(Sa(Xn,a,Qg(a,b),l),Sa(Wn,a,Cf(a,b),l),Sa(Vn,a,Cf(a,b),l),a[N][Ze]=An);Sa(Tm,a,Qg(a,b),l);Sa(Xm,a,Cf(a,b),l)},V:Rg,U:Rg,W:Rg,w:function(a,b){var c=t[bb](Cm+a.id),c=c!=j?c.cloneNode(h):j;pa(a,b);for(var d=a[gc](En),e=0;e<d[J];e++)d[e].src==Q&&(p.execScript||function(a){p.eval.call(p,a)})(d[e].text);c!=j&&a[Ja](c)},bT:function(a,b){for(var c=0;c<b[J];c++)Dj(b[c].B,ua(a,b[c].a),b[c].cL)},cV:function(a,b){Na.bT(a,b)},aF:function(a,b){a[N].cssText+=jd+b},k:so(),bF:function(a,
b){var c=a,d=a[dd];d!=j&&d[mc]==Gh&&(c=d);var d=Ga(b),e=c[dd];d==j||(d==c||d==a||d==e)||(e[Ic](c),d[Ja](c))},ti:function(a,b){b==j?a[cd](On):a[Gb](On,b)},cN:function(a,b){a[N].pointerEvents=b;a[N][pn]=b;if(11>A.aa){var c=function(b){b=b?b:p[id];if(a[N][pn]==gn){var c=a[N][fd];Da(a[N],gn);var f=t.elementFromPoint(b[ic],b[jc]);Da(a[N],c?c:Q);t.createEvent?(b[lb](),c=t.createEvent(si),c.initMouseEvent(b[Jb],b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b[ic],b[jc],b[xc],b.altKey,b.shiftKey,
b.metaKey,b[tb],j),f.dispatchEvent(c)):(c=t.createEventObject(),c.clientX=b[ic],c.clientY=b[jc],f.fireEvent(kn+b[Jb],c),event.cancelBubble=h)}};Ra(ri,c,a,h);Ra(Xm,c,a,h);Ra(Tm,c,a,h);Ra(Il,c,a,h)}}},Xf={},ge=[Ki,zk,gm],Ha=[],rf=l;Na.bM=Oc;Na.bU=qf;Na.bV=qf;Na.cT=qf;Na.bW=qf;var O,$={},w={je:4},Bo=1,Co=-1;w.create=function(a){var b={id:C.Wb(),type:fl,label:Ag,ca:0,ba:U.Md(pi),position:{x:0,y:0},Ba:{x:0,y:0},lc:0,ka:{x:0,y:0},Fa:{x:0,y:0,ca:0},speed:0,Ra:0,ga:{x:0,y:0},wa:0,da:l,ia:l,rb:0,md:60,Ab:0.0010,
Wa:0,Ma:0.1,wc:0.01,sc:{Fd:1,Rd:4294967295,group:0},yb:0.05,gb:1,ya:{visible:h,Wf:{$f:1,ag:1},lineWidth:1.5}},b=C[jb](b,a);b.fa=b.fa||fb[lc](b.ba);b.$=b.$||s.pc(b[K]);b.pa=b.pa||b.ca;w.be(b,b.ba);w.ae(b,b.da);Ua.set(b,b.ia);U[Cc](b.ba,b.ca,b[K]);Wc[Cc](b.Ta,b.ca);fb[ed](b.fa,b.ba,b.ga);b.Ta=a.Ta||b.Ta;b.Sa=a.Sa||b.Sa;w.Gc(b,a.Va||b.Va);w.ld(b,a.ob||b.ob);a=b.da?Sd:C.qe();var c=C.Te(a);b.ya.fillStyle=b.ya.fillStyle||a;b.ya.strokeStyle=b.ya.strokeStyle||c;return b};w.Lf=function(a){return a?Co--:Bo++};
w.ae=function(a,b){if(a.da=b)a.Wa=0,a.Ma=1,a.Va=a.ob=a.Ab=ha,a.sa=a.Na=0,a.$.x=a[K].x,a.$.y=a[K].y,a.pa=a.ca,a.wa=0,qa(a,0),a.Ra=0,a.rb=0};w.Gc=function(a,b){a.Va=b;a.sa=1/a.Va;a.Ab=a.Va/a.Sa};w.$d=function(a,b){w.Gc(a,b*a.Sa);a.Ab=b};w.ld=function(a,b){a.ob=b;a.Na=1/a.ob};w.be=function(a,b){a.ba=b[0][Gc]===a?b:U[lc](b,a);a.Ta=Wc.Nd(a.ba);a.Sa=U.Sa(a.ba);w.Gc(a,a.Ab*a.Sa);var c=U.Sc(a.ba);U[Kb](a.ba,c,-1);w.ld(a,w.je*U.ob(a.ba,a.Va));U[Kb](a.ba,a[K]);fb[ed](a.fa,a.ba,a.ga)};w.Hc=function(a,b){var c=
s.sub(b,a[K]);a[K].x=b.x;a[K].y=b.y;a.$.x+=c.x;a.$.y+=c.y;U[Kb](a.ba,c);fb[ed](a.fa,a.ba,a.ga)};w.kd=function(a,b){var c=b-a.ca;a.ca=b;a.pa+=c;U[Cc](a.ba,c,a[K]);Wc[Cc](a.Ta,c);fb[ed](a.fa,a.ba,a.ga)};w.Se=function(a,b){a.$.x=a[K].x-b.x;a.$.y=a[K].y-b.y;a.ga.x=b.x;a.ga.y=b.y;qa(a,s.Vb(a.ga))};w.Re=function(a,b){a.pa=a.ca-b;a.wa=b;a.Ra=C.abs(a.wa)};w.translate=function(a,b){w.Hc(a,s.add(a[K],b))};w.rotate=function(a,b){w.kd(a,a.ca+b)};w.scale=function(a,b,c,d){U.scale(a.ba,b,c,d);a.Ta=Wc.Nd(a.ba);
a.Sa=U.Sa(a.ba);w.Gc(a,a.Ab*a.Sa);U[Kb](a.ba,{x:-a[K].x,y:-a[K].y});w.ld(a,U.ob(a.ba,a.Va));U[Kb](a.ba,{x:a[K].x,y:a[K].y});fb[ed](a.fa,a.ba,a.ga)};w.Pe=function(a){for(var b=0;b<a[J];b++){var c=a[b];c.Ba.x=0;c.Ba.y=0;c.lc=0}};w.oe=function(a,b){for(var c=0;c<a[J];c++){var d=a[c];!d.da&&!d.ia&&(d.Ba.y+=0.0010*d.Va*b.y,d.Ba.x+=0.0010*d.Va*b.x)}};w.af=function(a,b,c,d,e){for(var f=0;f<a[J];f++){var g=a[f];!g.da&&!g.ia&&(g.fa.max.x<e.min.x||(g.fa.min.x>e.max.x||g.fa.max.y<e.min.y||g.fa.min.y>e.max.y)||
w[ed](g,b,c,d))}};w.update=function(a,b,c,d){b=u.pow(b*c*a.gb,2);c=1-a.wc*c*a.gb;var e=a[K].y-a.$.y;a.ga.x=(a[K].x-a.$.x)*c*d+a.Ba.x/a.Va*b;a.ga.y=e*c*d+a.Ba.y/a.Va*b;a.$.x=a[K].x;a.$.y=a[K].y;a[K].x+=a.ga.x;a[K].y+=a.ga.y;a.wa=(a.ca-a.pa)*c*d+a.lc/a.ob*b;a.pa=a.ca;a.ca+=a.wa;qa(a,s.Vb(a.ga));a.Ra=C.abs(a.wa);U[Kb](a.ba,a.ga);0!==a.wa&&(U[Cc](a.ba,a.wa,a[K]),Wc[Cc](a.Ta,a.wa));fb[ed](a.fa,a.ba,a.ga)};w.vf=function(a,b,c){a.Ba.x+=c.x;a.Ba.y+=c.y;a.lc+=((b.x-a[K].x)*c.y-(b.y-a[K].y)*c.x)*a.Na};var D=
{create:function(a){return C[jb]({id:C.Wb(),type:Ol,parent:j,zc:l,bb:[],Nb:[],na:[],label:vh},a)},Aa:function(a,b,c,d){a.zc=b;c&&a.parent&&D.Aa(a.parent,b,c,d);if(d)for(var e=0;e<a.na[J];e++)D.Aa(a.na[e],b,c,d)},add:function(a,b){var c=[][hb](b);rb.Ya(a,Zk,{object:b});for(var d=0;d<c[J];d++){var e=c[d];switch(e[Jb]){case fl:D.Lc(a,e);break;case Pl:D.nc(a,e);break;case Ol:D.Mc(a,e);break;case Rm:D.nc(a,e.se)}}rb.Ya(a,mk,{object:b});return a},remove:function(a,b,c){var d=[][hb](b);rb.Ya(a,$k,{object:b});
for(var e=0;e<d[J];e++){var f=d[e];switch(f[Jb]){case fl:D.Wd(a,f,c);break;case Pl:D.gd(a,f,c);break;case Ol:D.Xd(a,f,c);break;case Rm:D.gd(a,f.se)}}rb.Ya(a,nk,{object:b});return a},Mc:function(a,b){a.na[H](b);b.parent=a;D.Aa(a,h,h,l);return a},Xd:function(a,b,c){var d=C[ub](a.na,b);-1!==d&&(D.Me(a,d),D.Aa(a,h,h,l));if(c)for(c=0;c<a.na[J];c++)D.Xd(a.na[c],b,h)},Me:function(a,b){a.na[hd](b,1);D.Aa(a,h,h,l)},Lc:function(a,b){a.bb[H](b);D.Aa(a,h,h,l);return a},Wd:function(a,b,c){var d=C[ub](a.bb,b);
-1!==d&&(D.Le(a,d),D.Aa(a,h,h,l));if(c)for(c=0;c<a.na[J];c++)D.Wd(a.na[c],b,h)},Le:function(a,b){a.bb[hd](b,1);D.Aa(a,h,h,l)},nc:function(a,b){a.Nb[H](b);D.Aa(a,h,h,l);return a},gd:function(a,b,c){var d=C[ub](a.Nb,b);-1!==d&&D.Ne(a,d);if(c)for(c=0;c<a.na[J];c++)D.gd(a.na[c],b,h)},Ne:function(a,b){a.Nb[hd](b,1);D.Aa(a,h,h,l)},clear:function(a,b,c){if(c)for(c=0;c<a.na[J];c++)D[Lb](a.na[c],b,h);b?a.bb=a.bb.filter(function(a){return a.da}):xa(a.bb,0);xa(a.Nb,0);xa(a.na,0);D.Aa(a,h,h,l);return a},Ha:function(a){for(var b=
[][hb](a.bb),c=0;c<a.na[J];c++)b=b[hb](D.Ha(a.na[c]));return b},oc:function(a){for(var b=[][hb](a.Nb),c=0;c<a.na[J];c++)b=b[hb](D.oc(a.na[c]));return b},Nc:function(a){for(var b=[][hb](a.na),c=0;c<a.na[J];c++)b=b[hb](D.Nc(a.na[c]));return b},get:function(a,b,c){var d;switch(c){case fl:d=D.Ha(a);break;case Pl:d=D.oc(a);break;case Ol:d=D.Nc(a)[hb](a)}if(!d)return j;a=d.filter(function(a){return a.id[kc]()===b[kc]()});return 0===a[J]?j:a[0]},move:function(a,b,c){D.remove(a,b);D.add(c,b);return a},Sf:function(a){for(var b=
D.Ha(a)[hb](D.oc(a))[hb](D.Nc(a)),c=0;c<b[J];c++)b[c].id=C.Wb();D.Aa(a,h,h,l);return a},translate:function(a,b,c){c=c?D.Ha(a):a.bb;for(var d=0;d<c[J];d++)w[Kb](c[d],b);D.Aa(a,h,h,l);return a},rotate:function(a,b,c,d){var e=u.cos(b),f=u.sin(b);d=d?D.Ha(a):a.bb;for(var g=0;g<d[J];g++){var k=d[g],m=k[K].x-c.x,n=k[K].y-c.y;w.Hc(k,{x:c.x+(m*e-n*f),y:c.y+(m*f+n*e)});w[Cc](k,b)}D.Aa(a,h,h,l);return a},scale:function(a,b,c,d,e){e=e?D.Ha(a):a.bb;for(var f=0;f<e[J];f++){var g=e[f];w.Hc(g,{x:d.x+(g[K].x-d.x)*
b,y:d.y+(g[K].y-d.y)*c});w.scale(g,b,c)}D.Aa(a,h,h,l);return a}},uc={create:function(a){var b=D[lc]();return C[jb](b,{label:Fi,Ub:{x:0,y:1},fa:{min:{x:0,y:0},max:{x:800,y:600}}},a)}},Zf={create:function(a){return{id:Zf.id(a),ge:a,Hb:0,Jb:0}},id:function(a){return a[Gc].id+Ii+a[nc]}},$f={re:function(a,b){for(var c=[],d=b.Fb,e=b.Ca.ic,f=0;f<a[J];f++){var g=a[f][0],k=a[f][1];if((!g.da&&!g.ia||!k.da&&!k.ia)&&$f.Ed(g.sc,k.sc))if(d.ad+=1,fb.Td(g.fa,k.fa)){var m=gb.id(g,k),m=e[m],g=sh.Gd(g,k,m&&m.Oa?m.nb:
j);d.dd+=1;g.Zd&&(d.cd+=1);g.ib&&(c[H](g),d.bd+=1)}}return c},wf:function(a,b){for(var c=[],d=b.Fb,e=b.Ca.ic,f=0;f<a[J];f++)for(var g=f+1;g<a[J];g++){var k=a[f],m=a[g];if((!k.da&&!k.ia||!m.da&&!m.ia)&&$f.Ed(k.sc,m.sc))if(d.ad+=1,fb.Td(k.fa,m.fa)){var n=gb.id(k,m),n=e[n],k=sh.Gd(k,m,n&&n.Oa?n.nb:j);d.dd+=1;k.Zd&&(d.cd+=1);k.ib&&(c[H](k),d.bd+=1)}}return c},Ed:function(a,b){return a[Kc]===b[Kc]&&0!==a[Kc]?0<a[Kc]:0!==(a.Rd&b.Fd)&&0!==(b.Rd&a.Fd)}},th={create:function(a){return C[jb]({Ga:th,xe:$f.re,
Dd:{},Ca:{},ed:[],Cd:48,Bd:48},a)},update:function(a,b,c,d){var e,f,g=c.ma,k=a.Dd,m,n,s=c.Fb;e=l;for(c=s.Ad=0;c<b[J];c++){var q=b[c];if(!q.ia||d)if(!(0>q.fa.max.x||q.fa.min.x>g.fa[Pa]||0>q.fa.max.y||q.fa.min.y>g.fa[gd])){var r;r=q.fa;r=Yi(u[ab](r.min.x/a.Cd),u[ab](r.max.x/a.Cd),u[ab](r.min.y/a.Bd),u[ab](r.max.y/a.Bd));if(!q[sb]||r.id!==q[sb].id||d){s.Ad+=1;if(!q[sb]||d)q.region=r;var v;m=r;n=q[sb];e=u.min(m.dc,n.dc);f=u.max(m.Qb,n.Qb);v=u.min(m.ec,n.ec);m=u.max(m.Sb,n.Sb);v=Yi(e,f,v,m);for(e=v.dc;e<=
v.Qb;e++)for(f=v.ec;f<=v.Sb;f++){n=e+He+f;m=k[n];var w=e>=r.dc&&e<=r.Qb&&f>=r.ec&&f<=r.Sb,x=e>=q[sb].dc&&e<=q[sb].Qb&&f>=q[sb].ec&&f<=q[sb].Sb;if(!w&&x&&x&&m){var A=a,z=m,F=q;z[hd](C[ub](z,F),1);for(var D=0;D<z[J];D++){var E=gb.id(F,z[D]);(E=A.Ca[E])&&(E[2]-=1)}}if(q[sb]===r||w&&!x||d){m||(m=k[n]=[]);n=a;w=q;for(x=0;x<m[J];x++)A=m[x],w.id===A.id||w.da&&A.da||(z=gb.id(w,A),(F=n.Ca[z])?F[2]+=1:n.Ca[z]=[w,A,1]);m[H](w)}}q.region=r;e=h}}}if(e){g=[];b=C[fc](a.Ca);for(k=0;k<b[J];k++)d=a.Ca[b[k]],0<d[2]?
g[H](d):delete a.Ca[b[k]];a.ed=g}},clear:function(a){a.Dd={};a.Ca={};a.ed=[]}},gb={create:function(a,b){var c=a.ja,d=a.la,c={id:gb.id(c,d),ja:c,la:d,ue:{},mc:[],Fc:0,Oa:h,Xf:b,rd:b,sa:c.sa+d.sa,Ma:u.min(c.Ma,d.Ma),Wa:u.max(c.Wa,d.Wa),yb:u.max(c.yb,d.yb)};gb[ed](c,a,b);return c},update:function(a,b,c){var d=a.ue,e=b.pd,f=a.mc;a.nb=b;a.sa=b.ja.sa+b.la.sa;a.Ma=u.min(b.ja.Ma,b.la.Ma);a.Wa=u.max(b.ja.Wa,b.la.Wa);a.yb=u.max(b.ja.yb,b.la.yb);xa(f,0);if(b.ib){for(var g=0;g<e[J];g++){var k=e[g],m=Zf.id(k),
n=d[m];n?f[H](n):f[H](d[m]=Zf[lc](k))}a.Fc=b.depth;gb.setActive(a,h,c)}else a.Oa===h&&gb.setActive(a,l,c)},setActive:function(a,b,c){b?(a.Oa=h,a.rd=c):(a.Oa=l,xa(a.mc,0))},id:function(a,b){return a.id<b.id?a.id+Ii+b.id:b.id+Ii+a.id}},xe={create:function(a){return C[jb]({ic:{},list:[],tc:[],qc:[],rc:[]},a)},update:function(a,b,c){var d=a[ib],e=a.ic,f=a.tc,g=a.rc;a=a.qc;var k=[],m,n,s,q;xa(f,0);xa(g,0);xa(a,0);for(q=0;q<b[J];q++)m=b[q],m.ib&&(n=gb.id(m.ja,m.la),k[H](n),(s=e[n])?(s.Oa?a[H](s):f[H](s),
gb[ed](s,m,c)):(s=gb[lc](m,c),e[n]=s,f[H](s),d[H](s)));for(q=0;q<d[J];q++)s=d[q],s.Oa&&-1===C[ub](k,s.id)&&(gb.setActive(s,l,c),g[H](s))},Oe:function(a,b){var c=a[ib],d=a.ic,e=[],f,g,k;for(k=0;k<c[J];k++)f=c[k],g=f.nb,g.ja.ia||g.la.ia?f.rd=b:1E3<b-f.rd&&e[H](k);for(k=0;k<e[J];k++)g=e[k]-k,f=c[g],delete d[f.id],c[hd](g,1)},clear:function(a){a.ic={};xa(a[ib],0);xa(a.tc,0);xa(a.qc,0);xa(a.rc,0);return a}},ye={Xe:function(a,b){var c,d,e,f,g,k,m;for(c=0;c<a[J];c++)d=a[c],d.Oa&&(e=d.nb,f=e.ja,g=e.la,k=
e.pd[0],m=e.Ze,e=e.Qa,f=s.sub(s.add(g.ka,k),s.add(f.ka,m)),d.Fc=s.za(e,f));for(c=0;c<a[J];c++)if(d=a[c],d.Oa){e=d.nb;f=e.ja;g=e.la;e=e.Qa;positionImpulse=(0.2*d.Fc-d.yb)*b;if(f.da||g.da)positionImpulse*=2;!f.da&&!f.ia&&(f.ka.x+=e.x*positionImpulse,f.ka.y+=e.y*positionImpulse);!g.da&&!g.ia&&(g.ka.x-=e.x*positionImpulse,g.ka.y-=e.y*positionImpulse)}},Je:function(a){for(var b=0;b<a[J];b++){var c=a[b];if(0!==c.ka.x||0!==c.ka.y)c[K].x+=c.ka.x,c[K].y+=c.ka.y,c.$.x+=c.ka.x,c.$.y+=c.ka.y,U[Kb](c.ba,c.ka),
fb[ed](c.fa,c.ba,c.ga),c.ka.x*=0.6,c.ka.y*=0.6}},Ke:function(a){var b={},c,d,e,f,g,k,m,n,r,q;for(c=0;c<a[J];c++)if(e=a[c],e.Oa){f=e.mc;d=e.nb;e=d.ja;g=d.la;k=d.Qa;m=d.ee;for(d=0;d<f[J];d++)n=f[d],r=n.ge,q=n.Hb,n=n.Jb,b.x=k.x*q+m.x*n,b.y=k.y*q+m.y*n,!e.da&&!e.ia&&(q=s.sub(r,e[K]),e.$.x+=b.x*e.sa,e.$.y+=b.y*e.sa,e.pa+=s.jb(q,b)*e.Na),!g.da&&!g.ia&&(q=s.sub(r,g[K]),g.$.x-=b.x*g.sa,g.$.y-=b.y*g.sa,g.pa-=s.jb(q,b)*g.Na)}},Ye:function(a,b){for(var c={},d=b*b,e=0;e<a[J];e++){var f=a[e];if(f.Oa){var g=f.nb,
k=g.ja,m=g.la,n=g.Qa,g=g.ee,r=f.mc,q=1/r[J];k.ga.x=k[K].x-k.$.x;k.ga.y=k[K].y-k.$.y;m.ga.x=m[K].x-m.$.x;m.ga.y=m[K].y-m.$.y;k.wa=k.ca-k.pa;m.wa=m.ca-m.pa;for(var B=0;B<r[J];B++){var v=r[B],w=v.ge,x=s.sub(w,k[K]),w=s.sub(w,m[K]),A=s.add(k.ga,s.sb(s.Xb(x),k.wa)),z=s.add(m.ga,s.sb(s.Xb(w),m.wa)),A=s.sub(A,z),F=s.za(n,A),D=s.za(g,A),A=C.abs(D),E=C.Ue(D),z=(1+f.Wa)*F,L=C.Mb(f.Fc+F,0,1);A>L*f.Ma*d&&(D=L*f.Ma*d*E);E=s.jb(x,n);L=s.jb(w,n);E=q/(f.sa+k.Na*E*E+m.Na*L*L);z*=E;D*=E;0>F&&F*F>4*d?(v.Hb=0,v.Jb=0):
(F=v.Hb,v.Hb=u.min(v.Hb+z,0),z=v.Hb-F,F=v.Jb,v.Jb=C.Mb(v.Jb+D,-A,A),D=v.Jb-F);c.x=n.x*z+g.x*D;c.y=n.y*z+g.y*D;!k.da&&!k.ia&&(k.$.x+=c.x*k.sa,k.$.y+=c.y*k.sa,k.pa+=s.jb(x,c)*k.Na);!m.da&&!m.ia&&(m.$.x-=c.x*m.sa,m.$.y-=c.y*m.sa,m.pa-=s.jb(w,c)*m.Na)}}}}},sh={Gd:function(a,b,c){var d,e;d=l;c?(e=a[vb]*a[vb]+a.Ra*a.Ra+b[vb]*b[vb]+b.Ra*b.Ra,d=c&&c.ib&&0.2>e,e=c):e={ib:l,ja:a,la:b};if(c&&d){if(c=Cg(c.ja.ba,c.la.ba,[c.ja.Ta[c.Rc]]),e.Zd=h,0>=c.lb)return e.ib=l,e}else{c=Cg(a.ba,b.ba,a.Ta);if(0>=c.lb)return e.ib=
l,e;d=Cg(b.ba,a.ba,b.Ta);if(0>=d.lb)return e.ib=l,e;c.lb<d.lb?(e.ja=a,e.la=b):(c=d,e.ja=b,e.la=a);e.Rc=c.Rc}e.ib=h;e.Qa=c.axis;e.depth=c.lb;a=e.ja;b=e.la;0<s.za(e.Qa,s.sub(b[K],a[K]))&&(e.Qa=s.Sd(e.Qa));e.ee=s.Xb(e.Qa);e.Fe={x:e.Qa.x*e.depth,y:e.Qa.y*e.depth};c=Wi(a,b,e.Qa);d=e.pd||[];xa(d,0);U[$c](a.ba,c[0])&&d[H](c[0]);U[$c](a.ba,c[1])&&d[H](c[1]);2>d[J]&&(a=Wi(b,a,s.Sd(e.Qa)),U[$c](b.ba,a[0])&&d[H](a[0]),2>d[J]&&U[$c](b.ba,a[1])&&d[H](a[1]));2>d[J]&&(d=[c[0]]);e.pd=d;e.Ze=s.sub(d[0],e.Fe);return e}},
ag={create:function(a){a.ja&&!a.Zb&&(a.Zb={x:0,y:0});a.la&&!a.$b&&(a.$b={x:0,y:0});var b=a.ja?s.add(a.ja[K],a.Zb):a.Zb,c=a.la?s.add(a.la[K],a.$b):a.$b,b=s.Vb(s.sub(b,c));xa(a,a[J]||b||1E-6);a.ya=C[jb]({visible:h,lineWidth:2,strokeStyle:yd},a.ya);a.id=a.id||C.Wb();a.label=a.label||wh;a.type=Pl;a.de=a.de||1;a.Qc=a.Qc||0;a.Oc=a.ja?a.ja.ca:a.Oc;a.Pc=a.la?a.la.ca:a.Pc;return a},We:function(a,b){for(var c=0;c<a[J];c++)ag.Ve(a[c],b)},Ve:function(a,b){var c=a.ja,d=a.la,e=a.Zb,f=a.$b;c&&!c.da&&(a.Zb=s[Cc](e,
c.ca-a.Oc),a.Oc=c.ca);d&&!d.da&&(a.$b=s[Cc](f,d.ca-a.Pc),a.Pc=d.ca);var g=e,k=f;c&&(g=s.add(c[K],e));d&&(k=s.add(d[K],f));if(g&&k){var e=s.sub(g,k),m=s.Vb(e);0===m&&(m=1E-6);f=s.ze(e,m);e=s.sb(e,0.5*((m-a[J])/m)*a.de*b*b);if(!(C.abs(1-m/a[J])<0.0010*b)){var n,r,q;c&&!c.da?(n={x:g.x-c[K].x+e.x,y:g.y-c[K].y+e.y},c.ga.x=c[K].x-c.$.x,c.ga.y=c[K].y-c.$.y,c.wa=c.ca-c.pa,g=s.add(c.ga,s.sb(s.Xb(n),c.wa)),m=s.za(n,f),m=c.sa+c.Na*m*m):(g={x:0,y:0},m=c?c.sa:0);d&&!d.da?(r={x:k.x-d[K].x-e.x,y:k.y-d[K].y-e.y},
d.ga.x=d[K].x-d.$.x,d.ga.y=d[K].y-d.$.y,d.wa=d.ca-d.pa,k=s.add(d.ga,s.sb(s.Xb(r),d.wa)),q=s.za(r,f),q=d.sa+d.Na*q*q):(k={x:0,y:0},q=d?d.sa:0);k=s.za(f,s.sub(k,g))/(m+q);0<k&&(k=0);f={x:f.x*k,y:f.y*k};c&&!c.da&&(n=s.jb(n,f)*c.Na*(1-a.Qc),Ua.set(c,l),n=C.Mb(n,-0.01,0.01),c.Fa.x-=e.x,c.Fa.y-=e.y,c.Fa.ca+=n,c[K].x-=e.x,c[K].y-=e.y,c.ca+=n);d&&!d.da&&(n=s.jb(r,f)*d.Na*(1-a.Qc),Ua.set(d,l),n=C.Mb(n,-0.01,0.01),d.Fa.x+=e.x,d.Fa.y+=e.y,d.Fa.ca-=n,d[K].x+=e.x,d[K].y+=e.y,d.ca-=n)}}},Ie:function(a){for(var b=
0;b<a[J];b++){var c=a[b],d=c.Fa;U[Kb](c.ba,d);0!==d.ca&&(U[Cc](c.ba,d.ca,c[K]),Wc[Cc](c.Ta,d.ca),d.ca=0);fb[ed](c.fa,c.ba);d.x=0;d.y=0}}},C={me:0,Jc:0,extend:function(a,b){var c,d;typeof b===hl?(c=2,d=b):(c=1,d=h);c=Array.prototype[Wa].call(arguments,c);for(var e=0;e<c[J];e++){var f=c[e];if(f)for(var g in f)d&&f[g]&&f[g].constructor===ga?!a[g]||a[g].constructor===ga?(a[g]=a[g]||{},C[jb](a[g],d,f[g])):a[g]=f[g]:a[g]=f[g]}return a},pc:function(a,b){return C[jb]({},b,a)},keys:function(a){if(ga[fc])return ga[fc](a);
var b=[],c;for(c in a)b[H](c);return b},cf:function(a){var b=[];if(ga[fc]){for(var c=ga[fc](a),d=0;d<c[J];d++)b[H](a[c[d]]);return b}for(c in a)b[H](a[c]);return b},Te:function(a){var b=ma(a[Wa](1),16),c=u[Va](-51);a=(b>>16)+c;var d=(b>>8&255)+c,b=(b&255)+c;return vd+(16777216+65536*(255>a?1>a?0:a:255)+256*(255>d?1>d?0:d:255)+(255>b?1>b?0:b:255))[kc](16)[Wa](1)},Vf:function(a){for(var b=a[J]-1;0<b;b--){var c=u[ab](C.random()*(b+1)),d=a[b];a[b]=a[c];a[c]=d}return a},qe:function(){var a=[xd,wd,Qd,Rd,
Pd];return a[u[ab](C.random()*a[J])]},Pd:function(a){try{return a instanceof HTMLElement}catch(b){return typeof a===jn&&1===a.nodeType&&typeof a[N]===jn&&typeof a[Hc]===jn}},Mb:function(a,b,c){return a<b?b:a>c?c:a},Ue:function(a){return 0>a?-1:1},now:function(){var a=p.performance;return a?(a.now=a.now||a.webkitNow||a.Kf||a.Mf||a.If,+a.now()):+new Date},random:function(a,b){a="undefined"!==typeof a?a:0;C.Jc=(9301*C.Jc+49297)%233280;return a+C.Jc/233280*(("undefined"!==typeof b?b:1)-a)},yf:function(a){a=
a[Xa](vd,Q);3==a[J]&&(a=a[kb](0)+a[kb](0)+a[kb](1)+a[kb](1)+a[kb](2)+a[kb](2));return ma(a,16)},log:function(a,b){if(console&&console.log){var c;switch(b){case lo:c=Ml;break;case em:c=Nl}console.log(Wd+b+ig+a,c)}},Wb:function(){return C.me++},sin:function(a){return na(u.sin(a)[Ya](8))},cos:function(a){return na(u.cos(a)[Ya](8))},indexOf:function(a,b){if(a[ub])return a[ub](b);for(var c=0;c<a[J];c++)if(a[c]===b)return c;return-1},sqrt:function(a){return na(u[Cb](a)[Ya](8))},abs:function(a){return na(u.abs(a)[Ya](8))},
indexOf:function(a,b){if(a[ub])return a[ub](b);for(var c=0;c<a[J];c++)if(a[c]==b)return c;return-1}},Xc={},Do=1E3/60;Xc.create=function(a,b){b=C.Pd(a)?b:a;a=C.Pd(a)?a:j;var c=C[jb]({enabled:h,He:6,df:4,te:2,Uc:l,Ua:[],timing:{Cf:60,timestamp:0,zf:Do,we:1,Bf:1E3/60,Af:1E3/30,gb:1,Ef:l,Df:0},ya:{element:a,Ga:uh},Lb:{Ga:th}},b);c.ya=c.ya.Ga[lc](c.ya);c.ma=uc[lc](c.ma);c.Ca=xe[lc]();c.Fb=c.Fb||bg[lc]();c.Lb=c.Lb.Ga[lc](c.Lb);return c};Xc.update=function(a,b,c){c="undefined"!==typeof c?c:1;var d=a.ma,
e=a.timing,f=a.Lb,g=[];e.timestamp=e[Za]+b*e.gb;e.we=c;var k={timestamp:a.timing[Za]};rb.Ya(a,bl,k);var m=D.Ha(d),g=D.oc(d);bg.reset(a.Fb);a.Uc&&Ua[ed](m,e.gb);w.oe(m,d.Ub);w.af(m,b,e.gb,c,d.fa);for(b=0;b<a.te;b++)ag.We(g,e.gb);ag.Ie(m);f.Ga?(d.zc&&f.Ga[Lb](f),f.Ga[ed](f,m,a,d.zc),g=f.ed):g=m;b=f.xe(g,a);f=a.Ca;c=e[Za];xe[ed](f,b,c);xe.Oe(f,c);a.Uc&&Ua.ne(f[ib],e.gb);0<f.tc[J]&&rb.Ya(a,Ll,{Ca:f.tc});ye.Ke(f[ib]);for(b=0;b<a.df;b++)ye.Ye(f[ib],e.gb);for(b=0;b<a.He;b++)ye.Xe(f[ib],e.gb);ye.Je(m);0<
f.qc[J]&&rb.Ya(a,Jl,{Ca:f.qc});0<f.rc[J]&&rb.Ya(a,Kl,{Ca:f.rc});bg[ed](a.Fb,a);w.Pe(m);d.zc&&D.Aa(d,l,l,h);rb.Ya(a,pk,k);return a};Xc.ya=function(a){var b={timestamp:a.timing[Za]};rb.Ya(a,al,b);a.ya.Ga.ma(a);rb.Ya(a,ok,b)};Xc.Gf=function(a,b){C[jb](a,b);if(b.ma){a.ma=b.ma;Xc[Lb](a);for(var c=D.Ha(a.ma),d=0;d<c[J];d++){var e=c[d];Ua.set(e,l);e.id=C.Wb()}}};Xc.clear=function(a){var b=a.ma;xe[Lb](a.Ca);var c=a.Lb;c.Ga&&(b=D.Ha(b),c.Ga[Lb](c),c.Ga[ed](c,b,a,h))};var rb={Pf:function(a,b,c){b=b[yc](kd);
for(var d,e=0;e<b[J];e++)d=b[e],a.Ua=a.Ua||{},a.Ua[d]=a.Ua[d]||[],a.Ua[d][H](c);return c},Nf:function(a,b,c){if(b){typeof b===nm&&(c=b,b=C[fc](a.Ua).join(kd));b=b[yc](kd);for(var d=0;d<b[J];d++){var e=a.Ua[b[d]],f=[];if(c)for(var g=0;g<e[J];g++)e[g]!==c&&f[H](e[g]);a.Ua[b[d]]=f}}else a.Ua={}},Ya:function(a,b,c){var d,e,f;if(a.Ua){c||(c={});b=b[yc](kd);for(var g=0;g<b[J];g++)if(d=b[g],e=a.Ua[d]){f=C.pc(c,l);f.name=d;f.source=a;for(d=0;d<e[J];d++)e[d].apply(a,[f])}}}},Ua={le:0.2,ke:0.1,xd:0.9,update:function(a,
b){for(var c=b*b*b,d=0;d<a[J];d++){var e=a[d],f=e[vb]*e[vb]+e.Ra*e.Ra;if(0<e.Ba.x||0<e.Ba.y)Ua.set(e,l);else{var g=u.min(e.rb,f),f=u.max(e.rb,f);e.rb=Ua.xd*g+(1-Ua.xd)*f;0<e.md&&e.rb<Ua.ke*c?(e.xb+=1,e.xb>=e.md&&Ua.set(e,h)):0<e.xb&&(e.xb-=1)}}},ne:function(a,b){for(var c=b*b*b,d=0;d<a[J];d++){var e=a[d];if(e.Oa){var f=e.nb,e=f.ja,g=f.la;if(!(e.ia&&g.ia||e.da||g.da))if(e.ia||g.ia)f=e.ia&&!e.da?e:g,e=f===e?g:e,!f.da&&e.rb>Ua.le*c&&Ua.set(f,l)}}},set:function(a,b){b?(a.ia=h,a.xb=a.md,a.ka.x=0,a.ka.y=
0,a.$.x=a[K].x,a.$.y=a[K].y,a.pa=a.ca,qa(a,0),a.Ra=0,a.rb=0):(a.ia=l,a.xb=0)}},Wc={Nd:function(a){for(var b={},c=0;c<a[J];c++){var d=(c+1)%a[J],d=s.Bc({x:a[d].y-a[c].y,y:a[c].x-a[d].x}),e=0===d.y?ha:d.x/d.y,e=e[Ya](3)[kc]();b[e]=d}return C.cf(b)},rotate:function(a,b){if(0!==b)for(var c=C.cos(b),d=C.sin(b),e=0;e<a[J];e++){var f=a[e],g;g=f.x*c-f.y*d;f.y=f.x*d+f.y*c;f.x=g}}},fb={create:function(a){var b={min:{x:0,y:0},max:{x:0,y:0}};a&&fb[ed](b,a);return b},update:function(a,b,c){a.min.x=ka[xb];a.max.x=
ka[hc];a.min.y=ka[xb];a.max.y=ka[hc];for(var d=0;d<b[J];d++){var e=b[d];e.x>a.max.x&&(a.max.x=e.x);e.x<a.min.x&&(a.min.x=e.x);e.y>a.max.y&&(a.max.y=e.y);e.y<a.min.y&&(a.min.y=e.y)}c&&(0<c.x?a.max.x+=c.x:a.min.x+=c.x,0<c.y?a.max.y+=c.y:a.min.y+=c.y)},contains:function(a,b){return b.x>=a.min.x&&b.x<=a.max.x&&b.y>=a.min.y&&b.y<=a.max.y},Td:function(a,b){return a.min.x<=b.max.x&&a.max.x>=b.min.x&&a.max.y>=b.min.y&&a.min.y<=b.max.y},translate:function(a,b){a.min.x+=b.x;a.max.x+=b.x;a.min.y+=b.y;a.max.y+=
b.y},shift:function(a,b){var c=a.max.x-a.min.x,d=a.max.y-a.min.y;a.min.x=b.x;a.max.x=b.x+c;a.min.y=b.y;a.max.y=b.y+d}},s={pc:function(a){return{x:a.x,y:a.y}},Vb:function(a){return C[Cb](a.x*a.x+a.y*a.y)},Ff:function(a){return a.x*a.x+a.y*a.y},rotate:function(a,b){var c=C.cos(b),d=C.sin(b);return{x:a.x*c-a.y*d,y:a.x*d+a.y*c}},Uf:function(a,b,c){var d=C.cos(b);b=C.sin(b);return{x:c.x+((a.x-c.x)*d-(a.y-c.y)*b),y:c.y+((a.x-c.x)*b+(a.y-c.y)*d)}},Bc:function(a){var b=s.Vb(a);return 0===b?{x:0,y:0}:{x:a.x/
b,y:a.y/b}},za:function(a,b){return a.x*b.x+a.y*b.y},jb:function(a,b){return a.x*b.y-a.y*b.x},add:function(a,b){return{x:a.x+b.x,y:a.y+b.y}},sub:function(a,b){return{x:a.x-b.x,y:a.y-b.y}},sb:function(a,b){return{x:a.x*b,y:a.y*b}},ze:function(a,b){return{x:a.x/b,y:a.y/b}},Xb:function(a){var b;b=b===h?-1:1;return{x:b*-a.y,y:b*a.x}},Sd:function(a){return{x:-a.x,y:-a.y}},ca:function(a,b){return u[Ab](b.y-a.y,b.x-a.x)}},U={create:function(a,b){for(var c=[],d=0;d<a[J];d++){var e=a[d],f={};f.x=e.x;f.y=e.y;
f.index=d;f.body=b;c[H](f)}return c},Md:function(a){var b=[];a[Xa](/L\s*([\-\d\.]*)\s*([\-\d\.]*)/ig,function(a,d,e){b[H]({x:na(d,10),y:na(e,10)})});return U[lc](b,aa)},Sc:function(a){for(var b=ka[xb],c=ka[hc],d=ka[xb],e=ka[hc],f=0;f<a[J];f++)b=u.min(a[f].x,b),c=u.max(a[f].x,c),d=u.min(a[f].y,d),e=u.max(a[f].y,e);return{x:(c+b)/2,y:(e+d)/2}},Sa:function(a,b){for(var c=0,d=a[J]-1,e=0;e<a[J];e++)c+=(a[d].x-a[e].x)*(a[d].y+a[e].y),d=e;return b?c/2:C.abs(c)/2},ob:function(a,b){for(var c=0,d=0,e,f,g=0;g<
a[J];g++)f=(g+1)%a[J],e=C.abs(s.jb(a[f],a[g])),c+=e*(s.za(a[f],a[f])+s.za(a[f],a[g])+s.za(a[g],a[g])),d+=e;return b/6*(c/d)},translate:function(a,b,c){var d;if(c)for(d=0;d<a[J];d++)a[d].x+=b.x*c,a[d].y+=b.y*c;else for(d=0;d<a[J];d++)a[d].x+=b.x,a[d].y+=b.y;return a},rotate:function(a,b,c){if(0!==b){var d=C.cos(b);b=C.sin(b);for(var e=0;e<a[J];e++){var f=a[e],g=f.x-c.x,k=f.y-c.y;f.x=c.x+(g*d-k*b);f.y=c.y+(g*b+k*d)}return a}},contains:function(a,b){for(var c=0;c<a[J];c++){var d=a[c],e=a[(c+1)%a[J]];
if(0<(b.x-d.x)*(e.y-d.y)+(b.y-d.y)*(d.x-e.x))return l}return h},scale:function(a,b,c,d){if(1===b&&1===c)return a;d=d||U.Sc(a);for(var e,f=0;f<a[J];f++)e=a[f],e=s.sub(e,d),a[f].x=d.x+e.x*b,a[f].y=d.y+e.y*c;return a},xf:function(a,b,c,d,e){b=b||[8];b[J]||(b=[b]);c="undefined"!==typeof c?c:-1;d=d||2;e=e||14;U.Sc(a);for(var f=[],g=0;g<a[J];g++){var k=a[0<=g-1?g-1:a[J]-1],m=a[g],n=a[(g+1)%a[J]],r=b[g<b[J]?g:b[J]-1];if(0===r)f[H](m);else{var k=s.Bc({x:m.y-k.y,y:k.x-m.x}),q=s.Bc({x:n.y-m.y,y:m.x-n.x}),w=
C[Cb](2*u.pow(r,2)),n=s.sb(C.pc(k),r),v=s.Bc(s.sb(s.add(k,q),0.5)),m=s.sub(m,s.sb(v,w)),w=c;-1===c&&(w=1.75*u.pow(r,0.32));w=C.Mb(w,d,e);1===w%2&&(w+=1);r=u.acos(s.za(k,q))/w;for(k=0;k<w;k++)f[H](s.add(s[Cc](n,r*k),m))}}return f}},uh={create:function(a){return C[jb]({Ga:uh,element:j,options:{width:800,height:600,enabled:h},Yd:j},a)},clear:so(),ma:function(a){a.ya.Ga.Yd(a)}},bg={create:function(){return{}},reset:so(),update:so()};uc.add=D.add;uc.remove=D.remove;uc.Mc=D.Mc;uc.Lc=D.Lc;uc.nc=D.nc;uc.clear=
D[Lb];$.$a=w;$.zb=D;$.uf=uc;$.hf=Zf;$.jf=$f;$.lf=th;$.of=xe;$.nf=gb;$.qf=ye;$.rf=sh;$.gf=ag;$.Ka=C;$.Ic=Xc;$.mf=bg;$.wd=Ua;$.ef=Wc;$.ff=fb;$.tf=s;$.ie=U;$.pf=uh;$.kf=rb;O=$;ja.API={kSceneTransitionInstant:1,kSceneTransitionCrossfade:2,kSceneTransitionSwap:3,kSceneTransitionPushLeftToRight:4,kSceneTransitionPushRightToLeft:5,kSceneTransitionPushBottomToTop:6,kSceneTransitionPushTopToBottom:7,kHypeGesturePhaseStart:In,kHypeGesturePhaseMove:Ym,kHypeGesturePhaseEnd:cm,kHypeGesturePhaseCancel:Gl,documentName:function(){return V},
documentId:function(){return E},sceneNames:lh,currentSceneName:function(){return db[ob].n},layoutsForSceneNamed:function(a){a=a!=j?nb(lh(),a):ob;return kh(db[a])},currentLayoutName:function(){return x[W].n},showLayoutNamed:function(a){a=Rj(a,db[ob]);-1!=a&&(Kd=h,Yf(a,1,0))},showSceneNamed:function(a,b,c){a=nb(lh(),a);ie(a,b,c)},showNextScene:function(a,b){ie(ob+1,a,b)},showPreviousScene:function(a,b){ie(ob-1,a,b)},playTimelineNamed:zj,startTimelineNamed:zj,goToTimeInTimelineNamed:function(a,b){ac(a,
tc(b),l,l)},pauseTimelineNamed:function(a){$b(tc(a),j)},continueTimelineNamed:function(a,b,c){a=tc(a);b==aa&&(b=0);Ad(a,1==b?h:l,h,c)},getElementById:function(a){var b=ph[a];b==j&&(b=a);return t[bb](b)},setElementProperty:function(a,b,c,d,e){var f={easein:Tl,easeout:Zl,easeinout:nl,linear:zk};b=Wj[b];if(b!=j){b=b.HYP_r;var g=T[a.id],k=Q+g+b;0<d&&b!=ro&&b!=Fl?(a=j,e!=j&&(a=f[e]),a==j&&(a=nl),e=[],dc(e,b,0,d,a,g,1,c,h),c={i:k,n:k,f:30,d:d,a:e,b:[]},x[W].T[k]=c,Lf(k,e,c),Zb(k,j,l)):(pb[g]!=aa&&(pb[g][b]=
k,b==Fl&&(pb[g].h=k)),d=Y(k),d!=j&&Gd(d),da(a,b,c))}},getElementProperty:function(a,b){var c=Wj[b];if(c==j)return j;var d=fa[T[a.id]][c.HYP_r];return d!=j?d:c.HYP_s},functions:function(){return Ui},resourcesFolderURL:function(){return de},relayoutIfNecessary:Vc,kDirectionForward:0,kDirectionReverse:1,currentTimeInTimelineNamed:function(a){return Hd(tc(a),h)},durationForTimelineNamed:function(a){var b=0;a=Y(tc(a));a!=j&&(b=Ia(a));return b},currentDirectionForTimelineNamed:function(a){a=Y(tc(a));var b=
0;a!=j&&(b=a.ha?1:0);return b},isPlayingTimelineNamed:function(a){var b=l;a=Y(tc(a));a!=j&&(b=a.oa);return b},triggerCustomBehaviorNamed:fj,getSymbolInstanceById:function(a){if(a!=j)return sc[T[a]]},getSymbolInstancesByName:Cj}};p.HYPE==j&&(p.HYPE=p.HYPE_596,p.HYPE.documents={});var V=[];p.HYPE_dtl_596!=j&&(V=p.HYPE_dtl_596[Wa](0));p.HYPE_dtl_596=[];for(var E=0;E<V[J];E++)V[E]()})();})();


</script><tw-passagedata pid="1" name="Untitled Passage" tags="" position="412,257" size="100,100">Words test

&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
	&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;chrome=1,IE=edge&quot; /&gt;
	&lt;title&gt;Test2&lt;/title&gt;
	&lt;style&gt;
		html {
			height:100%;
		}
		body {
			background-color:#FFFFFF;
			margin:0;
			height:100%;
		}
	&lt;/style&gt;
	&lt;!-- copy these lines to your document head: --&gt;

	&lt;meta name=&quot;viewport&quot; content=&quot;user-scalable=yes, width=600&quot; /&gt;

	&lt;!-- end copy --&gt;
  &lt;/head&gt;
  &lt;body&gt;
	&lt;!-- copy these lines to your document: --&gt;

	&lt;div id=&quot;test2_hype_container&quot; style=&quot;margin:auto;position:relative;width:600px;height:400px;overflow:hidden;&quot;&gt;
		&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; src=&quot;Test2.hyperesources/test2_hype_generated_script.js?14696&quot;&gt;&lt;/script&gt;
	&lt;/div&gt;

	&lt;!-- end copy --&gt;
	


	&lt;!-- text content for search engines: --&gt;

	&lt;div style=&quot;display:none&quot; aria-hidden=true&gt;

		&lt;div&gt;
&lt;/div&gt;
		&lt;div&gt;Elliot Blanson&lt;/div&gt;
		&lt;div&gt;Sarah Noodin
Day&lt;/div&gt;
		&lt;div&gt;Aleski Dolohov&lt;/div&gt;
		&lt;div&gt;Teenesee
Jayplo&lt;/div&gt;
		&lt;div&gt;&lt;/div&gt;
		&lt;div&gt;$name Silva&lt;/div&gt;
		&lt;div&gt;Joana Silva&lt;/div&gt;
		&lt;div&gt;Ana Dandara de
Silva&lt;/div&gt;
		&lt;div&gt;Joshua Caval&lt;/div&gt;
		&lt;div&gt;Yusuf Basara
&lt;/div&gt;

	&lt;/div&gt;

	&lt;!-- end text content: --&gt;

  &lt;/body&gt;
&lt;/html&gt;</tw-passagedata></tw-storydata></div>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS

	SugarCube includes code from TiddlyWiki 1.2.39, which has the following license:
	--------------------------------------------------------------------------------

	TiddlyWiki 1.2.39 by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

	Published under a BSD open source license

	Copyright (c) Osmosoft Limited 2005

	Redistribution and use in source and binary forms, with or without modification,
	are permitted provided that the following conditions are met:

	Redistributions of source code must retain the above copyright notice, this list
	of conditions and the following disclaimer.

	Redistributions in binary form must reproduce the above copyright notice, this
	list of conditions and the following disclaimer in the documentation and/or
	other materials provided with the distribution.

	Neither the name of the Osmosoft Limited nor the names of its contributors may
	be used to endorse or promote products derived from this software without
	specific prior written permission.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
	ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
	WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
	ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
	(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
	LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
	ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
	(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
	SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
	if(document.documentElement.classList.contains("init-loading")){!function(window,document,undefined){"use strict";function clone(e){if("object"!=typeof e||null==e)return e;if("function"==typeof e.clone)return e.clone(!0);if(e.nodeType&&"function"==typeof e.cloneNode)return e.cloneNode(!0);var t,r=Object.prototype.toString.call(e);if("[object Date]"===r)t=new Date(e.getTime());else if("[object RegExp]"===r)t=new RegExp(e);else if(Array.isArray(e))t=[];else{var i=Object.getPrototypeOf(e);t=i?Object.create(i):e.constructor.prototype}return Object.keys(e).forEach(function(r){t[r]=clone(e[r])}),t}function insertElement(e,t,r,i,a,n){var s=document.createElement(t);return r&&(s.id=r),i&&(s.className=i),n&&(s.title=n),a&&insertText(s,a),e&&e.appendChild(s),s}function insertText(e,t){return e.appendChild(document.createTextNode(t))}function removeChildren(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function removeElement(e){"function"==typeof e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function setPageElement(e,t,r){var i="object"==typeof e?e:document.getElementById(e);if(null==i)return null;removeChildren(i),Array.isArray(t)||(t=[t]);for(var a=0,n=t.length;n>a;a++)if(tale.has(t[a]))return new Wikifier(i,tale.get(t[a]).processText().trim()),i;return null!=r&&(r=r.trim(),""!==r&&new Wikifier(i,r)),i}function addStyle(e){var t=document.getElementById("style-story");null===t&&(t=document.createElement("style"),t.id="style-story",t.type="text/css",document.head.appendChild(t));var r=/\[[<>]?[Ii][Mm][Gg]\[(?:\s|\S)*?\]\]+/g;r.test(e)&&(e=e.replace(r,function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup({source:e,matchStart:0});if(t.hasOwnProperty("error")||t.pos<e.length)return e;var r=t.source;if("data:"!==r.slice(0,5)&&tale.has(r)){var i=tale.get(r);i.tags.contains("Twine.image")&&(r=i.text)}return'url("'+r.replace(/"/g,"%22")+'")'})),t.styleSheet?t.styleSheet.cssText+=e:t.appendChild(document.createTextNode(e))}function throwError(e,t,r){return insertElement(e,"span",null,"error","Error: "+t,r),!1}function printableStringOrDefault(e,t){switch(typeof e){case"number":if(isNaN(e))return t;break;case"object":return null===e?t:Array.isArray(e)?e.join(", "):"[object]";case"function":case"undefined":return t}return String(e)}function fade(e,t){function r(){a+=.05*o,i(s,Math.easeInOut(a)),(1===o&&a>=1||-1===o&&0>=a)&&(e.style.visibility="in"===t.fade?"visible":"hidden",s.parentNode.replaceChild(e,s),s=null,window.clearInterval(n),t.onComplete&&t.onComplete())}function i(e,t){var r=Math.floor(100*t);e.style.zoom=1,e.style.filter="alpha(opacity="+r+")",e.style.opacity=t}var a,n,s=e.cloneNode(!0),o="in"===t.fade?1:-1;e.parentNode.replaceChild(s,e),"in"===t.fade?(a=0,s.style.visibility="visible"):a=1,i(s,a),n=window.setInterval(r,25)}function scrollWindowTo(e,t){function r(){l+=t,window.scroll(0,n+u*(o*Math.easeInOut(l))),l>=1&&window.clearInterval(c)}function i(e){for(var t=0;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;return t}function a(e){var t=i(e),r=t+e.offsetHeight,a=window.scrollY?window.scrollY:document.body.scrollTop,n=window.innerHeight?window.innerHeight:document.body.clientHeight,s=a+n;return a>t?t:r>s&&e.offsetHeight<n?t-(n-e.offsetHeight)+20:t}null==t?t=.1:("number"!=typeof t&&(t=Number(t)),isNaN(t)||0>t?t=.1:t>1&&(t=1));var n=window.scrollY?window.scrollY:document.body.scrollTop,s=a(e),o=Math.abs(n-s),l=0,u=n>s?-1:1,c=window.setInterval(r,25)}function SeedablePRNG(e,t){Object.defineProperties(this,new Math.seedrandom(e,t,function(e,t){return{_prng:{value:e},seed:{writable:!0,value:t},count:{writable:!0,value:0},random:{value:function(){return this.count++,this._prng()}}}}))}function AudioWrapper(e){Object.defineProperties(this,{audio:{value:e},_faderId:{writable:!0,value:null}}),"metadata"!==this.audio.preload&&"auto"!==this.audio.preload&&(this.audio.preload="metadata")}function History(e){this.active={init:!0,variables:{}},config.historyMode===History.Modes.Hash&&(this.hash=""),this.history=[],window.SugarCube[e||"state"]=this}function Passage(e,t,r){if(this.title=e,this.domId="passage-"+Util.slugify(this.title),t){if(this.element=t,this.id=r,this.tags=t.hasAttribute("tags")?t.getAttribute("tags").trim().splitOrEmpty(/\s+/):[],this.classes=[],this.tags.length>0){for(var i=/^(?:debug|nobr|passage|script|stylesheet|widget|twine\..*)$/i,a=[],n=0;n<this.tags.length;n++)i.test(this.tags[n])||a.push(Util.slugify(this.tags[n]));a.length>0&&(t.className&&(a=a.concat(t.className.split(/\s+/))),this.classes=a.sort().filter(function(e,t,r){return 0===t||r[t-1]!==e}))}}else this.element=null,this.id=undefined,this.tags=[],this.classes=[]}function Tale(e){this._title="",this._domId="",this.passages={},this.styles=[],this.scripts=[],this.widgets=[];var t,r,i,a,n,s=document.getElementById("store-area").childNodes;config.startPassage=null;var o=s[0].hasAttribute("startnode")?s[0].getAttribute("startnode"):"";s=s[0].childNodes;for(var t=0;t<s.length;t++){var r=s[t];if(r.nodeType===Node.ELEMENT_NODE)switch(r.nodeName.toUpperCase()){case"STYLE":this.styles.push(new Passage("user-style-node-"+t,r,-t));break;case"SCRIPT":this.scripts.push(new Passage("user-script-node-"+t,r,-t));break;default:var i=r.hasAttribute("name")?r.getAttribute("name"):"";if(""===i)continue;var a=r.hasAttribute("tags")?r.getAttribute("tags").trim().splitOrEmpty(/\s+/):[];if(a.containsAny("Twine.private","annotation"))continue;var l=r.hasAttribute("pid")?r.getAttribute("pid"):"",n=new Passage(i,r,+l);""!==o&&o===l&&(config.startPassage=i),a.contains("widget")?this.widgets.push(n):this.passages[i]=n}}this.title=Util.unescape("Hype test"),window.SugarCube[e||"tale"]=this}function Macros(){Object.defineProperties(this,{definitions:{value:{}},tags:{value:{}}})}function MacrosContext(e,t,r,i,a,n,s,o){Object.defineProperties(this,{context:{value:e},parent:{value:e},self:{value:t},name:{value:r},args:{value:a},payload:{value:n},parser:{value:s},output:{value:s.output},source:{value:o}}),Object.defineProperties(this.args,{raw:{value:i},full:{value:Wikifier.parse(i)}})}function defineStandardMacros(){function e(e,t,r){r=jQuery.extend({},r),e.addClass("event-"+Util.slugify(t)+(r.once?"-once":"")),e[r.once?"one":"on"](t+".macros",function(){if(""!==r.content){var e;try{"undefined"!=typeof r.widgetArgs&&(state.active.variables.hasOwnProperty("args")&&(e=state.active.variables.args),state.active.variables.args=r.widgetArgs),Wikifier.wikifyEval(r.content)}finally{"undefined"!=typeof r.widgetArgs&&(delete state.active.variables.args,"undefined"!=typeof e&&(state.active.variables.args=e))}}"function"==typeof r.callback&&r.callback()})}macros.add("actions",{version:{major:3,minor:0,patch:0},handler:function(){var e=insertElement(this.output,"ul");e.classList.add(this.name),state.active.variables["#actions"]||(state.active.variables["#actions"]={});for(var t=0;t<this.args.length;t++){var r,i,a,n,s;"object"==typeof this.args[t]&&this.args[t].isImage?(a=document.createElement("img"),a.src=this.args[t].source,this.args[t].hasOwnProperty("passage")&&a.setAttribute("data-passage",this.args[t].passage),this.args[t].hasOwnProperty("title")&&(a.title=this.args[t].title),this.args[t].hasOwnProperty("align")&&(a.align=this.args[t].align),r=this.args[t].link,n=this.args[t].setFn):"object"==typeof this.args[t]?(i=this.args[t].text,r=this.args[t].link,n=this.args[t].setFn):i=r=this.args[t],state.active.variables["#actions"].hasOwnProperty(r)&&state.active.variables["#actions"][r]||(s=Wikifier.createInternalLink(insertElement(e,"li"),r,null,function(e,t){return function(){state.active.variables["#actions"][e]=!0,"function"==typeof t&&t()}}(r,n)),null==a?insertText(s,i):s.appendChild(a),s.classList.add("link-"+this.name),s.classList.add("macro-"+this.name))}}}),macros.add(["back","return"],{version:{major:5,minor:0,patch:0},handler:function(){var e,t,r,i,a=1,n=this.name[0].toUpperCase()+this.name.slice(1);if(1===this.args.length&&"object"==typeof this.args[0]&&(this.args[0].isImage?(r=document.createElement("img"),r.src=this.args[0].source,this.args[0].hasOwnProperty("passage")&&r.setAttribute("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&(r.title=this.args[0].title),this.args[0].hasOwnProperty("align")&&(r.align=this.args[0].align),this.args[0].hasOwnProperty("link")&&(this.args.push("to"),this.args.push(this.args[0].link)),this.args[0]=null):1===this.args[0].count?(this.args.push(this.args[0].link),this.args[0]="to"):(this.args.push("to"),this.args.push(this.args[0].link),this.args[0]=this.args[0].text)),1===this.args.length)t=this.args[0];else if(0!==this.args.length)if(3===this.args.length&&(t=this.args.shift()),"go"===this.args[0]){if(isNaN(this.args[1])||this.args[1]<1)return this.error('argument following "go" must be a whole number greater than zero');a=this.args[1]<state.length?this.args[1]:state.length-1,e=state.peek(a).title,n+=" (go "+a+")"}else{if("to"!==this.args[0])return this.error('"'+this.args[0]+'" is not a valid action (go|to)');if("object"==typeof this.args[1]&&(this.args[1]=this.args[1].link),!tale.has(this.args[1]))return this.error('passage "'+this.args[1]+'" does not exist');if("return"===this.name)e=this.args[1],n+=' (to "'+e+'")';else for(var s=state.length-1;s>=0;s--)if(state.history[s].title===this.args[1]){a=state.length-1-s,e=this.args[1],n+=' (to "'+e+'")';break}if(null==e)return this.error('cannot find passage "'+this.args[1]+'" in the current story history')}return null==e&&state.length>1&&(e=state.peek(a).title),null==e?this.error("cannot find passage"):0===a?this.error("already at the first passage in the current story history"):(i=document.createElement("a"),i.classList.add("link-internal"),i.classList.add("link-"+this.name),i.classList.add("macro-"+this.name),a>0&&jQuery(i).click(function(){return"back"===this.name?config.historyMode===History.Modes.Hash||config.disableHistoryControls?function(){for(;a>0&&state.length>1;)state.pop(),a--;state.setActiveState(state.top),state.display(e,i,"replace")}:function(){state.length>1&&window.history.go(-a)}:function(){state.display(e,i)}}.call(this)),null==r?insertText(i,t||this.self.dtext||n):i.appendChild(r),void this.output.appendChild(i))},linktext:function(){0===this.args.length?delete this.self.dtext:this.self.dtext=this.args[0]}},!0),macros.add("choice",{version:{major:5,minor:0,patch:0},handler:function(){if(0===this.args.length)return this.error("no passage specified");var e,t,r,i,a,n=state.active.title;if(1===this.args.length?"object"==typeof this.args[0]&&this.args[0].isImage?(r=document.createElement("img"),r.src=this.args[0].source,this.args[0].hasOwnProperty("passage")&&r.setAttribute("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&(r.title=this.args[0].title),this.args[0].hasOwnProperty("align")&&(r.align=this.args[0].align),e=this.args[0].link,i=this.args[0].setFn):"object"==typeof this.args[0]?(t=this.args[0].text,e=this.args[0].link,i=this.args[0].setFn):t=e=this.args[0]:(e=this.args[0],t=this.args[1]),state.active.variables.hasOwnProperty("#choice")){if(state.active.variables["#choice"].hasOwnProperty(n)&&state.active.variables["#choice"][n])return a=insertElement(this.output,"span"),null==r?insertText(a,t):a.appendChild(r),a.classList.add("link-disabled"),a.classList.add("link-"+this.name),void a.classList.add("macro-"+this.name)}else state.active.variables["#choice"]={};a=Wikifier.createInternalLink(this.output,e,null,function(){state.active.variables["#choice"][n]=!0,"function"==typeof i&&i()}),null==r?insertText(a,t):a.appendChild(r),a.classList.add("link-"+this.name),a.classList.add("macro-"+this.name)}}),macros.add("link",{version:{major:4,minor:0,patch:0},actionRegExp:/^disable|remove|keep|once$/,handler:function(){if(0===this.args.length)return this.error("no link location specified");var e,t,r,i,a,n,s,o=this.self.actionRegExp;if(3===this.args.length?n=this.args.pop():2===this.args.length&&o.test(this.args[1])&&(n=this.args.pop()),null!=n&&!o.test(n))return this.error('"'+n+'" is not a valid action (disable|remove)');if(2===this.args.length?(t=this.args[0],e=this.args[1]):"object"==typeof this.args[0]&&this.args[0].isImage?(r=document.createElement("img"),r.src=this.args[0].source,this.args[0].hasOwnProperty("passage")&&r.setAttribute("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&(r.title=this.args[0].title),this.args[0].hasOwnProperty("align")&&(r.align=this.args[0].align),e=this.args[0].link,i=this.args[0].external,a=this.args[0].setFn):"object"==typeof this.args[0]?(t=this.args[0].text,e=this.args[0].link,i=this.args[0].external,a=this.args[0].setFn):t=e=this.args[0],null==i&&(i=Wikifier.isExternalLink(e)),n)if(state.active.variables.hasOwnProperty("#link")){if(state.active.variables["#link"].hasOwnProperty(e)&&state.active.variables["#link"][e])return void("disable"!==n&&"keep"!==n||(s=insertElement(this.output,"span"),null==r?insertText(s,t):s.appendChild(r),s.classList.add("link-disabled"),s.classList.add("link-"+this.name),s.classList.add("macro-"+this.name)))}else state.active.variables["#link"]={};s=i?Wikifier.createExternalLink(this.output,e):Wikifier.createInternalLink(this.output,e,null,function(){n&&(state.active.variables["#link"][e]=!0),"function"==typeof a&&a()}),null==r?insertText(s,t):s.appendChild(r),s.classList.add("link-"+this.name),s.classList.add("macro-"+this.name)}}),macros.add("display",{version:{major:3,minor:1,patch:0},handler:function(){if(0===this.args.length)return this.error("no passage specified");var e;if(e="object"==typeof this.args[0]?this.args[0].link:this.args[0],!tale.has(e))return this.error('passage "'+e+'" does not exist');var t=this.output;e=tale.get(e),this.args[1]&&(t=insertElement(t,this.args[1],null,e.domId),t.setAttribute("data-passage",e.title)),new Wikifier(t,e.processText())}}),macros.add("nobr",{version:{major:2,minor:0,patch:0},skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),macros.add("print",{version:{major:3,minor:0,patch:0},skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var e=printableStringOrDefault(Util.evalExpression(this.args.full),null);null!==e&&new Wikifier(this.output,e)}catch(e){return this.error("bad expression: "+e.message)}}}),macros.add("silently",{version:{major:4,minor:0,patch:0},skipArgs:!0,tags:null,handler:function(){var e=document.createDocumentFragment(),t=[];for(new Wikifier(e,this.payload[0].contents.trim());e.hasChildNodes();){var r=e.firstChild;r.classList&&r.classList.contains("error")&&t.push(r.textContent),e.removeChild(r)}return t.length>0?this.error("error"+(1===t.length?"":"s")+" within contents ("+t.join("; ")+")"):void 0}}),macros.add("if",{version:{major:4,minor:0,patch:0},skipArgs:!0,tags:["elseif","else"],handler:function(){try{for(var e=0,t=this.payload.length;t>e;e++){switch(this.payload[e].name){case"else":if(0!==this.payload[e].arguments.length)return/^\s*if\b/i.test(this.payload[e].arguments)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'+(e>0?" (#"+e+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: "+this.payload[e].arguments);break;default:if(0===this.payload[e].arguments.length)return this.error("no conditional expression specified for <<"+this.payload[e].name+">> clause"+(e>0?" (#"+e+")":""));if(!config.macros.disableIfAssignmentError&&/[^!=&^|<>*\/%+-]=[^=]/.test(this.payload[e].arguments))return this.error('assignment operator "=" found within <<'+this.payload[e].name+">> clause"+(e>0?" (#"+e+")":"")+" (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: "+this.payload[e].arguments)}if("else"===this.payload[e].name||Wikifier.evalExpression(this.payload[e].arguments)){new Wikifier(this.output,this.payload[e].contents);break}}}catch(t){return this.error("bad conditional expression in <<"+(0===e?"if":"elseif")+">> clause"+(e>0?" (#"+e+")":"")+": "+t.message)}}}),macros.add("for",{version:{major:1,minor:0,patch:1},skipArgs:!0,tags:null,handler:function(){var e,t,r,i=this.args.full.trim(),a=this.payload[0].contents.replace(/\n$/,""),n=!0,s=config.macros.maxLoopIterations;if(0===i.length)i=!0;else if(-1!==i.indexOf(";")){if(null===(r=i.match(/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/)))return this.error("invalid 3-part syntax, format: init ; condition ; post");e=r[1],i=r[2],t=r[3]}try{if(runtime.temp.break=null,e)try{Util.evalExpression(e)}catch(e){return this.error("bad init expression: "+e.message)}for(;Util.evalExpression(i);){if(--s<0)return this.error("exceeded configured maximum loop iterations ("+config.macros.maxLoopIterations+")");if(new Wikifier(this.output,n?a.replace(/^\n/,""):a),n&&(n=!1),null!=runtime.temp.break)if(1===runtime.temp.break)runtime.temp.break=null;else if(2===runtime.temp.break){runtime.temp.break=null;break}if(t)try{Util.evalExpression(t)}catch(e){return this.error("bad post expression: "+e.message)}}}catch(e){return this.error("bad conditional expression: "+e.message)}finally{runtime.temp.break=null}}}),macros.add(["break","continue"],{version:{major:1,minor:0,patch:0},skipArgs:!0,handler:function(){return this.contextHas(function(e){return"for"===e.name})?void(runtime.temp.break="continue"===this.name?1:2):this.error("must only be used in conjunction with its parent macro <<for>>")}}),macros.add("set",{version:{major:3,minor:1,patch:0},skipArgs:!0,handler:function(){return 0===this.args.full.length?this.error("no expression specified"):void macros.evalStatements(this.args.full,this)}}),macros.add("unset",{version:{major:2,minor:1,patch:0},skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no $variable list specified");for(var e,t=this.args.full,r=/state\.active\.variables\.(\w+)/g;null!==(e=r.exec(t));){var i=e[1];state.active.variables.hasOwnProperty(i)&&delete state.active.variables[i]}}}),macros.add("remember",{version:{major:3,minor:1,patch:0},skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var e=this.args.full;if(macros.evalStatements(e,this)){for(var t,r=storage.getItem("remember")||{},i=/state\.active\.variables\.(\w+)/g;null!==(t=i.exec(e));){var a=t[1];r[a]=state.active.variables[a]}if(!storage.setItem("remember",r))return this.error("unknown error, cannot remember: "+this.args.raw)}},init:function(){var e=storage.getItem("remember");e&&Object.keys(e).forEach(function(t){state.active.variables[t]=e[t]})}}),macros.add("forget",{version:{major:1,minor:1,patch:0},skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no $variable list specified");for(var e,t=this.args.full,r=/state\.active\.variables\.(\w+)/g,i=storage.getItem("remember"),a=!1;null!==(e=r.exec(t));){var n=e[1];state.active.variables.hasOwnProperty(n)&&delete state.active.variables[n],i&&i.hasOwnProperty(n)&&(a=!0,delete i[n])}return a&&!storage.setItem("remember",i)?this.error("unknown error, cannot update remember store"):void 0}}),macros.add("run","set"),macros.add("script",{version:{major:1,minor:0,patch:0},skipArgs:!0,tags:null,handler:function(){macros.evalStatements(this.payload[0].contents,this)}}),macros.add(["button","click"],{version:{major:5,minor:0,patch:0},tags:null,handler:function(){if(0===this.args.length)return this.error("no "+("click"===this.name?"link":"button")+" text specified");var t,r=function(){var e;return state.active.variables.hasOwnProperty("args")&&this.contextHas(function(e){return e.self.isWidget})&&(e=state.active.variables.args),e}.call(this),i=document.createElement("click"===this.name?"a":"button");if("object"==typeof this.args[0]&&this.args[0].isImage){var a=insertElement(i,"img");a.src=this.args[0].source,this.args[0].hasOwnProperty("passage")&&a.setAttribute("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&(a.title=this.args[0].title),this.args[0].hasOwnProperty("align")&&(a.align=this.args[0].align),t=this.args[0].link}else{var n;"object"==typeof this.args[0]?(n=this.args[0].text,t=this.args[0].link):(n=this.args[0],t=this.args.length>1?this.args[1]:undefined),insertText(i,n)}i.classList.add("link-"+(null!=t?tale.has(t)?"internal":"broken":"internal")),i.classList.add("link-"+this.name),i.classList.add("macro-"+this.name),e(jQuery(i),"click",{content:this.payload[0].contents.trim(),widgetArgs:r,callback:null!=t?function(){state.display(t,i)}:undefined}),this.output.appendChild(i)}}),macros.add("checkbox",{version:{major:5,minor:1,patch:0},handler:function(){if(this.args.length<3){var e=[];return this.args.length<1&&e.push("$variable name"),this.args.length<2&&e.push("unchecked value"),this.args.length<3&&e.push("checked value"),this.error("no "+e.join(" or ")+" specified")}var t=this.args[0].trim(),r=Util.slugify(t),i=this.args[1],a=this.args[2],n=document.createElement("input");return"$"!==t[0]?this.error('$variable name "'+t+'" is missing its sigil ($)'):(n.type="checkbox",n.id="checkbox-"+r,n.name="checkbox-"+r,n.classList.add("macro-"+this.name),this.args.length>3&&"checked"===this.args[3]?(n.checked=!0,Wikifier.setValue(t,a)):Wikifier.setValue(t,i),jQuery(n).change(function(){Wikifier.setValue(t,this.checked?a:i)}),void this.output.appendChild(n))}}),macros.add("radiobutton",{version:{major:5,minor:1,patch:0},handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("$variable name"),this.args.length<2&&e.push("checked value"),this.error("no "+e.join(" or ")+" specified")}var t=this.args[0].trim(),r=Util.slugify(t),i=this.args[1],a=document.createElement("input");return"$"!==t[0]?this.error('$variable name "'+t+'" is missing its sigil ($)'):(runtime.temp.hasOwnProperty("radiobutton")||(runtime.temp.radiobutton={}),runtime.temp.radiobutton.hasOwnProperty(r)||(runtime.temp.radiobutton[r]=0),a.type="radio",a.id="radiobutton-"+r+"-"+runtime.temp.radiobutton[r]++,a.name="radiobutton-"+r,a.classList.add("macro-"+this.name),this.args.length>2&&"checked"===this.args[2]&&(a.checked=!0,Wikifier.setValue(t,i)),jQuery(a).change(function(){this.checked&&Wikifier.setValue(t,i)}),void this.output.appendChild(a))}}),macros.add("textarea",{version:{major:1,minor:0,patch:0},handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("$variable name"),this.args.length<2&&e.push("default value"),this.error("no "+e.join(" or ")+" specified")}var t=this.args[0].trim(),r=Util.slugify(t),i=this.args[1],a="autofocus"===this.args[2],n=document.createElement("textarea");return"$"!==t[0]?this.error('$variable name "'+t+'" is missing its sigil ($)'):(n.id="textarea-"+r,n.name="textarea-"+r,n.rows=4,n.cols=68,n.textContent=i,a&&n.setAttribute("autofocus","autofocus"),n.classList.add("macro-"+this.name),Wikifier.setValue(t,i),jQuery(n).change(function(){Wikifier.setValue(t,this.value)}),this.output.appendChild(n),void(a&&(postdisplay["#autofocus:"+n.id]=function(e){setTimeout(function(){n.focus()},1),delete postdisplay[e]})))}}),macros.add("textbox",{version:{major:5,minor:1,patch:0},handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("$variable name"),this.args.length<2&&e.push("default value"),this.error("no "+e.join(" or ")+" specified")}var t,r=this.args[0].trim(),i=Util.slugify(r),a=this.args[1],n=!1,s=document.createElement("input");return"$"!==r[0]?this.error('$variable name "'+r+'" is missing its sigil ($)'):(this.args.length>3?(t=this.args[2],n="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?n=!0:t=this.args[2]),s.type="text",s.id="textbox-"+i,s.name="textbox-"+i,s.value=a,n&&s.setAttribute("autofocus","autofocus"),s.classList.add("macro-"+this.name),Wikifier.setValue(r,a),jQuery(s).change(function(){Wikifier.setValue(r,this.value)}).keypress(function(e){13===e.which&&(e.preventDefault(),Wikifier.setValue(r,this.value),"undefined"!=typeof t&&state.display(t,this))}),this.output.appendChild(s),void(n&&(postdisplay["#autofocus:"+s.id]=function(e){setTimeout(function(){s.focus()},1),delete postdisplay[e]})))}}),macros.add(["addclass","toggleclass"],{version:{major:2,minor:0,patch:1},handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("selector"),this.args.length<2&&e.push("class names"),this.error("no "+e.join(" or ")+" specified")}var t=jQuery(this.args[0]);if(0===t.length)return this.error('no elements matched the selector "'+this.args[0]+'"');switch(this.name){case"addclass":t.addClass(this.args[1].trim());break;case"toggleclass":t.toggleClass(this.args[1].trim())}}}),macros.add("removeclass",{version:{major:1,minor:0,patch:1},handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);return 0===e.length?this.error('no elements matched the selector "'+this.args[0]+'"'):void(this.args.length>1?e.removeClass(this.args[1].trim()):e.removeClass())}}),macros.add(["append","prepend","replace"],{version:{major:2,minor:1,patch:0},tags:null,handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);if(0===e.length)return this.error('no elements matched the selector "'+this.args[0]+'"');if("replace"===this.name&&e.empty(),""!==this.payload[0].contents){var t=document.createDocumentFragment();switch(new Wikifier(t,this.payload[0].contents),this.name){case"replace":case"append":e.append(t);break;case"prepend":e.prepend(t)}}}}),macros.add("remove",{version:{major:1,minor:0,patch:1},handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);return 0===e.length?this.error('no elements matched the selector "'+this.args[0]+'"'):void e.remove()}}),macros.add("goto",{version:{major:1,minor:0,patch:0},handler:function(){if(0===this.args.length)return this.error("no passage specified");var e;return e="object"==typeof this.args[0]?this.args[0].link:this.args[0],tale.has(e)?void setTimeout(function(){state.display(e)},40):this.error('passage "'+e+'" does not exist')}}),macros.add("widget",{version:{major:2,minor:1,patch:0},tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var e=this.args[0];if(macros.has(e)){if(!macros.get(e).isWidget)return this.error('cannot clobber existing macro "'+e+'"');macros.remove(e)}try{macros.add(e,{version:{major:1,minor:0,patch:0},isWidget:!0,handler:function(e){return function(){var t;try{state.active.variables.hasOwnProperty("args")&&(t=state.active.variables.args),state.active.variables.args=[];for(var r=0,i=this.args.length;i>r;r++)state.active.variables.args[r]=this.args[r];state.active.variables.args.raw=this.args.raw,state.active.variables.args.full=this.args.full;var a=document.createDocumentFragment(),n=document.createDocumentFragment(),s=[];for(new Wikifier(n,e);n.hasChildNodes();){var o=n.firstChild;o.classList&&o.classList.contains("error")&&s.push(o.textContent),a.appendChild(o)}if(0!==s.length)return this.error("error"+(1===s.length?"":"s")+" within widget contents ("+s.join("; ")+")");this.output.appendChild(a)}catch(e){return this.error("cannot execute widget: "+e.message)}finally{delete state.active.variables.args,"undefined"!=typeof t&&(state.active.variables.args=t)}}}(this.payload[0].contents)})}catch(t){return this.error('cannot create widget macro "'+e+'": '+t.message)}}}),has.audio?(macros.add("audio",{version:{major:1,minor:2,revision:0},handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("track ID"),this.args.length<2&&e.push("actions"),this.error("no "+e.join(" or ")+" specified")}var t=macros.get("cacheaudio").tracks,r=this.args[0];if(!t.hasOwnProperty(r))return this.error("no track by ID: "+r);for(var i,a,n,s,o,l,u,c,h=t[r],d=5,p=this.args.slice(1);p.length>0;){var f=p.shift();switch(f){case"play":case"pause":case"stop":i=f;break;case"fadein":i="fade",l=1;break;case"fadeout":i="fade",l=0;break;case"fadeto":if(0===p.length)return this.error("fadeto missing required level value");if(i="fade",c=p.shift(),l=parseFloat(c),isNaN(l)||!isFinite(l))return this.error("cannot parse fadeto: "+c);break;case"fadeoverto":if(p.length<2){var e=[];return p.length<1&&e.push("seconds"),p.length<2&&e.push("level"),this.error("fadeoverto missing required "+e.join(" and ")+" value"+(e.length>1?"s":""))}if(i="fade",c=p.shift(),d=parseFloat(c),isNaN(d)||!isFinite(d))return this.error("cannot parse fadeoverto: "+c);if(c=p.shift(),l=parseFloat(c),isNaN(l)||!isFinite(l))return this.error("cannot parse fadeoverto: "+c);break;case"volume":if(0===p.length)return this.error("volume missing required level value");if(c=p.shift(),a=parseFloat(c),isNaN(a)||!isFinite(a))return this.error("cannot parse volume: "+c);break;case"mute":case"unmute":n="mute"===f;break;case"time":if(0===p.length)return this.error("time missing required seconds value");if(c=p.shift(),s=parseFloat(c),isNaN(s)||!isFinite(s))return this.error("cannot parse time: "+c);break;case"loop":case"unloop":o="loop"===f;break;case"goto":if(0===p.length)return this.error("goto missing required passage title");if(c=p.shift(),u="object"==typeof c?c.link:c,!tale.has(u))return this.error('passage "'+u+'" does not exist');break;default:return this.error("unknown action: "+f)}}try{switch(null!=a&&(h.volume=a),null!=s&&(h.time=s),null!=n&&(n?h.mute():h.unmute()),null!=o&&(o?h.loop():h.unloop()),null!=u&&h.oneEnd(function(e){state.display(u)}),i){case"play":h.play();break;case"pause":h.pause();break;case"stop":h.stop();break;case"fade":h.volume===l&&(0===l?h.volume=1:1===l&&(h.volume=0)),h.fadeWithDuration(d,h.volume,l)}}catch(e){return this.error("error playing audio: "+e.message)}}}),macros.add("stopallaudio",{version:{major:1,minor:0,revision:0},handler:function(){var e=macros.get("cacheaudio").tracks;Object.keys(e).forEach(function(t){e[t].stop()})}}),macros.add("cacheaudio",{version:{major:1,minor:0,revision:1},handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("track ID"),this.args.length<2&&e.push("sources"),this.error("no "+e.join(" or ")+" specified")}for(var t=this.self.types,r=this.self.canPlay,i=document.createElement("audio"),a=this.args[0],n=/\.([^\.\/\\]+)$/,s=1;s<this.args.length;s++){var o=this.args[s],l=n.exec(Util.parseUrl(o).pathname);if(null!==l){var u=l[1].toLowerCase(),c=t.hasOwnProperty(u)?t[u]:"audio/"+u;if(r.hasOwnProperty(c)||(r[c]=""!==i.canPlayType(c).replace(/^no$/i,"")),r[c]){var h=document.createElement("source");h.src=o,h.type=c,i.appendChild(h)}}}i.hasChildNodes()&&(i.preload="auto",this.self.tracks[a]=new AudioWrapper(i))},types:Object.freeze({mp3:"audio/mpeg; codecs=mp3",ogg:"audio/ogg; codecs=vorbis",webm:"audio/webm; codecs=vorbis",wav:"audio/wav; codecs=1"}),canPlay:{},tracks:{}}),macros.add("playlist",{version:{major:1,minor:3,revision:0},handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var e,t,r,i,a,n,s,o=this.self,l=5,u=this.args.slice(0);u.length>0;){var c=u.shift();switch(c){case"play":case"pause":case"stop":e=c;break;case"fadein":e="fade",n=1;break;case"fadeout":e="fade",n=0;break;case"fadeto":if(0===u.length)return this.error("fadeto missing required level value");if(e="fade",s=u.shift(),n=parseFloat(s),isNaN(n)||!isFinite(n))return this.error("cannot parse fadeto: "+s);break;case"fadeoverto":if(u.length<2){var h=[];return u.length<1&&h.push("seconds"),u.length<2&&h.push("level"),this.error("fadeoverto missing required "+h.join(" and ")+" value"+(h.length>1?"s":""))}if(e="fade",s=u.shift(),l=parseFloat(s),isNaN(l)||!isFinite(l))return this.error("cannot parse fadeoverto: "+s);if(s=u.shift(),n=parseFloat(s),isNaN(n)||!isFinite(n))return this.error("cannot parse fadeoverto: "+s);break;case"volume":if(0===u.length)return this.error("volume missing required level value");if(s=u.shift(),t=parseFloat(s),isNaN(t)||!isFinite(t))return this.error("cannot parse volume: "+s);break;case"mute":case"unmute":r="mute"===c;
break;case"loop":case"unloop":i="loop"===c;break;case"shuffle":case"unshuffle":a="shuffle"===c;break;default:return this.error("unknown action: "+c)}}try{switch(null!=t&&o.setVolume(t),null!=r&&(o.muted=r,r?o.mute():o.unmute()),null!=i&&(o.loop=i),null!=a&&(o.shuffle=a,o.buildList()),e){case"play":o.play();break;case"pause":o.pause();break;case"stop":o.stop();break;case"fade":o.volume===n&&(0===n?o.setVolume(1):1===n&&o.setVolume(0)),o.fade(l,n)}}catch(e){return this.error("error playing audio: "+e.message)}},play:function(){0===this.list.length&&this.buildList(),(null===this.current||this.current.isEnded())&&this.next(),this.current.play()},pause:function(){null!==this.current&&this.current.pause()},stop:function(){null!==this.current&&this.current.stop()},fade:function(e,t){0===this.list.length&&this.buildList(),null===this.current||this.current.isEnded()?this.next():this.current.volume=this.volume,this.current.fadeWithDuration(e,this.current.volume,t),this.volume=t},mute:function(){null!==this.current&&this.current.mute()},unmute:function(){null!==this.current&&this.current.unmute()},next:function(){this.current=this.list.shift(),this.current.volume=this.volume},setVolume:function(e){this.volume=e,null!==this.current&&(this.current.volume=e)},onEnd:function(e){var thisp=macros.get("playlist");if(0===thisp.list.length){if(!thisp.loop)return;thisp.buildList()}thisp.next(),thisp.muted&&thisp.mute(),thisp.current.play()},buildList:function(){this.list=this.tracks.slice(0),this.shuffle&&(this.list.shuffle(),this.list.length>1&&this.list[0]===this.current&&this.list.push(this.list.shift()))},tracks:[],list:[],current:null,volume:1,muted:!1,loop:!0,shuffle:!1}),macros.add("setplaylist",{version:{major:2,minor:0,revision:1},handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");for(var e=macros.get("cacheaudio").tracks,t=macros.get("playlist"),r=[],i=0;i<this.args.length;i++){var a=this.args[i];if(!e.hasOwnProperty(a))return this.error("no track by ID: "+a);var n=e[a].clone();n.stop(),n.unloop(),n.unmute(),n.volume=1,jQuery(n.audio).off("ended").on("ended.macros:playlist",t.onEnd),r.push(n)}null!==t.current&&t.current.pause(),t.tracks=r,t.list=[],t.current=null,t.volume=1,t.muted=!1,t.loop=!0,t.shuffle=!1}})):macros.add(["audio","stopallaudio","cacheaudio","playlist","setplaylist"],{version:{major:1,minor:0,revision:0},handler:function(){}}),macros.add(["optiontoggle","optionlist"],{version:{major:2,minor:1,patch:0},tags:["onchange"],handler:function(){if(0===this.args.length)return this.error("no option property specified");if("optionlist"===this.name&&this.args.length<2)return this.error("no list specified");var e=this.args[0],t=Util.slugify(e),r=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div");r.appendChild(i),r.appendChild(a),r.id="option-body-"+t,i.id="option-label-"+t,a.id="option-control-"+t,a.classList.add("macro-"+this.name),new Wikifier(i,this.payload[0].contents.trim());var n=2===this.payload.length?this.payload[1].contents.trim():"";switch(options.hasOwnProperty(e)||(options[e]=undefined),this.name){case"optiontoggle":var s=this.args.length>1?this.args[1]:undefined,o=document.createElement("a");options[e]===undefined&&(options[e]=!1),options[e]?(insertText(o,s||"On"),o.classList.add("enabled")):insertText(o,s||"Off"),jQuery(o).click(function(){return function(t){removeChildren(o),options[e]?(insertText(o,s||"Off"),o.classList.remove("enabled"),options[e]=!1):(insertText(o,s||"On"),o.classList.add("enabled"),options[e]=!0),macros.get("saveoptions").handler(),""!==n&&new Wikifier(document.createElement("div"),n)}}());break;case"optionlist":var l=this.args[1],o=document.createElement("select");Array.isArray(l)||(l=options.hasOwnProperty(l)?options[l]:l.trim().split(/\s*,\s*/)),options[e]===undefined&&(options[e]=l[0]);for(var u=0;u<l.length;u++){var c=document.createElement("option");insertText(c,l[u]),o.appendChild(c)}o.value=options[e],jQuery(o).change(function(){return function(t){options[e]=t.target.value,macros.get("saveoptions").handler(),""!==n&&new Wikifier(document.createElement("div"),n)}}())}o.id="option-input-"+t,a.appendChild(o),this.output.appendChild(r)}}),macros.add("optionbar",{version:{major:3,minor:1,patch:0},handler:function(){var e=document.createElement("ul"),t=document.createElement("li"),r=document.createElement("li");e.appendChild(t),e.appendChild(r),e.classList.add("buttons"),e.classList.add("macro-"+this.name),t.appendChild(insertElement(null,"button","options-ok","ui-close","OK")),r.appendChild(insertElement(null,"button","options-reset","ui-close","Reset to Defaults")),jQuery("button",r).click(function(e){macros.get("deleteoptions").handler(),window.location.reload()}),this.output.appendChild(e)}}),macros.add("saveoptions",{version:{major:2,minor:0,patch:0},handler:function(){return storage.setItem("options",options)},init:function(){var e=storage.getItem("options");null!==e&&Object.keys(e).forEach(function(t){options[t]=e[t]})}}),macros.add("deleteoptions",{version:{major:2,minor:0,patch:0},handler:function(){return options={},storage.removeItem("options")?void 0:this.error("unknown error, cannot update options store")}})}function either(){return 0!==arguments.length?Array.prototype.concat.apply([],arguments).random():void 0}function lastVisited(){if(state.isEmpty()||0===arguments.length)return-1;var e,t=Array.prototype.concat.apply([],arguments);if(t.length>1){e=state.length;for(var r=0,i=t.length;i>r;r++)e=Math.min(e,lastVisited(t[r]))}else{var a=state.history,n=t[0];for(e=state.length-1;e>=0&&a[e].title!==n;e--);-1!==e&&(e=state.length-1-e)}return e}function passage(){return state.active.title}function previous(e){if(0!==arguments.length){if(1>e)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return state.length>e?state.peek(e).title:""}if(state.length<2)return"";for(var t=state.length-2;t>=0;t--)if(state.history[t].title!==state.active.title)return state.history[t].title;return""}function random(e,t){if(0===arguments.length)throw new Error("random called with insufficient arguments");if(1===arguments.length&&(t=e,e=0),e>t){var r=t;t=e,e=r}return Math.floor(Math.random()*(t-e+1))+e}function randomFloat(e,t){if(0===arguments.length)throw new Error("randomFloat called with insufficient arguments");if(1===arguments.length&&(t=e,e=0),e>t){var r=t;t=e,e=r}return Math.random()*(t-e)+e}function tags(){if(0===arguments.length)return tale.get(state.active.title).tags.slice(0);for(var e=Array.prototype.concat.apply([],arguments),t=[],r=0,i=e.length;i>r;r++)t=t.concat(tale.get(e[r]).tags);return t}function turns(){return state.length}function visited(){if(state.isEmpty())return 0;var e,t=Array.prototype.concat.apply([],0===arguments.length?[state.active.title]:arguments);if(t.length>1){e=state.length;for(var r=0,i=t.length;i>r;r++)e=Math.min(e,visited(t[r]))}else{var a=state.history,n=t[0];e=0;for(var r=0,i=state.length;i>r;r++)a[r].title===n&&e++}return e}function visitedTags(){if(0===arguments.length)return 0;for(var e=Array.prototype.concat.apply([],arguments),t=e.length,r=0,i=0,a=state.length;a>i;i++){var n=tale.get(state.history[i].title).tags;if(0!==n.length){for(var s=0,o=0;t>o;o++)n.contains(e[o])&&s++;s===t&&r++}}return r}function visitedTag(){return visitedTags.apply(null,arguments)}function alertUser(e,t,r,i){var a="Apologies! A "+e+" problem has occurred.";switch(e){case"fatal":a+=" Aborting.";break;case"technical":a+=" You may be able to continue, but some parts may not work properly."}null==t&&null==r||(a+="\n\nError",null!=t&&(a+=" ["+t+"]"),a+=": "+(null!=r?r.replace(/^Error:\s+/,""):"unknown error")+"."),i&&i.stack&&(a+="\n\nStack Trace:\n"+i.stack),window.alert(a)}function fatalAlert(e,t,r){alertUser("fatal",e,t,r)}function technicalAlert(e,t,r){alertUser("technical",e,t,r)}Array.isArray||Object.defineProperty(Array,"isArray",{configurable:!0,writable:!0,value:function(e){return"[object Array]"===Object.prototype.toString.call(e)}}),Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",{configurable:!0,writable:!0,value:function(e,t){if(null==this)throw new TypeError("Array.prototype.indexOf called on null or undefined");var r=Object(this),i=r.length>>>0;for(t=+t||0,isFinite(t)||(t=0),0>t&&(t+=i,0>t&&(t=0));i>t;t++)if(r[t]===e)return t;return-1}}),Array.prototype.filter||Object.defineProperty(Array.prototype,"filter",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.filter called on null or undefined");if("function"!=typeof e)throw new TypeError("Array.prototype.filter callback parameter must be a function");for(var t=Object(this),r=t.length>>>0,i=[],thisp=arguments[1],a=0;r>a;a++)if(a in t){var n=t[a];e.call(thisp,n,a,t)&&i.push(n)}return i}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("Array.prototype.find callback parameter must be a function");for(var t=Object(this),r=t.length>>>0,thisp=arguments[1],i=0;r>i;i++)if(i in t){var a=t[i];if(e.call(thisp,a,i,t))return a}return undefined}}),Array.prototype.forEach||Object.defineProperty(Array.prototype,"forEach",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.forEach called on null or undefined");if("function"!=typeof e)throw new TypeError("Array.prototype.forEach callback parameter must be a function");for(var t=Object(this),r=t.length>>>0,thisp=arguments[1],i=0;r>i;i++)if(i in t){var a=t[i];e.call(thisp,a,i,t)}return undefined}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");return-1!==Array.prototype.indexOf.apply(this,arguments)}}),Array.prototype.map||Object.defineProperty(Array.prototype,"map",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.map called on null or undefined");if("function"!=typeof e)throw new TypeError("Array.prototype.map callback parameter must be a function");for(var t=Object(this),r=t.length>>>0,i=new Array(r),thisp=arguments[1],a=0;r>a;a++)if(a in t){var n=t[a];i[a]=e.call(thisp,n,a,t)}return i}}),Array.prototype.some||Object.defineProperty(Array.prototype,"some",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError("Array.prototype.some callback parameter must be a function");for(var t=Object(this),r=t.length>>>0,thisp=arguments[1],i=0;r>i;i++)if(i in t){var a=t[i];if(e.call(thisp,a,i,t))return!0}return!1}}),Date.now||Object.defineProperty(Date,"now",{configurable:!0,writable:!0,value:function(){return(new Date).getTime()}}),Math.trunc||Object.defineProperty(Math,"trunc",{configurable:!0,writable:!0,value:function(e){return 0>e?Math.ceil(e):Math.floor(e)}}),String.prototype.includes||Object.defineProperty(String.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.includes called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),String.prototype.splice||Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(e,t,r){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var i=this.length>>>0;if(0===i)return"";e=+e||0,isFinite(e)?0>e&&(e+=i,0>e&&(e=0)):e=0,e>i&&(e=i),t=+t||0,(!isFinite(t)||0>t)&&(t=0);var a=this.slice(0,e);return"undefined"!=typeof r&&(a+=r),i>e+t&&(a+=this.slice(e+t)),a}}),String.prototype.trim||Object.defineProperty(String.prototype,"trim",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trim called on null or undefined");return this.replace(/^\s+|\s+$/g,"")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return this.replace(/^\s+/,"")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return this.replace(/\s+$/,"")}}),Object.create&&"function"==typeof Object.create||Object.defineProperty(Object,"create",{configurable:!0,writable:!0,value:function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("polyfill Object.create implementation only accepts one parameter");if(null==t)throw new TypeError("Object.create proto parameter is null or undefined");if("object"!=typeof t)throw new TypeError("Object.create proto parameter must be an object");return e.prototype=t,new e}}()}),Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(e,t,r){return 2===arguments.length&&(r=t,t=0),Array.isArray(e)?e.random(t,r):e.hasOwnProperty("length")?Array.prototype.slice.call(e,0).random(t,r):undefined}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return-1!==Array.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.containsAll.apply(this,arguments[0]):-1!==Array.prototype.indexOf.apply(this,arguments);for(var e=0,t=arguments.length;t>e;e++)if(!Array.prototype.some.call(this,function(e){return e===this.val},{val:arguments[e]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.containsAny.apply(this,arguments[0]):-1!==Array.prototype.indexOf.apply(this,arguments);for(var e=0,t=arguments.length;t>e;e++)if(Array.prototype.some.call(this,function(e){return e===this.val},{val:arguments[e]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var e=Array.prototype.indexOf,t=arguments[0],r=Number(arguments[1]||0),i=0;-1!==(r=e.call(this,t,r));)i++,r++;return i}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(e,t){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");if(0!==this.length)return 1===arguments.length&&(t=e,e=0),null==e?e=0:0>e?e=0:e>=this.length&&(e=this.length-1),null==t?t=this.length-1:0>t?t=0:t>=this.length&&(t=this.length-1),Array.prototype.splice.call(this,random(e,t),1)[0]}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(e,t){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");if(0!==this.length)return 1===arguments.length&&(t=e,e=0),null==e?e=0:0>e?e=0:e>=this.length&&(e=this.length-1),null==t?t=this.length-1:0>t?t=0:t>=this.length&&(t=this.length-1),this[random(e,t)]}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");if(0!==this.length){for(var e=this.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),r=this[e];this[e]=this[t],this[t]=r}return this}}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var e=Array.prototype.slice,t=this,r=e.call(arguments,0);return function(){for(var i=[],a=0,n=0;n<r.length;n++)i.push(r[n]===undefined?arguments[a++]:r[n]);return t.apply(this,i.concat(e.call(arguments,a)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(e,t,r){return e=Number(e),isNaN(e)?NaN:e.clamp(t,r)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(e){return e=Number(e),1-(Math.cos(e*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(e,t){var r=Number(this);return e>r&&(r=e),r>t&&(r=t),r}}),Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(e){return String(e).replace(/[-.*+?^${}()|\[\]\/\\]/g,"\\$&")}}),Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(e){function t(e,t,r){if(!t)return e;var i=Math.abs(t)-e.length;if(1>i)return e;var a=Array(i+1).join(r);return 0>t?e+a:a+e}if(arguments.length<2)return 0===arguments.length?"":e;var r=2===arguments.length&&Array.isArray(arguments[1])?arguments[1].slice(0):Array.prototype.slice.call(arguments,1);return 0===r.length?e:e.replace(/{(\d+)(?:,([+-]?\d+))?}/g,function(e,i,a){var n=r[i];if(null==n)return"";for(;"function"==typeof n;)n=n();switch(typeof n){case"string":break;case"object":n=JSON.stringify(n);break;default:n=String(n)}return t(n,a?parseInt(a):0," ")})}}),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var e=String(arguments[0]||"");if(""===e)return 0;for(var t=String.prototype.indexOf,r=e.length,i=Number(arguments[1]||0),a=0;-1!==(i=t.call(this,e,i));)a++,i+=r;return a}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"ltrim",{configurable:!0,writable:!0,value:String.prototype.trimLeft}),Object.defineProperty(String.prototype,"rtrim",{configurable:!0,writable:!0,value:String.prototype.trimRight}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var e,t=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),r=[];null!==(e=t.exec(this));)e[1]?r.push(e[1]):e[2]&&r.push(e[2]);return r}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return JSON.reviveWrapper(this.toString())}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return JSON.reviveWrapper(this.toString())}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return JSON.reviveWrapper('new Date("'+this.toISOString()+'")')}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(e){if("string"!=typeof e)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return"@@revive@@("+e+")"}}),Object.defineProperty(JSON,"_real_parse",{configurable:!0,writable:!0,value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function(text,reviver){return JSON._real_parse(text,function(key,value){if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(e){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(e){}return value})}});var has={defineProperty:"function"==typeof Object.defineProperty,getOwnPropertyDescriptor:"function"==typeof Object.getOwnPropertyDescriptor,pushState:"history"in window&&"pushState"in window.history&&"state"in window.history&&function(){try{return window.history.replaceState(window.history.state,window.document.title),!0}catch(e){return!1}}(),localStorage:"localStorage"in window&&function(e){try{if(null!=e&&e.length>=0){var t="SugarCube.localStorage.test",r="1701 Guilty Scott";if(e.setItem(t,r),e.getItem(t)===r)return e.removeItem(t),!0}return!1}catch(e){return!1}}(window.localStorage),sessionStorage:"sessionStorage"in window&&function(e){try{if(null!=e&&e.length>=0){var t="SugarCube.sessionStorage.test",r="1701 Guilty Scott";if(e.setItem(t,r),e.getItem(t)===r)return e.removeItem(t),!0}return!1}catch(e){return!1}}(window.sessionStorage),indexedDB:"indexedDB"in window,fileAPI:"File"in window&&"FileList"in window&&"FileReader"in window,audio:"function"==typeof document.createElement("audio").canPlayType},browser={userAgent:navigator.userAgent.toLowerCase()};browser.isGecko=navigator&&"Gecko"===navigator.product&&!/webkit|trident/.test(browser.userAgent),browser.isIE=/msie|trident/.test(browser.userAgent)&&!browser.userAgent.contains("opera"),browser.ieVersion=function(){var e=/(?:msie\s+|rv:)(\d{1,2}\.\d)/.exec(browser.userAgent);return e?+e[1]:0}(),browser.isOpera=browser.userAgent.contains("opera")||browser.userAgent.contains(" opr/"),browser.operaVersion=function(){var e=new RegExp((/applewebkit|chrome/.test(browser.userAgent)?"opr":"version")+"\\/(\\d{1,2}\\.\\d+)"),t=e.exec(browser.userAgent);return t?+t[1]:0}(),browser.isMobile={any:function(){return browser.isMobile.Android||browser.isMobile.BlackBerry||browser.isMobile.iOS||browser.isMobile.Windows},Android:/android/.test(browser.userAgent),BlackBerry:/blackberry/.test(browser.userAgent),iOS:/ip(?:hone|ad|od)/.test(browser.userAgent),Windows:/iemobile/.test(browser.userAgent)},has.fileAPI=has.fileAPI&&!browser.isMobile.any()&&(!browser.isOpera||browser.operaVersion>=15);var strings={identity:"game",saves:{autoloadPrompt:"There's an existing autosave.  Load it now or go to the start?",autoloadPromptOK:"Load autosave",autoloadPromptCancel:"Go to start",disallowed:"Saving has been disallowed on this passage."}},saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(e){var t=e.document,r=function(){return e.URL||e.webkitURL||e},i=e.URL||e.webkitURL||e,a=t.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in a,s=function(r){var i=t.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i)},o=e.webkitRequestFileSystem,l=e.requestFileSystem||o||e.mozRequestFileSystem,u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",h=0,d=[],p=function(){for(var e=d.length;e--;){var t=d[e];"string"==typeof t?i.revokeObjectURL(t):t.remove()}d.length=0},f=function(e,t,r){t=[].concat(t);for(var i=t.length;i--;){var a=e["on"+t[i]];if("function"==typeof a)try{a.call(e,r||e)}catch(e){u(e)}}},g=function(t,i){var u,p,g,m=this,y=t.type,v=!1,w=function(){var e=r().createObjectURL(t);return d.push(e),e},b=function(){f(m,"writestart progress write writeend".split(" "))},k=function(){!v&&u||(u=w(t)),p?p.location.href=u:window.open(u,"_blank"),m.readyState=m.DONE,b()},x=function(e){return function(){return m.readyState!==m.DONE?e.apply(this,arguments):void 0}},E={create:!0,exclusive:!1};return m.readyState=m.INIT,i||(i="download"),n?(u=w(t),a.href=u,a.download=i,s(a),m.readyState=m.DONE,void b()):(e.chrome&&y&&y!==c&&(g=t.slice||t.webkitSlice,t=g.call(t,0,t.size,c),v=!0),o&&"download"!==i&&(i+=".download"),(y===c||o)&&(p=e),l?(h+=t.size,void l(e.TEMPORARY,h,x(function(e){e.root.getDirectory("saved",E,x(function(e){var r=function(){e.getFile(i,E,x(function(e){e.createWriter(x(function(r){r.onwriteend=function(t){p.location.href=e.toURL(),d.push(e),m.readyState=m.DONE,f(m,"writeend",t)},r.onerror=function(){var e=r.error;e.code!==e.ABORT_ERR&&k()},"writestart progress write abort".split(" ").forEach(function(e){r["on"+e]=m["on"+e]}),r.write(t),m.abort=function(){r.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),k)}),k)};e.getFile(i,{create:!1},x(function(e){e.remove(),r()}),x(function(e){e.code===e.NOT_FOUND_ERR?r():k()}))}),k)}),k)):void k())},m=g.prototype,y=function(e,t){return new g(e,t)};return m.abort=function(){var e=this;e.readyState=e.DONE,f(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,e.addEventListener("unload",p,!1),y}(self),Util=Object.defineProperties({},{isNumeric:{value:function(e){switch(typeof e){case"number":break;case"string":e=Number(e);break;default:return!1}return isFinite(e)&&!isNaN(e)}},isBoolean:{value:function(e){return"boolean"==typeof e||"string"==typeof e&&("true"===e||"false"===e)}},slugify:{value:function(e){return e.trim().replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase()}},escape:{value:function(e){if(null==e)return"";var t=/[&<>"'`]/g,r=RegExp(t.source),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};return e=String(e),e&&r.test(e)?e.replace(t,function(e){return i[e]}):e}},unescape:{value:function(e){if(null==e)return"";var t=/&(?:amp|lt|gt|quot|apos|#39|#x27|#96|#x60);/g,r=RegExp(t.source),i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"};return e=String(e),e&&r.test(e)?e.replace(t,function(e){return i[e]}):e}},evalExpression:{value:function(expression){return eval("("+expression+")")}},evalStatements:{value:function(statements){return eval("(function(){"+statements+"\n}());"),!0}},DiffOp:{value:Object.freeze({Delete:0,SpliceArray:1,Copy:2,CopyDate:3})},diff:{value:function(e,t){for(var r,i=[].concat(Object.keys(e),Object.keys(t)).sort().filter(function(e,t,r){return 0===t||r[t-1]!==e}),a={},n=Array.isArray(e),s=0,o=i.length;o>s;s++){var l=i[s],u=e[l],c=t[l];if(e.hasOwnProperty(l))if(t.hasOwnProperty(l)){if(u===c)continue;if(typeof u==typeof c)if("function"==typeof u)u.toString()!==c.toString()&&(a[l]=[Util.DiffOp.Copy,c]);else if("object"!=typeof u||null===u)a[l]=[Util.DiffOp.Copy,c];else{var h=Object.prototype.toString.call(u),d=Object.prototype.toString.call(c);if(h===d)if("[object Date]"===h)+u!==+c&&(a[l]=[Util.DiffOp.CopyDate,+c]);else if("[object RegExp]"===h)u.toString()!==c.toString()&&(a[l]=[Util.DiffOp.Copy,clone(c)]);else{var p=Util.diff(u,c);null!==p&&(a[l]=p)}else a[l]=[Util.DiffOp.Copy,clone(c)]}else a[l]=[Util.DiffOp.Copy,"object"!=typeof c||null===c?c:clone(c)]}else if(n&&Util.isNumeric(l)){var f=+l;if(!r){r="";do r+="~";while(i.some(function(e){return e===this.val},{val:r}));a[r]=[Util.DiffOp.SpliceArray,f,f]}f<a[r][1]&&(a[r][1]=f),f>a[r][2]&&(a[r][2]=f)}else a[l]=Util.DiffOp.Delete;else a[l]=[Util.DiffOp.Copy,"object"!=typeof c||null===c?c:clone(c)]}return 0!==Object.keys(a).length?a:null}},patch:{value:function(e,t){for(var r=Object.keys(t||{}),i=clone(e),a=0,n=r.length;n>a;a++){var s=r[a],o=t[s];if(o===Util.DiffOp.Delete)delete i[s];else if(Array.isArray(o))switch(o[0]){case Util.DiffOp.SpliceArray:i.splice(o[1],1+(o[2]-o[1]));break;case Util.DiffOp.Copy:i[s]=clone(o[1]);break;case Util.DiffOp.CopyDate:i[s]=new Date(o[1])}else i[s]=Util.patch(i[s],o)}return i}},fromCSSTime:{value:function(e){var t=/^([+-]?[0-9]+(?:\.[0-9]+)?)\s*(m?s)$/,r=t.exec(e);if(null===r)throw new Error('invalid time value: "'+e+'"');return"ms"===r[2]?Number(r[1]):1e3*Number(r[1])}},toCSSTime:{value:function(e){if("number"!=typeof e||isNaN(e)||!isFinite(e)){var t;switch(typeof e){case"string":t='"'+e+'"';break;case"number":t=String(e);break;default:t=Object.prototype.toString.call(e)}throw new Error("invalid milliseconds: "+t)}return e+"ms"}},parseUrl:{value:function(e){var t=document.createElement("a"),r=Object.create(null);t.href=e,t.search.replace(/^\?/,"").split(/(?:&(?:amp;)?|;)/).forEach(function(e){var t=e.split("=");r[t[0]]=t[1]});var i=t.host&&"/"!==t.pathname[0]?"/"+t.pathname:t.pathname;return{href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,path:i+t.search,pathname:i,query:t.search,search:t.search,queries:r,searches:r,hash:t.hash}}}});Object.defineProperties(Util,{random:{value:Math.random},entityEncode:{value:Util.escape},entityDecode:{value:Util.unescape}}),Object.defineProperties(SeedablePRNG,{marshal:{value:function(e){if(!e||!e.hasOwnProperty("seed")||!e.hasOwnProperty("count"))throw new Error("PRNG is missing required data");return{seed:e.seed,count:e.count}}},unmarshal:{value:function(e){if(!e||!e.hasOwnProperty("seed")||!e.hasOwnProperty("count"))throw new Error("PRNG object is missing required data");for(var t=new SeedablePRNG(e.seed,!1),r=0,i=e.count;i>r;r++)t.random();return t}}}),Object.defineProperties(AudioWrapper.prototype,{duration:{get:function(){return this.audio.duration}},time:{get:function(){return this.audio.currentTime},set:function(e){this.hasMetadata()?this.audio.currentTime=e:jQuery(this.audio).off("loadedmetadata.AudioWrapper:time").one("loadedmetadata.AudioWrapper:time",function(){this.currentTime=e})}},volume:{get:function(){return this.audio.volume},set:function(e){this.audio.volume=Math.clamp(e,0,1)}},controls:{get:function(){return this.audio.controls},set:function(e){this.audio.controls=!!e}},hasMetadata:{value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},hasData:{value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},noSource:{value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_NO_SOURCE}},isPlaying:{value:function(){return!(this.audio.ended||this.audio.paused||!this.hasData())}},isEnded:{value:function(){return this.audio.ended}},isPaused:{value:function(){return this.audio.paused}},isMuted:{value:function(){return this.audio.muted}},isLooped:{value:function(){return this.audio.loop}},load:{value:function(){"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.audio.load()}},play:{value:function(){this.hasData()||this.load(),this.audio.play()}},pause:{value:function(){this.audio.pause()}},stop:{value:function(){this.audio.pause(),this.time=0}},mute:{value:function(){this.audio.muted=!0}},unmute:{value:function(){this.audio.muted=!1}},loop:{value:function(){this.audio.loop=!0}},unloop:{value:function(){this.audio.loop=!1}},fadeWithDuration:{value:function(e,t,r){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null),t=Math.clamp(t,0,1),r=Math.clamp(r,0,1),t!==r&&(this.volume=t,jQuery(this.audio).off("timeupdate.AudioWrapper:fadeWithDuration").one("timeupdate.AudioWrapper:fadeWithDuration",function(i){return function(){var a,n;r>t?(a=t,n=r):(a=r,n=t),e=Math.clamp(e,1,i.duration||5);var s=25,o=(r-t)/(e/(s/1e3));i._faderId=setInterval(function(){return i.isPlaying()?(i.volume=Math.clamp(i.volume+o,a,n),0===i.volume&&i.pause(),void(i.volume===r&&(clearInterval(i._faderId),i._faderId=null))):(clearInterval(i._faderId),void(i._faderId=null))},s)}}(this)),this.play())}},fade:{value:function(e,t){this.fadeWithDuration(5,e,t)}},fadeIn:{value:function(){this.fade(this.volume,1)}},fadeOut:{value:function(){this.fade(this.volume,0)}},onPlay:{value:function(e){"function"==typeof e?jQuery(this.audio).on("playing.AudioWrapper:onPlay",e):jQuery(this.audio).off("playing.AudioWrapper:onPlay")}},onePlay:{value:function(e){"function"==typeof e?jQuery(this.audio).one("playing.AudioWrapper:onePlay",e):jQuery(this.audio).off("playing.AudioWrapper:onePlay")}},onPause:{value:function(e){"function"==typeof e?jQuery(this.audio).on("pause.AudioWrapper:onPause",e):jQuery(this.audio).off("pause.AudioWrapper:onPause")}},onePause:{value:function(e){"function"==typeof e?jQuery(this.audio).one("pause.AudioWrapper:onePause",e):jQuery(this.audio).off("pause.AudioWrapper:onePause");
}},onEnd:{value:function(e){"function"==typeof e?jQuery(this.audio).on("ended.AudioWrapper:onEnd",e):jQuery(this.audio).off("ended.AudioWrapper:onEnd")}},oneEnd:{value:function(e){"function"==typeof e?jQuery(this.audio).one("ended.AudioWrapper:oneEnd",e):jQuery(this.audio).off("ended.AudioWrapper:oneEnd")}},clone:{value:function(){return new AudioWrapper(this.audio.cloneNode(!0))}}});var KeyValueStore=function(){function e(e,i,a){var n=null;switch(e){case"cookie":n=new r(i,a);break;case"webStorage":n=new t(i,a),n._ok||(n=new r(i,a));break;default:throw new Error("unknown driver type")}if(!n._ok)throw new Error("unknown driver error");Object.defineProperties(this,{_driver:{value:n},name:{value:n.name},type:{value:e},id:{value:a},persist:{value:i}})}function t(e,t){var r=null,i=null;e?has.localStorage&&(r=window.localStorage,i="localStorage"):has.sessionStorage&&(r=window.sessionStorage,i="sessionStorage"),Object.defineProperties(this,{_ok:{value:null!==r},_engine:{value:r},_prefix:{value:t+"."},_prefixRe:{value:new RegExp("^"+RegExp.escape(t+"."))},name:{value:i},id:{value:t},persist:{value:e}})}function r(e,t){Object.defineProperties(this,{_ok:{value:"cookie"in document},_prefix:{value:t+"."},_prefixRe:{value:new RegExp("^"+RegExp.escape(t+"."))},name:{value:"cookie"},id:{value:t},persist:{value:e}})}return Object.defineProperties(e.prototype,{length:{get:function(){return null===this._driver?0:this._driver.length}},keys:{value:function(){return null===this._driver?[]:this._driver.keys()}},clear:{value:function(){if(null===this._driver)return!1;for(var e=this.keys(),t=0;t<e.length;t++)this.removeItem(e[t]);return!0}},hasItem:{value:function(e){return null!==this._driver&&e?this._driver.has(e):!1}},getItem:{value:function(e){if(null===this._driver||!e)return null;var t=this._driver.retrieve(e);if(null==t)return null;var r=!1;if("#~"===t.slice(0,2))t=this._driver.deserialize(t.slice(2)),r=!0;else try{t=this._driver.deserialize(t)}catch(e){t=JSON.parse(t),r=!0}if(r&&!this.setItem(e,t,!0))throw new Error('unable to upgrade legacy value for key "'+e+'" to new format');return t}},setItem:{value:function(e,t,r){return null!==this._driver&&e?this._driver.store(e,this._driver.serialize(t),r):!1}},removeItem:{value:function(e){return null!==this._driver&&e?this._driver.remove(e):!1}},removeMatchingItems:{value:function(e){if(null===this._driver||!e)return!1;for(var t=this.keys(),r=new RegExp("^"+RegExp.escape(e)),i=0;i<t.length;i++)r.test(t[i])&&this.removeItem(t[i]);return!0}}}),Object.defineProperties(t.prototype,{serialize:{value:function(e){return LZString.compressToUTF16(JSON.stringify(e))}},deserialize:{value:function(e){return JSON.parse(LZString.decompressFromUTF16(e))}},length:{get:function(){return this.keys().length}},keys:{value:function(){if(null===this._engine)return[];for(var e=[],t=0;t<this._engine.length;t++){var r=this._engine.key(t);this._prefixRe.test(r)&&e.push(r.replace(this._prefixRe,""))}return e}},has:{value:function(e){return null!==this._engine&&e?null!=this._engine.getItem(this._prefix+e):!1}},retrieve:{value:function(e){return null!==this._engine&&e?this._engine.getItem(this._prefix+e):null}},store:{value:function(e,t,r){if(null===this._engine||!e)return!1;try{this._engine.setItem(this._prefix+e,t)}catch(t){return r||technicalAlert(null,'unable to store key "'+e+'"; '+(/quota_?(?:exceeded|reached)/i.test(t.name)?this.name+" quota exceeded":"unknown error"),t),!1}return!0}},remove:{value:function(e){return null!==this._engine&&e?(this._engine.removeItem(this._prefix+e),!0):!1}}}),Object.defineProperties(r.prototype,{_setCookie:{value:function(e,t,r){if("cookie"in document){var i=encodeURIComponent(this._prefix+e)+"=";null!=t&&(i+=encodeURIComponent(t)),null!=r&&(i+="; "+r),i+="; path=/",document.cookie=i}}},_getCookies:{value:function(){var e={};if("cookie"in document&&""!==document.cookie)for(var t=document.cookie.split(/;\s*/),r=0;r<t.length;r++){var i=t[r].split("="),a=decodeURIComponent(i[0]);this._prefixRe.test(a)&&(e[a]=decodeURIComponent(i[1]))}return e}},serialize:{value:function(e){return LZString.compressToBase64(JSON.stringify(e))}},deserialize:{value:function(e){return JSON.parse(LZString.decompressFromBase64(e))}},length:{get:function(){return this.keys().length}},keys:{value:function(){return Object.keys(this._getCookies())}},has:{value:function(e){return e?this._getCookies().hasOwnProperty(this._prefix+e):!1}},retrieve:{value:function(e){if(!e)return null;var t=this._getCookies(),r=this._prefix+e;return t.hasOwnProperty(r)?t[r]:null}},store:{value:function(e,t,r){if(!e)return!1;try{this._setCookie(e,t,this.persist?"Tue, 19 Jan 2038 03:14:07 GMT":undefined)}catch(t){return r||technicalAlert(null,'unable to store key "'+e+'"; cookie error: '+t.message,t),!1}return this.has(e)?!0:(r||technicalAlert(null,'unable to store key "'+e+'"; unknown cookie error'),!1)}},remove:{value:function(e,t){if(!e)return!1;try{this._setCookie(e,undefined,"Thu, 01 Jan 1970 00:00:00 GMT")}catch(r){return t||technicalAlert(null,'unable to remove key "'+e+'"; cookie error: '+r.message,r),!1}return this.has(e)?(t||technicalAlert(null,'unable to remove key "'+e+'"; unknown cookie error'),!1):!0}}}),e}(),SaveSystem=function(){function e(){function e(e,t){for(var r=0;t>r;r++)e.push(null);return e}function t(e){e.hasOwnProperty("data")&&!e.hasOwnProperty("state")?(e.state={mode:e.mode,delta:History.deltaEncodeHistory(e.data)},delete e.mode,delete e.data):e.hasOwnProperty("state")&&!e.state.hasOwnProperty("delta")&&(e.state.delta=History.deltaEncodeHistory(e.state.history),delete e.state.history)}config.saves.slots<0&&(config.saves.slots=0),storage.hasItem("saves")||storage.setItem("saves",{autosave:null,slots:e([],config.saves.slots)});var r=storage.getItem("saves");if(null===r)return x=!0,!1;Array.isArray(r)&&(r={autosave:null,slots:r},storage.setItem("saves",r)),config.saves.slots!==r.slots.length&&(config.saves.slots<r.slots.length?(r.slots.reverse(),r.slots=r.slots.filter(function(e){return null===e&&this.count>0?(this.count--,!1):!0},{count:r.slots.length-config.saves.slots}),r.slots.reverse()):config.saves.slots>r.slots.length&&e(r.slots,config.saves.slots-r.slots.length),storage.setItem("saves",r));var i=!1;null!==r.autosave&&(r.autosave.hasOwnProperty("state")&&r.autosave.state.hasOwnProperty("delta")||(t(r.autosave),i=!0));for(var a=0;a<r.slots.length;a++)null!==r.slots[a]&&(r.slots[a].hasOwnProperty("state")&&r.slots[a].state.hasOwnProperty("delta")||(t(r.slots[a]),i=!0));return i&&storage.setItem("saves",r),E=r.slots.length-1,!0}function t(){return i()||u()}function r(){return storage.removeItem("saves"),e()}function i(){return!x&&"undefined"!=typeof config.saves.autosave}function a(){var e=storage.getItem("saves");return null!==e&&null!==e.autosave}function n(){var e=storage.getItem("saves");return null===e?null:e.autosave}function s(){var e=storage.getItem("saves");return null===e||null===e.autosave?!1:k(e.autosave)}function o(e,t){if("function"==typeof config.saves.isAllowed&&!config.saves.isAllowed())return!1;var r=storage.getItem("saves");return null===r?!1:(r.autosave=b(),r.autosave.title=e||tale.get(state.active.title).description(),r.autosave.date=Date.now(),null!=t&&(r.autosave.metadata=t),storage.setItem("saves",r))}function l(){var e=storage.getItem("saves");return null===e?!1:(e.autosave=null,storage.setItem("saves",e))}function u(){return!x&&-1!==E}function c(){return E+1}function h(){if(!u())return 0;var e=storage.getItem("saves");if(null===e)return 0;for(var t=0,r=0;r<e.slots.length;r++)null!==e.slots[r]&&t++;return t}function d(){return 0===h()}function p(e){if(0>e||e>E)return!1;var t=storage.getItem("saves");return!(null===t||e>=t.slots.length||null===t.slots[e])}function f(e){if(0>e||e>E)return null;var t=storage.getItem("saves");return null===t||e>=t.slots.length?null:t.slots[e]}function g(e){if(0>e||e>E)return!1;var t=storage.getItem("saves");return null===t||e>=t.slots.length||null===t.slots[e]?!1:k(t.slots[e])}function m(e,t,r){if("function"==typeof config.saves.isAllowed&&!config.saves.isAllowed())return UISystem.alert(strings.saves.disallowed),!1;if(0>e||e>E)return!1;var i=storage.getItem("saves");return null===i||e>=i.slots.length?!1:(i.slots[e]=b(),i.slots[e].title=t||tale.get(state.active.title).description(),i.slots[e].date=Date.now(),null!=r&&(i.slots[e].metadata=r),storage.setItem("saves",i))}function y(e){if(0>e||e>E)return!1;var t=storage.getItem("saves");return null===t||e>=t.slots.length?!1:(t.slots[e]=null,storage.setItem("saves",t))}function v(){if("function"==typeof config.saves.isAllowed&&!config.saves.isAllowed())return void UISystem.alert(strings.saves.disallowed);var e=tale.domId+".save",t=LZString.compressToBase64(JSON.stringify(b()));saveAs(new Blob([t],{type:"text/plain;charset=UTF-8"}),e)}function w(e){var t=e.target.files[0],r=new FileReader;jQuery(r).on("load",function(e){return function(t){if(t.target.result){var r;try{r=JSON.parse(/\.json$/i.test(e.name)||/^\{/.test(t.target.result)?t.target.result:LZString.decompressFromBase64(t.target.result))}catch(e){}k(r)}}}(t)),r.readAsText(t)}function b(){var e={id:config.saves.id,state:History.marshalToSave()};return config.saves.version&&(e.version=config.saves.version),"function"==typeof config.saves.onSave&&config.saves.onSave(e),e.state.delta=History.deltaEncodeHistory(e.state.history),delete e.state.history,e}function k(e){try{if(!e||!e.hasOwnProperty("id")||!e.hasOwnProperty("state"))throw e&&e.hasOwnProperty("mode")&&e.hasOwnProperty("id")&&e.hasOwnProperty("data")?new Error("old-style saves seen during unmarshal"):new Error("save is missing required data; either you've loaded a file which isn't a save, or the save has become corrupted");if(e.state.history=History.deltaDecodeHistory(e.state.delta),delete e.state.delta,"function"==typeof config.saves.onLoad&&config.saves.onLoad(e),e.id!==config.saves.id)throw new Error("save is from the wrong "+strings.identity);History.unmarshalFromSave(e.state)}catch(e){return UISystem.alert(e.message[0].toUpperCase()+e.message.slice(1)+".\n\nAborting load."),!1}return!0}var x=!1,E=-1;return Object.defineProperties({},{init:{value:e},OK:{value:t},purge:{value:r},autosaveOK:{value:i},hasAuto:{value:a},getAuto:{value:n},loadAuto:{value:s},saveAuto:{value:o},deleteAuto:{value:l},slotsOK:{value:u},length:{value:c},isEmpty:{value:d},count:{value:h},has:{value:p},get:{value:f},load:{value:g},save:{value:m},delete:{value:y},exportSave:{value:v},importSave:{value:w}})}(),UISystem=function(){function e(){jQuery("#init-no-js, #init-lacking").remove();var e=document.getElementById("store-area"),t=document.createDocumentFragment(),r=document.createElement("div");for(r.innerHTML=tale.has("StoryFormatMarkup")?tale.get("StoryFormatMarkup").text.trim():'<div id="ui-bar"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core"><li id="menu-saves"><a>Saves</a></li><li id="menu-rewind"><a>Rewind</a></li><li id="menu-restart"><a>Restart</a></li><li id="menu-options"><a>Options</a></li><li id="menu-share"><a>Share</a></li></ul></nav></div><div id="passages" role="main"></div>';r.hasChildNodes();)t.appendChild(r.firstChild);S=insertElement(t,"div","ui-overlay","ui-close"),O=insertElement(t,"div","ui-body"),P=insertElement(t,"a","ui-body-close","ui-close",""),e.parentNode.insertBefore(t,e)}function t(){var e=jQuery(document.documentElement);jQuery("#story-title").empty().append(tale.title),tale.has("StoryCaption")||jQuery("#story-caption").remove(),tale.has("StoryMenu")||tale.has("MenuStory")||jQuery("#menu-story").remove(),r(),w("#menu-saves a",null,function(){i()}),!config.disableHistoryTracking&&tale.lookup("tags","bookmark").length>0?w(jQuery("#menu-rewind a"),null,function(){a()}):jQuery("#menu-rewind").remove(),w("#menu-restart a",null,function(){n()}),tale.has("MenuOptions")?w(jQuery("#menu-options a"),null,function(){s()}):jQuery("#menu-options").remove(),tale.has("MenuShare")?w(jQuery("#menu-share a"),null,function(){o()}):jQuery("#menu-share").remove(),"complete"===document.readyState&&e.removeClass("init-loading"),document.addEventListener("readystatechange",function(){"complete"===document.readyState?config.loadDelay>0?setTimeout(function(){e.removeClass("init-loading")},config.loadDelay):e.removeClass("init-loading"):e.addClass("init-loading")},!1)}function r(){setPageElement("story-banner","StoryBanner"),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","StoryCaption");var e=document.getElementById("menu-story");null!==e&&(removeChildren(e),tale.has("StoryMenu")?u("StoryMenu",e):tale.has("MenuStory")&&u("MenuStory",e))}function i(){function e(e,t,r,i){var a=document.createElement("li"),n=document.createElement("button");return n.id="saves-"+e,t&&(n.className=t),n.innerHTML=r,jQuery(n).on("click",i),a.appendChild(n),a}function t(){function e(e,t,r,i,a){var n=document.createElement("button");return n.id="saves-"+e+"-"+i,t&&(n.className=t),n.classList.add(e),n.innerHTML=r,jQuery(n).on("click",function(e){return function(){a(e)}}(i)),n}var t=storage.getItem("saves");if(null===t)return!1;var r,a,n,s,o,l,u,c,h=document.createElement("tbody");SaveSystem.autosaveOK()&&(r=document.createElement("tr"),a=document.createElement("td"),n=document.createElement("td"),s=document.createElement("td"),o=document.createElement("td"),u=document.createElement("b"),u.innerHTML="A",a.appendChild(u),t.autosave&&t.autosave.state.mode===config.historyMode?(l=document.createElement("button"),l.id="saves-load-autosave",l.classList.add("load"),l.classList.add("ui-close"),l.innerHTML="Load",jQuery(l).on("click",SaveSystem.loadAuto),n.appendChild(l),u=document.createTextNode(t.autosave.title),s.appendChild(u),s.appendChild(document.createElement("br")),u=document.createElement("small"),u.innerHTML="Autosaved ("+new Date(t.autosave.date).toLocaleString()+")",s.appendChild(u),c=document.createElement("button"),c.id="saves-delete-autosave",c.classList.add("delete"),c.innerHTML="Delete",jQuery(c).on("click",function(){SaveSystem.deleteAuto(),i()}),o.appendChild(c)):(u=document.createElement("i"),u.innerHTML="(autosave slot empty)",s.appendChild(u),s.classList.add("empty")),r.appendChild(a),r.appendChild(n),r.appendChild(s),r.appendChild(o),h.appendChild(r));for(var d=0;d<t.slots.length;d++)r=document.createElement("tr"),a=document.createElement("td"),n=document.createElement("td"),s=document.createElement("td"),o=document.createElement("td"),a.appendChild(document.createTextNode(d+1)),t.slots[d]&&t.slots[d].state.mode===config.historyMode?(l=e("load","ui-close","Load",d,SaveSystem.load),n.appendChild(l),u=document.createTextNode(t.slots[d].title),s.appendChild(u),s.appendChild(document.createElement("br")),u=document.createElement("small"),t.slots[d].date?u.innerHTML="Saved ("+new Date(t.slots[d].date).toLocaleString()+")":u.innerHTML="Saved (<i>unknown</i>)",s.appendChild(u),c=e("delete",null,"Delete",d,function(e){SaveSystem.delete(e),i()}),o.appendChild(c)):(l=e("save","ui-close","Save",d,SaveSystem.save),n.appendChild(l),u=document.createElement("i"),u.innerHTML="(save slot empty)",s.appendChild(u),s.classList.add("empty")),r.appendChild(a),r.appendChild(n),r.appendChild(s),r.appendChild(o),h.appendChild(r);var p=document.createElement("table");return p.id="saves-list",p.appendChild(h),p}function r(){var e=document.createElement("div"),t=document.createElement("div"),r=document.createElement("input");return t.id="saves-import-label",t.appendChild(document.createTextNode("Select a save file to load:")),e.appendChild(t),r.type="file",r.id="saves-import-file",r.name="saves-import-file",jQuery(r).on("change",function(e){SaveSystem.importSave(e),k()}),e.appendChild(r),e}var a,n,s=SaveSystem.OK();return jQuery(O).empty().removeClass().addClass("saves"),s&&(a=t(),a||(a=document.createElement("div"),a.id="saves-list",a.innerHTML="<i>No save slots found</i>"),O.appendChild(a)),s||has.fileAPI?(n=document.createElement("div"),a=document.createElement("ul"),has.fileAPI&&(a.appendChild(e("export","ui-close","Save to Disk…",SaveSystem.exportSave)),a.appendChild(e("import",null,"Load from Disk…",function(e){document.getElementById("saves-import-file")||O.appendChild(r())}))),s&&a.appendChild(e("purge",null,"Purge Slots",function(e){SaveSystem.purge(),i()})),n.appendChild(a),O.appendChild(n),!0):(c("Apologies! Your browser either lacks some of the capabilities required to support saves or has disabled them.\n\nThe former may be solved by updating it to a newer version or by switching to a more modern browser.\n\nThe latter may be solved by loosening its security restrictions or, perhaps, by viewing the "+strings.identity+" via the HTTP protocol."),!1)}function a(){var e=document.createElement("ul");jQuery(O).empty().removeClass().addClass("dialog-list rewind").append(e);for(var t=0,r=state.length-1;r>t;t++){var i=tale.get(state.history[t].title);if(i&&i.tags.contains("bookmark")){var a=document.createElement("li"),n=document.createElement("a");n.classList.add("ui-close"),jQuery(n).on("click",function(){var e=t;return config.historyMode===History.Modes.Session?function(){if(document.title=tale.title,state.regenerateSuid(),config.disableHistoryControls)History.replaceWindowState({suid:state.suid,sidx:state.history[e].sidx},config.displayPassageTitles&&state.history[e].title!==config.startPassage?tale.title+": "+state.history[e].title:tale.title);else for(var t=0,r=e;r>=t;t++)History.addWindowState({suid:state.suid,sidx:state.history[t].sidx},config.displayPassageTitles&&state.history[t].title!==config.startPassage?tale.title+": "+state.history[t].title:tale.title);var i=History.getWindowState();null!==i&&i.sidx<state.top.sidx&&state.pop(state.top.sidx-i.sidx),state.setActiveState(state.top),state.display(state.active.title,null,"replace")}:config.historyMode===History.Modes.Window?function(){if(document.title=tale.title,!config.disableHistoryControls)for(var t=0,r=e;r>=t;t++){var i={history:state.history.slice(0,t+1)};state.hasOwnProperty("prng")&&(i.rseed=state.prng.seed),History.addWindowState(i,config.displayPassageTitles&&state.history[t].title!==config.startPassage?tale.title+": "+state.history[t].title:tale.title)}state.pop(state.length-(e+1)),state.setActiveState(state.top),state.display(state.active.title,null,"replace")}:function(){config.disableHistoryControls?(session.setItem("activeHash",state.history[e].hash),window.location.reload()):window.location.hash=state.history[e].hash}}()),n.appendChild(document.createTextNode("Turn "+(t+1)+": "+i.description())),a.appendChild(n),e.appendChild(a)}}if(!e.hasChildNodes()){var a=document.createElement("li"),n=document.createElement("a");n.innerHTML="<i>No rewind points available…</i>",a.appendChild(n),e.appendChild(a)}}function n(){return jQuery(O).empty().removeClass().addClass("dialog restart").append('<p>Are you sure that you want to restart?  Unsaved progress will be lost.</p><ul class="buttons"><li><button id="restart-ok" class="ui-close">OK</button></li><li><button id="restart-cancel" class="ui-close">Cancel</button></li></ul>'),jQuery("#ui-body #restart-ok").one("click",function(){state.restart()}),!0}function s(){return jQuery(O).empty().removeClass().addClass("dialog options"),new Wikifier(O,tale.get("MenuOptions").processText().trim()),!0}function o(){return jQuery(O).empty().removeClass().addClass("dialog-list share").append(u("MenuShare")),!0}function l(){return jQuery(O).empty().removeClass().addClass("dialog autoload").append("<p>"+strings.saves.autoloadPrompt+'</p><ul class="buttons"><li><button id="autoload-ok" class="ui-close">'+strings.saves.autoloadPromptOK+'</button></li><li><button id="autoload-cancel" class="ui-close">'+strings.saves.autoloadPromptCancel+"</button></li></ul>"),jQuery(document.body).one("click.autoload",".ui-close",function(e){"autoload-ok"===e.target.id&&SaveSystem.loadAuto()||state.display(config.startPassage)}),!0}function u(e,t){null==t&&(t=document.createElement("ul"));var r=document.createDocumentFragment();if(new Wikifier(r,tale.get(e).processText().trim()),r.hasChildNodes())for(var i=null;r.hasChildNodes();){var a=r.firstChild;a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE&&"BR"!==a.nodeName.toUpperCase()?(null===i&&(i=document.createElement("li"),t.appendChild(i)),i.appendChild(a)):(r.removeChild(a),null!==i&&(i=null))}return t}function c(e,t,r){jQuery(O).empty().addClass("dialog alert").append("<p>"+e+'</p><ul class="buttons"><li><button id="alert-ok" class="ui-close">OK</button></li></ul>'),b(t,r)}function h(e){n(),b(e)}function d(){s(),b.apply(null,arguments)}function p(){a(),b.apply(null,arguments)}function f(){i(),b.apply(null,arguments)}function g(){o(),b.apply(null,arguments)}function m(e){return document.documentElement.classList.contains("ui-open")&&(e?O.classList.contains(e):!0)}function y(){return O}function v(e){return jQuery(O).empty().removeClass().addClass("dialog"),null!=e&&jQuery(O).addClass(e),O}function w(e,t,r,i,a){jQuery(e).on("click",function(e){e.preventDefault(),"function"==typeof r&&r(e),b(t,a),"function"==typeof i&&i(e)})}function b(e,t){e=jQuery.extend({top:50,opacity:.8},e),jQuery(document.body).on("click.uisystem-close",".ui-close",t,k),jQuery(S).css({display:"block",opacity:0}).fadeTo(200,e.opacity),e.resizeOnImagesLoaded&&jQuery(O).imagesLoaded().always(function(e){return function(){x({data:e})}}(e.top));var r=E(e.top);jQuery(O).css(jQuery.extend({display:"block",opacity:0},r.dialog)).fadeTo(200,1),jQuery(P).css(jQuery.extend({display:"block",opacity:0},r.closer)).fadeTo(50,1),jQuery(document.documentElement).addClass("ui-open"),jQuery(window).on("resize.uisystem",null,e.top,jQuery.debounce(40,x))}function k(e){jQuery(window).off("resize.uisystem"),jQuery(document.documentElement).removeClass("ui-open"),jQuery(O).css({display:"none",opacity:0,left:"",right:"",top:"",bottom:""}).removeClass().empty(),jQuery(P).css({display:"none",opacity:0,right:"",top:""}),jQuery(S).fadeOut(200),jQuery(document.body).off("click.uisystem-close"),e&&"function"==typeof e.data&&e.data(e)}function x(e){var t=jQuery(O),r=jQuery(P),i=e&&"undefined"!=typeof e.data?e.data:50;if("block"===t.css("display")){t.css({display:"none",left:"",right:"",top:"",bottom:""}),r.css({display:"none",right:"",top:""});var a=E(i);t.css(jQuery.extend({display:"block"},a.dialog)),r.css(jQuery.extend({display:"block"},a.closer))}}function E(e){"undefined"==typeof e&&(e=50);var t=jQuery(window),r=jQuery(O),i={left:"",right:"",top:"",bottom:""},a=jQuery(P),n={right:"",top:""},s=t.width()-r.outerWidth(!0),o=t.height()-r.outerHeight(!0);return 32>=s?i.left=i.right=16:i.left=i.right=~~(s/2),32>=o?i.top=i.bottom=16:o/2>e?i.top=e:i.top=i.bottom=~~(o/2),n.right=i.right-a.outerWidth(!0)+6+"px",n.top=i.top-a.outerHeight(!0)+6+"px",Object.keys(i).forEach(function(e){""!==i[e]&&(i[e]+="px")}),{dialog:i,closer:n}}var S=null,O=null,P=null;return Object.defineProperties({},{init:{value:e},start:{value:t},setPageElements:{value:r},buildDialogSaves:{value:i},buildDialogRewind:{value:a},buildDialogRestart:{value:n},buildDialogOptions:{value:s},buildDialogShare:{value:o},buildDialogAutoload:{value:l},buildListFromPassage:{value:u},alert:{value:c},restart:{value:h},options:{value:d},rewind:{value:p},saves:{value:f},share:{value:g},isOpen:{value:m},body:{value:y},setup:{value:v},addClickHandler:{value:w},open:{value:b},close:{value:k},show:{value:b}})}();History.Modes=Object.freeze({Hash:1,Window:2,Session:3}),Object.defineProperties(History.prototype,{top:{get:function(){return 0!==this.history.length?this.history[this.history.length-1]:null}},bottom:{get:function(){return 0!==this.history.length?this.history[0]:null}},length:{get:function(){return config.historyMode===History.Modes.Session?this.active.sidx+1:this.history.length}},isEmpty:{value:function(){return 0===this.history.length}},marshal:{value:function(e){var t={delta:History.deltaEncodeHistory(null!=e?this.history.slice(0,e):this.history)};return this.hasOwnProperty("prng")&&(t.rseed=this.prng.seed),t}},unmarshal:{value:function(e){if(null==e)throw new Error("History.prototype.unmarshal stateObj parameter is null or undefined");if(!e.hasOwnProperty("delta")||0===e.delta.length)throw new Error("History.prototype.unmarshal state object has no history or history is empty");this.history=History.deltaDecodeHistory(e.delta),this.hasOwnProperty("prng")&&e.hasOwnProperty("rseed")&&(this.prng.seed=e.rseed)}},has:{value:function(e){return this.isEmpty()?!1:0===arguments.length||null==e||""===e?!1:this.history.slice(0,this.length).some(function(t){return t.title===e})}},index:{value:function(e){return this.isEmpty()?null:0>e||e>=this.length?null:this.history[e]}},peek:{value:function(e){return this.isEmpty()?null:(e=1+(e?Math.abs(e):0),e>this.length?null:this.history[this.length-e])}},push:{value:function(){if(0!==arguments.length){for(var e=0;e<arguments.length;e++){var t=arguments[e];config.historyMode===History.Modes.Session&&(t.sidx=this.history.length),this.history.push(t)}return this.history.length}}},pop:{value:function(e){return this.isEmpty()?[]:(e=e?Math.abs(e):1,1===e?this.history.pop():this.history.splice(this.history.length-e,e))}},setActiveState:{value:function(e){if(0!==arguments.length){if(null==e)throw new Error("state activation attempted with null or undefined");if("object"==typeof e)this.active=clone(e);else{if(this.isEmpty())return null;if(0>e||e>=this.history.length)return null;this.active=clone(this.history[e])}return this.prng&&(this.prng=SeedablePRNG.unmarshal({seed:this.prng.seed,count:this.active.rcount})),this.active}}},init:{value:function(){if(tale.has("StoryInit"))try{Wikifier.wikifyEval(tale.get("StoryInit").text)}catch(e){technicalAlert("StoryInit",e.message)}config.disableHistoryTracking&&(config.disableHistoryControls=!0);var e;if("undefined"!=typeof e&&""!==e)this.display(e);else{if(null==config.startPassage||!tale.has(config.startPassage))throw new Error("starting passage "+(null==config.startPassage?"not selected":'("'+config.startPassage+'") not found'));if(!this.restore()){var t=!0;switch(typeof config.saves.autoload){case"boolean":config.saves.autoload&&SaveSystem.autosaveOK()&&(t=!SaveSystem.loadAuto());break;case"string":"prompt"===config.saves.autoload&&SaveSystem.autosaveOK()&&SaveSystem.hasAuto()&&(t=!1,UISystem.buildDialogAutoload(),UISystem.open());break;case"function":SaveSystem.autosaveOK()&&SaveSystem.hasAuto()&&config.saves.autoload()&&(t=!SaveSystem.loadAuto())}t&&this.display(config.startPassage)}}config.historyMode===History.Modes.Session?window.addEventListener("popstate",History.popStateHandler_Session,!1):config.historyMode===History.Modes.Window?window.addEventListener("popstate",History.popStateHandler_Window,!1):window.addEventListener("hashchange",History.hashChangeHandler,!1)}},display:{writable:!0,value:function(e,t,r){var i="hidden"!==r&&"offscreen"!==r&&"quietly"!==r&&r!==!1,a="replace"!==r&&"back"!==r;runtime.temp={};var n=tale.get(e),s=config.displayPassageTitles&&n.title!==config.startPassage?n.title+" | "+tale.title:tale.title;if(Object.keys(prehistory).forEach(function(e){"function"==typeof prehistory[e]&&prehistory[e].call(this,e)},n),this.active.init&&!this.isEmpty()&&(config.historyMode===History.Modes.Session?this.setActiveState(History.hasWindowState()?History.getWindowState().sidx:this.top):this.setActiveState(this.top)),a){if(!this.isEmpty())if(config.disableHistoryTracking)this.pop();else if(config.historyMode===History.Modes.Session){var o=History.getWindowState();null!==o&&o.sidx<this.top.sidx&&this.pop(this.top.sidx-o.sidx)}this.push({title:n.title,variables:clone(this.active.variables)}),this.prng&&(this.top.rcount=this.prng.count),this.setActiveState(this.top)}if((a||config.disableHistoryControls)&&config.historyMode!==History.Modes.Hash){var l;l=config.historyMode===History.Modes.Session?{suid:this.suid,sidx:this.active.sidx}:this.marshal(),History[!History.hasWindowState()||config.disableHistoryControls?"replaceWindowState":"addWindowState"](l,s)}if(config.historyMode!==History.Modes.Window&&this.save(),i&&(document.body.className&&(document.body.className=""),Object.keys(predisplay).forEach(function(e){"function"==typeof predisplay[e]&&predisplay[e].call(this,e)},n),tale.has("PassageReady")))try{Wikifier.wikifyEval(tale.get("PassageReady").text)}catch(e){technicalAlert("PassageReady",e.message)}var u=n.render();if(u.style.visibility="visible",i){var c=document.getElementById("passages"),h=c.querySelector(".passage");null!==h&&("number"==typeof config.passageTransitionOut||"boolean"==typeof config.passageTransitionOut&&config.passageTransitionOut&&""!==config.transitionEndEventName)?(h.id="out-"+h.id,h.classList.add("transition-out"),"boolean"==typeof config.passageTransitionOut?jQuery(h).on(config.transitionEndEventName,function(){this.parentNode&&this.parentNode.removeChild(this)}):setTimeout(function(){h.parentNode&&h.parentNode.removeChild(h)},config.passageTransitionOut)):removeChildren(c),u.classList.add("transition-in"),c.appendChild(u),setTimeout(function(){u.classList.remove("transition-in")},1),config.displayPassageTitles&&n.title!==config.startPassage&&(document.title=s),config.historyMode===History.Modes.Hash&&(window.location.hash=this.hash),window.scroll(0,0)}if(i){if(tale.has("PassageDone"))try{Wikifier.wikifyEval(tale.get("PassageDone").text)}catch(e){technicalAlert("PassageDone",e.message)}Object.keys(postdisplay).forEach(function(e){"function"==typeof postdisplay[e]&&postdisplay[e].call(this,e)},n),config.updatePageElements&&UISystem.setPageElements()}switch(typeof config.saves.autosave){case"boolean":config.saves.autosave&&SaveSystem.saveAuto();break;case"string":n.tags.contains(config.saves.autosave)&&SaveSystem.saveAuto();break;case"object":Array.isArray(config.saves.autosave)&&n.tags.some(function(e){return config.saves.autosave.contains(e)})&&SaveSystem.saveAuto()}return u}},regenerateSuid:{value:function(){this.suid=UUID.generate(),this.save()}},restart:{value:function(){config.historyMode!==History.Modes.Hash?(History.addWindowState(null,tale.title),window.location.reload()):window.location.hash=""}},save:{value:function(){var e=this.marshal();config.historyMode===History.Modes.Session?session.setItem("history."+this.suid,e):config.historyMode===History.Modes.Hash&&(this.hash=History.serializeWindowHashState(e))}},restore:{value:function(e){if(config.historyMode===History.Modes.Session){if(e)this.suid=e;else{if(!History.hasWindowState())return this.suid=UUID.generate(),!1;this.suid=History.getWindowState().suid}if(session.hasItem("history."+this.suid)){var t=session.getItem("history."+this.suid),r=History.getWindowState().sidx;if(this.unmarshal(t),tale.has(this.history[r].title))return this.display(this.history[r].title,null,"replace"),!0}}else if(config.historyMode===History.Modes.Window){if(History.hasWindowState()&&this.unmarshal(History.getWindowState()),!this.isEmpty()&&tale.has(this.top.title))return this.display(this.top.title,null,"replace"),!0}else if(History.hasWindowHashState())return this.hash||History.hashChangeHandler(),!0;return!1}}}),Object.defineProperties(History,{serializeWindowState:{value:function(e){return LZString.compressToUTF16(JSON.stringify(e))}},deserializeWindowState:{value:function(e){return JSON.parse(LZString.decompressFromUTF16(e))}},hasWindowState:{value:function(e){return 0===arguments.length&&(e=window.history),null!=e.state}},getWindowState:{value:function(e){return 0===arguments.length&&(e=window.history),null!=e.state?History.deserializeWindowState(e.state):null}},addWindowState:{value:function(e,t,r){null!=r?window.history.pushState(null!=e?History.serializeWindowState(e):null,t,r):window.history.pushState(null!=e?History.serializeWindowState(e):null,t);
}},replaceWindowState:{value:function(e,t,r){null!=r?window.history.replaceState(null!=e?History.serializeWindowState(e):null,t,r):window.history.replaceState(null!=e?History.serializeWindowState(e):null,t)}},serializeWindowHashState:{value:function(e){return"#"+LZString.compressToBase64(JSON.stringify(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,".")}},deserializeWindowHashState:{value:function(e){return JSON.parse(LZString.decompressFromBase64(e.slice(1).replace(/\-/g,"+").replace(/_/g,"/").replace(/\./g,"=")))}},hasWindowHashState:{value:function(e){return 0===arguments.length&&(e=window.location.hash),""!==e&&"#"!==e}},getWindowHashState:{value:function(e){return 0===arguments.length&&(e=window.location.hash),""!==e&&"#"!==e?History.deserializeWindowHashState(e):null}},popStateHandler_Session:{value:function(e){if(History.hasWindowState(e)){UISystem.isOpen()&&UISystem.close();var t=History.getWindowState(e);t.suid!==state.suid&&(state.save(),state.restore(t.suid)),state.display(state.setActiveState(t.sidx).title,null,"replace")}}},popStateHandler_Window:{value:function(e){if(History.hasWindowState(e)){UISystem.isOpen()&&UISystem.close();var t=History.getWindowState(e);state.unmarshal(t),state.display(state.setActiveState(state.top).title,null,"replace")}}},hashChangeHandler:{value:function(e){if(window.location.hash!==state.hash){if(History.hasWindowHashState()){UISystem.isOpen()&&UISystem.close();var t=History.getWindowHashState();state.unmarshal(t),state.display(state.setActiveState(state.top).title,null,"replace")}else window.location.reload();window.location.hash!==state.hash&&(state.hash=window.location.hash)}}},initPRNG:{value:function(e,t){runtime.flags.HistoryPRNG.isEnabled=!0,state.prng=new SeedablePRNG(e,t),state.active.rcount=state.prng.count,runtime.flags.HistoryPRNG.isMathPRNG||(runtime.flags.HistoryPRNG.isMathPRNG=!0,Math.random=function(){return state.prng.random()})}},deltaEncodeHistory:{value:function(e){if(!Array.isArray(e))return null;if(0===e.length)return[];for(var t=[clone(e[0])],r=1,i=e.length;i>r;r++)t.push(Util.diff(e[r-1],e[r]));return t}},deltaDecodeHistory:{value:function(e){if(!Array.isArray(e))return null;if(0===e.length)return[];for(var t=[clone(e[0])],r=1,i=e.length;i>r;r++)t.push(Util.patch(t[r-1],e[r]));return t}},marshalToSave:{value:function(){var e={mode:config.historyMode};return state.hasOwnProperty("prng")&&(e.rseed=state.prng.seed),config.historyMode===History.Modes.Session?e.history=clone(state.history.slice(0,state.active.sidx+1)):e.history=clone(state.history),e}},unmarshalFromSave:{value:function(e){if(!e||!e.hasOwnProperty("mode")||!e.hasOwnProperty("history")&&!e.hasOwnProperty("delta"))throw new Error("state object is missing required data");if(e.mode!==config.historyMode)throw new Error("state object is from an incompatible history mode");if(document.title=tale.title,state=new History,runtime.flags.HistoryPRNG.isEnabled&&History.initPRNG(e.hasOwnProperty("rseed")?e.rseed:null),config.historyMode===History.Modes.Session&&state.regenerateSuid(),state.history=clone(e.history),config.historyMode!==History.Modes.Hash&&!config.disableHistoryControls)for(var t=0,r=state.history.length;r>t;t++){var i,a=config.displayPassageTitles&&state.history[t].title!==config.startPassage?state.history[t].title+" | "+tale.title:tale.title;switch(config.historyMode){case History.Modes.Session:i={suid:state.suid,sidx:state.history[t].sidx};break;case History.Modes.Window:i=state.marshal(t+1)}History.addWindowState(i,a)}state.setActiveState(state.top),state.display(state.active.title,null,"replace")}}}),Object.defineProperties(Passage.prototype,{className:{get:function(){return this.classes.join(" ")}},text:{get:function(){return null==this.element?String.format('<span class="error" title="{0}">Error: the passage "{0}" does not exist</span>',Util.escape(this.title)):this.element.textContent.replace(/\r/g,"")}},description:{value:function(){if(null!=config.altPassageDescription)switch(typeof config.altPassageDescription){case"boolean":if(config.altPassageDescription)return this.title;break;case"object":if(config.altPassageDescription.hasOwnProperty(this.title))return config.altPassageDescription[this.title];break;case"function":var e=config.altPassageDescription.call(this);if(e)return e;break;default:throw new TypeError("config.altPassageDescription must be a boolean, object, or function")}return null==this._excerpt?Passage.getExcerptFromText(this.text):this._excerpt}},processText:{value:function(){var e=this.text;return this.tags.contains("nobr")&&(e=e.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),this.tags.contains("Twine.image")&&(e="[img["+e+"]]"),e}},render:{value:function(){var e=insertElement(null,"section",this.domId,"passage");e.setAttribute("data-passage",this.title),e.style.visibility="hidden";for(var t=0;t<this.classes.length;t++)document.body.classList.add(this.classes[t]),e.classList.add(this.classes[t]);insertElement(e,"header",null,"header");var r=insertElement(e,"div",null,"body content");return insertElement(e,"footer",null,"footer"),Object.keys(prerender).forEach(function(e){"function"==typeof prerender[e]&&prerender[e].call(this,r,e)},this),new Wikifier(r,this.processText()),Object.keys(postrender).forEach(function(e){"function"==typeof postrender[e]&&postrender[e].call(this,r,e)},this),this._excerpt=Passage.getExcerptFromNode(r),e}},reset:{value:function(){throw new Error("Passage.prototype.reset was called")}}}),Object.defineProperties(Passage,{getExcerptFromNode:{value:function(e,t){if(!e.hasChildNodes())return"";var r=new RegExp("(\\S+(?:\\s+\\S+){0,"+("undefined"!=typeof t?t-1:7)+"})"),i=e.textContent.trim();return""!==i&&(i=i.replace(/\s+/g," ").match(r)),i?i[1]+"…":"…"}},getExcerptFromText:{value:function(e,t){if(""===e)return"";var r=new RegExp("(\\S+(?:\\s+\\S+){0,"+("undefined"!=typeof t?t-1:7)+"})"),i=e.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*)(?:|[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/\'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(r);return i?i[1]+"…":"…"}}}),Object.defineProperties(Tale.prototype,{title:{get:function(){return this._title},set:function(e){if(null==e||""===e)throw new Error("story title cannot be null or empty");document.title=this._title=e,this._domId=Util.slugify(e)}},domId:{get:function(){return this._domId}},init:{value:function(){}},has:{value:function(e){switch(typeof e){case"number":e+="";case"string":return this.passages.hasOwnProperty(e);default:throw new TypeError("Tale.prototype.has title parameter must be a string")}}},get:{value:function(e){switch(typeof e){case"number":e+="";case"string":return this.passages.hasOwnProperty(e)?this.passages[e]:new Passage(e||"(unknown)");default:throw new TypeError("Tale.prototype.get title parameter must be a string")}}},lookup:{value:function(e,t,r){r||(r="title");for(var i=Object.keys(this.passages),a=[],n=0;n<i.length;n++){var s=this.passages[i[n]];if(s.hasOwnProperty(e))switch(typeof s[e]){case"undefined":break;case"object":for(var o=0,l=s[e].length;l>o;o++)if(s[e][o]==t){a.push(s);break}break;default:s[e]==t&&a.push(s)}}return a.sort(function(e,t){return e[r]==t[r]?0:e[r]<t[r]?-1:1}),a}},reset:{value:function(){throw new Error("Tale.prototype.reset was called")}}});var Wikifier=function(){function e(r,i){this.formatter=t||e.compileFormatters(),this.output=null!=r?r:document.createElement("div"),this.source=i,this.nextMatch=0,this._rawArgs="",this._nobr=[],this.subWikify(this.output),null==r&&"function"==typeof this.output.remove&&this.output.remove()}var t,r=/[\u0150\u0170]/g.test("Ő");return Object.defineProperties(e.prototype,{subWikify:{value:function(e,t,r){var i=this.output;this.output=e;var a,n,s=t?new RegExp("(?:"+t+")",r?"gim":"gm"):null;do{if(this.formatter.formatterRegExp.lastIndex=this.nextMatch,s&&(s.lastIndex=this.nextMatch),n=this.formatter.formatterRegExp.exec(this.source),a=s?s.exec(this.source):null,a&&(!n||a.index<=n.index))return a.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,a.index),this.matchStart=a.index,this.matchLength=a[0].length,this.matchText=a[0],this.nextMatch=s.lastIndex,void(this.output=i);if(n){n.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,n.index),this.matchStart=n.index,this.matchLength=n[0].length,this.matchText=n[0],this.nextMatch=this.formatter.formatterRegExp.lastIndex;for(var o=-1,l=1;l<n.length;l++)if(n[l]){o=l-1;break}if(-1!==o&&(this.formatter.formatters[o].handler(this),null!=runtime.temp.break))break}}while(a||n);null==runtime.temp.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&removeElement(this.output.lastChild),this.output=i}},outputText:{value:function(e,t,r){insertText(e,this.source.substring(t,r))}},rawArgs:{value:function(){return this._rawArgs}},fullArgs:{value:function(){return e.parse(this.rawArgs())}}}),Object.defineProperties(e,{compileFormatters:{value:function(){for(var r=e.formatters,i=[],a=0,n=r.length;n>a;a++)i.push("("+r[a].match+")");return t={formatters:r,formatterRegExp:new RegExp(i.join("|"),"gm")}}},parse:{value:function(e){for(var t,r=new RegExp("(?:(?:\"((?:(?:\\\\\")|[^\"])+)\")|(?:'((?:(?:\\\\')|[^'])+)')|((?:\"\")|(?:''))|([=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)|([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+))","g"),i={$:"state.active.variables.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'};null!==(t=r.exec(e));)if(t[5]){var a=t[5];if("$"===a)continue;if("$"===a[0])a="$";else if("is"===a){var n=r.lastIndex,s=e.slice(n);/^\s+not\b/.test(s)&&(e=e.splice(n,s.search(/\S/)),a="isnot")}i.hasOwnProperty(a)&&(e=e.splice(t.index,a.length,i[a]),r.lastIndex+=i[a].length-a.length)}return e}},getValue:{value:function(t){var r=e.parseStoryVariable(t),i=undefined;if(0!==r.length){i=state.active.variables;for(var a=0,n=r.length;n>a;a++){if("undefined"==typeof i[r[a]]){i=undefined;break}i=i[r[a]]}}return i}},setValue:{value:function(t,r){var i=e.parseStoryVariable(t);if(0!==i.length){for(var a=state.active.variables,n=i.pop(),s=0,o=i.length;o>s;s++){if("undefined"==typeof a[i[s]]){a=undefined;break}a=a[i[s]]}if(a!==undefined)return a[n]=r,!0}return!1}},parseStoryVariable:{value:function(t){for(var r,i=/^(?:\$(\w+)|\.(\w+)|\[(?:(?:\"((?:\\.|[^\"\\])+)\")|(?:\'((?:\\.|[^\'\\])+)\')|(\$\w.*)|(\d+))\])/,a=[];null!==(r=i.exec(t));)t=t.slice(r[0].length),r[1]?a.push(r[1]):r[2]?a.push(r[2]):r[3]?a.push(r[3]):r[4]?a.push(r[4]):r[5]?a.push(e.getValue(r[5])):r[6]&&a.push(Number(r[6]));return""===t?a:[]}},evalExpression:{value:function(t){return Util.evalExpression(e.parse(t))}},evalStatements:{value:function(t){return Util.evalStatements(e.parse(t))}},wikifyEval:{value:function(t){var r=document.createDocumentFragment();try{for(new e(r,t);r.hasChildNodes();){var i=r.firstChild;if(i.classList&&i.classList.contains("error"))throw new Error(i.textContent);r.removeChild(i)}}catch(e){throw new Error(e.message.replace(/^Error:\s+/,""))}finally{removeChildren(r)}}},createInternalLink:{value:function(e,t,r,i){var a=document.createElement("a");return null!=t&&(a.setAttribute("data-passage",t),tale.has(t)?(a.classList.add("link-internal"),config.addVisitedLinkClass&&state.has(t)&&a.classList.add("link-visited")):a.classList.add("link-broken"),jQuery(a).click(function(){"function"==typeof i&&i(),state.display(t,a)})),r&&insertText(a,r),e&&e.appendChild(a),a}},createExternalLink:{value:function(e,t,r){var i=insertElement(e,"a",null,"link-external",r);return i.target="_blank",null!=t&&(i.href=t),i}},isExternalLink:{value:function(t){if(tale.has(t))return!1;var r=new RegExp("^"+e.textPrimitives.url,"gim");return r.test(t)||/[\.\/\\#]/.test(t)}}}),Object.defineProperty(e,"textPrimitives",{value:{}}),Object.defineProperties(e.textPrimitives,{anyLetter:{value:r?"[A-Za-z0-9_\\-À-ž]":"[A-Za-z0-9_\\-À-ÿ]"},url:{value:"(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+(?:/|\\b)"}}),Object.defineProperties(e.textPrimitives,{inlineCSS:{value:["(?:("+e.textPrimitives.anyLetter+"+)\\(([^\\)\\|\\n]+)\\):)","(?:("+e.textPrimitives.anyLetter+"+):([^;\\|\\n]+);)","(?:((?:\\."+e.textPrimitives.anyLetter+"+)+);)"].join("|")}}),Object.defineProperty(e,"helpers",{value:{}}),Object.defineProperties(e.helpers,{charFormat:{value:function(e){e.subWikify(insertElement(e.output,this.element),this.terminator)}},inlineCSS:{value:function(t){var r={styles:[],classes:[]},i=new RegExp(e.textPrimitives.inlineCSS,"gm");do{i.lastIndex=t.nextMatch;var a=i.exec(t.source),n=a&&a.index===t.nextMatch;n&&(a[1]?r.styles.push({style:e.helpers.cssToDOMName(a[1]),value:a[2].trim()}):a[3]?r.styles.push({style:e.helpers.cssToDOMName(a[3]),value:a[4].trim()}):a[5]&&(r.classes=r.classes.concat(a[5].slice(1).split(/\./))),t.nextMatch=i.lastIndex)}while(n);return r}},cssToDOMName:{value:function(e){if(!e.contains("-")){switch(e){case"bgcolor":e="backgroundColor";break;case"float":e="cssFloat"}return e}for(var t=e.split("-"),r=1;r<t.length;r++)t[r]=t[r].slice(0,1).toUpperCase()+t[r].slice(1);return t.join("")}},evalExpression:{value:function(t){var r;try{r=e.evalExpression(t),null==r||"function"==typeof r?r=t:(r=String(r),/\[(?:object(?:\s+[^\]]+)?|native\s+code)\]/.test(r)&&(r=t))}catch(e){r=t}return r}},evalPassageId:{value:function(t){return null==t||tale.has(t)||(t=e.helpers.evalExpression(t)),t}},parseSquareBracketedMarkup:{value:function(e){var t,r,i,a,n=function(){return g>=e.source.length?d:e.source[g++]},s=function(){return g>=e.source.length?d:e.source[g]},o=function(t){return 1>t||g+t>=e.source.length?d:e.source[g+t]},l=function(){return{error:String.format.apply(null,arguments),pos:g}},u=function(){f=g},c=function(t){var r=e.source.slice(f,g).trim();if(""===r)throw new Error("malformed wiki "+(i?"link":"image")+", empty "+t+" component");"link"===t&&"~"===r[0]?(p.forceInternal=!0,p.link=r.slice(1)):p[t]=r,f=g},h=function(e){g++;e:for(;;){switch(s()){case"\\":g++;var t=s();if(t!==d&&"\n"!==t)break;case d:case"\n":return d;case e:break e}g++}return g},d=-1,p={},f=e.matchStart,g=f+1;if(a=s(),"["===a)i=p.isLink=!0;else{switch(i=!1,a){case"<":p.align="left",g++;break;case">":p.align="right",g++}if(!/^[Ii][Mm][Gg]$/.test(e.source.slice(g,g+3)))return l("malformed square-bracketed wiki markup");g+=3,p.isImage=!0}if("["!==n())return l("malformed wiki {0}",i?"link":"image");t=1,r=0,u();try{e:for(;;){switch(a=s()){case d:case"\n":return l("unterminated wiki {0}",i?"link":"image");case'"':if(h(a)===d)return l("unterminated double quoted string in wiki {0}",i?"link":"image");break;case"'":if((4===r||3===r&&i)&&h(a)===d)return l("unterminated single quoted string in wiki {0}",i?"link":"image");break;case"|":0===r&&(c(i?"text":"title"),f++,r=1);break;case"-":0===r&&">"===o(1)&&(c(i?"text":"title"),g++,f+=2,r=1);break;case"<":0===r&&"-"===o(1)&&(c(i?"link":"source"),g++,f+=2,r=2);break;case"[":if(-1===r)return l("unexpected left square bracket '['");t++,1===t&&(u(),f++);break;case"]":if(t--,0===t){switch(r){case 0:case 1:c(i?"link":"source"),r=3;break;case 2:c(i?"text":"title"),r=3;break;case 3:i?(c("setter"),r=-1):(c("link"),r=4);break;case 4:c("setter"),r=-1}if(g++,"]"===s()){g++;break e}g--}}g++}}catch(e){return l(e.message)}return p.pos=g,p}}}),Object.defineProperty(e,"formatters",{value:[{name:"dollarSign",match:"\\${2}",handler:function(e){insertText(e.output,"$")}},{name:"$variable",match:"\\$\\w+(?:(?:\\.[A-Za-z_$]\\w*)|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\[\\$\\w+\\]))*",handler:function(t){var r=printableStringOrDefault(e.getValue(t.matchText),null);null===r?insertText(t.output,t.matchText):new e(t.output,r)}},{name:"table",match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:"^\\|([^\\n]*)\\|([fhck]?)$",rowTerminator:"\\|(?:[fhck]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[fhck]?$\\n?)",cellTerminator:"(?:\\x20*)\\|",rowTypes:{c:"caption",h:"thead","":"tbody",f:"tfoot"},handler:function(e){var t,r,i,a=insertElement(e.output,"table"),n=new RegExp(this.lookahead,"gm"),s=null,o=[],l=0;e.nextMatch=e.matchStart;do{n.lastIndex=e.nextMatch;var u=n.exec(e.source),c=u&&u.index===e.nextMatch;c&&(t=u[2],"k"===t?(a.className=u[1],e.nextMatch+=u[0].length+1):(t!==s&&(r=insertElement(a,this.rowTypes[t])),s=t,"c"===s?(0===l?r.setAttribute("align","top"):r.setAttribute("align","bottom"),e.nextMatch=e.nextMatch+1,e.subWikify(r,this.rowTerminator)):(i=insertElement(r,"tr"),this.rowHandler(e,i,o)),l++))}while(c)},rowHandler:function(t,r,i){var a=0,n=1,s=new RegExp(this.cellPattern,"gm");do{s.lastIndex=t.nextMatch;var o=s.exec(t.source),l=o&&o.index===t.nextMatch;if(l){if("~"===o[1]){var u=i[a];u&&(u.rowCount++,u.element.setAttribute("rowSpan",u.rowCount),u.element.setAttribute("rowspan",u.rowCount),u.element.valign="center"),t.nextMatch=o.index+o[0].length-1}else if(">"===o[1])n++,t.nextMatch=o.index+o[0].length-1;else{if(o[2]){t.nextMatch=o.index+o[0].length;break}var c,h=!1,d=!1;t.nextMatch++;for(var p=e.helpers.inlineCSS(t);" "===t.source.substr(t.nextMatch,1);)h=!0,t.nextMatch++;"!"===t.source.substr(t.nextMatch,1)?(c=insertElement(r,"th"),t.nextMatch++):c=insertElement(r,"td"),i[a]={rowCount:1,element:c};n>1&&(c.setAttribute("colSpan",n),c.setAttribute("colspan",n),n=1);for(var f=0;f<p.styles.length;f++)c.style[p.styles[f].style]=p.styles[f].value;for(var f=0;f<p.classes.length;f++)c.classList.add(p.classes[f]);t.subWikify(c,this.cellTerminator)," "===t.matchText.substr(t.matchText.length-2,1)&&(d=!0),h&&d?c.align="center":h?c.align="right":d&&(c.align="left"),t.nextMatch=t.nextMatch-1}a++}}while(l)}},{name:"heading",match:"^!{1,6}",terminator:"\\n",handler:function(e){var t=function(e){for(var t="function"==typeof window.getComputedStyle,r=e.length-1;r>=0;r--){var i=e[r];switch(i.nodeType){case Node.ELEMENT_NODE:var a=i.nodeName.toUpperCase();if("BR"===a)return!0;var n=t?window.getComputedStyle(i,null):i.currentStyle;if(n&&n.display)return"block"===n.display;switch(a){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:break;default:return!1}}return!0}(e.output.childNodes);t?e.subWikify(insertElement(e.output,"h"+e.matchLength),this.terminator):insertText(e.output,e.matchText)}},{name:"list",match:"^(?:(?:\\*+)|(?:#+))",lookahead:"^(?:(\\*+)|(#+))",terminator:"\\n",outerElement:"ul",itemElement:"li",handler:function(e){e.nextMatch=e.matchStart;var t,r,i,a=new RegExp(this.lookahead,"gm"),n=[e.output],s=null,o=0;do{a.lastIndex=e.nextMatch;var l=a.exec(e.source),u=l&&l.index===e.nextMatch;if(u){if(t=l[2]?"ol":"ul",r=l[0].length,e.nextMatch+=l[0].length,r>o)for(i=o;r>i;i++)n.push(insertElement(n[n.length-1],t));else if(o>r)for(i=o;i>r;i--)n.pop();else r===o&&t!==s&&(n.pop(),n.push(insertElement(n[n.length-1],t)));o=r,s=t,e.subWikify(insertElement(n[n.length-1],"li"),this.terminator)}}while(u)}},{name:"quoteByBlock",match:"^<<<\\n",terminator:"^<<<\\n",handler:function(e){e.subWikify(insertElement(e.output,"blockquote"),this.terminator)}},{name:"quoteByLine",match:"^>+",terminator:"\\n",element:"blockquote",handler:function(e){var t,r=new RegExp(this.match,"gm"),i=[e.output],a=0,n=e.matchLength;do{if(n>a)for(t=a;n>t;t++)i.push(insertElement(i[i.length-1],this.element));else if(a>n)for(t=a;t>n;t--)i.pop();a=n,e.subWikify(i[i.length-1],this.terminator),insertElement(i[i.length-1],"br"),r.lastIndex=e.nextMatch;var s=r.exec(e.source),o=s&&s.index===e.nextMatch;o&&(n=s[0].length,e.nextMatch+=s[0].length)}while(o)}},{name:"rule",match:"^----+$\\n?|<hr ?/?>\\n?",handler:function(e){insertElement(e.output,"hr")}},{name:"monospacedByLine",match:"^\\{\\{\\{\\n",lookahead:"^\\{\\{\\{\\n((?:^[^\\n]*\\n)+?)(^\\}\\}\\}$\\n?)",handler:function(e){var t=new RegExp(this.lookahead,"gm");t.lastIndex=e.matchStart;var r=t.exec(e.source);r&&r.index===e.matchStart&&(insertElement(e.output,"pre",null,null,r[1]),e.nextMatch=t.lastIndex)}},{name:"prettyLink",match:"\\[\\[[^[]",handler:function(t){var r=e.helpers.parseSquareBracketedMarkup(t);if(r.hasOwnProperty("error"))return void t.outputText(t.output,t.matchStart,t.nextMatch);t.nextMatch=r.pos;var i=e.helpers.evalPassageId(r.link),a=r.hasOwnProperty("text")?e.helpers.evalExpression(r.text):i,n=r.hasOwnProperty("setter")?function(t){return function(){e.evalStatements(t)}}(e.parse(r.setter)):null;r.forceInternal||!e.isExternalLink(i)?e.createInternalLink(t.output,i,a,n):e.createExternalLink(t.output,i,a)}},{name:"urlLink",match:e.textPrimitives.url,handler:function(t){t.outputText(e.createExternalLink(t.output,t.matchText),t.matchStart,t.nextMatch)}},{name:"image",match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(t){var r=e.helpers.parseSquareBracketedMarkup(t);if(r.hasOwnProperty("error"))return void t.outputText(t.output,t.matchStart,t.nextMatch);t.nextMatch=r.pos;var i,a=t.output,n=r.hasOwnProperty("setter")?function(t){return function(){e.evalStatements(t)}}(e.parse(r.setter)):null;if(r.hasOwnProperty("link")){var s=e.helpers.evalPassageId(r.link);a=r.forceInternal||!e.isExternalLink(s)?e.createInternalLink(a,s,null,n):e.createExternalLink(a,s),a.classList.add("link-image")}if(a=insertElement(a,"img"),i=e.helpers.evalPassageId(r.source),"data:"!==i.slice(0,5)&&tale.has(i)){var o=tale.get(i);o.tags.contains("Twine.image")&&(a.setAttribute("data-passage",o.title),i=o.text)}a.src=i,r.hasOwnProperty("title")&&(a.title=e.helpers.evalExpression(r.title)),r.hasOwnProperty("align")&&(a.align=r.align)}},{name:"macro",match:"<<",lookaheadRegExp:/<<(\/?[A-Za-z][^>\s]*)(?:\s*)((?:(?:\"(?:\\.|[^\"\\])*\")|(?:\'(?:\\.|[^\'\\])*\')|(?:\[(?:[<>]?[Ii][Mm][Gg])?\[[^\r\n]*?\]\]+)|[^>]|(?:>(?!>)))*)>>/gm,argsPattern:"(?:"+['("(?:\\\\.|[^"\\\\])+")',"('(?:\\\\.|[^'\\\\])+')","(\"\"|'')","(\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)","([^\"'`\\s]\\S*)"].join("|")+")",working:{name:"",handler:"",arguments:"",index:0},context:null,handler:function(e){var t=this.lookaheadRegExp.lastIndex=e.matchStart;if(this.parseTag(e)){var r=e.nextMatch,i=this.working.name,a=this.working.handler,n=this.working.arguments;try{var s=macros.get(i);if(!s)return macros.tags.hasOwnProperty(i)?throwError(e.output,"child tag <<"+i+">> was found outside of a call to its parent macro"+(1===macros.tags[i].length?"":"s")+" <<"+macros.tags[i].join(">>, <<")+">>",e.source.slice(t,e.nextMatch)):throwError(e.output,"macro <<"+i+">> does not exist",e.source.slice(t,e.nextMatch));var o=null;if(s.hasOwnProperty("tags")&&(o=this.parseBody(e,s.tags),!o))return e.nextMatch=r,throwError(e.output,"cannot find a closing tag for macro <<"+i+">>",e.source.slice(t,e.nextMatch)+"…");if("function"!=typeof s[a])return throwError(e.output,"macro <<"+i+'>> handler function "'+a+'" '+(s.hasOwnProperty(a)?"is not a function":"does not exist"),e.source.slice(t,e.nextMatch));var l=s.hasOwnProperty("skipArgs")&&s.skipArgs?[]:this.parseArgs(n);if(s.hasOwnProperty("_USE_MACROS_API"))try{this.context=new MacrosContext(this.context,s,i,n,l,o,e,e.source.slice(t,e.nextMatch)),s[a].call(this.context)}finally{this.context=this.context.parent}else{var u=e._rawArgs;e._rawArgs=n,s[a](e.output,i,l,e,o),e._rawArgs=u}}catch(r){return throwError(e.output,"cannot execute "+(s&&s.isWidget?"widget":"macro")+" <<"+i+">>: "+r.message,e.source.slice(t,e.nextMatch))}finally{this.working.name="",this.working.handler="",this.working.arguments="",this.working.index=0}}else e.outputText(e.output,e.matchStart,e.nextMatch)},parseTag:function(e){var t=this.lookaheadRegExp.exec(e.source);if(t&&t.index===e.matchStart&&t[1]){e.nextMatch=this.lookaheadRegExp.lastIndex;var r=t[1].indexOf("::");return-1!==r?(this.working.name=t[1].slice(0,r),this.working.handler=t[1].slice(r+2)):(this.working.name=t[1],this.working.handler="handler"),this.working.arguments=t[2],this.working.index=t.index,!0}return!1},parseBody:function(e,t){for(var r=this.working.name,i="/"+r,a="end"+r,n=Array.isArray(t)?t:!1,s=-1,o=1,l=this.working.name,u=this.working.arguments,c=e.nextMatch,h=[];-1!==(e.matchStart=e.source.indexOf(this.match,e.nextMatch));)if(this.parseTag(e)){var d=this.working.name,p=this.working.arguments,f=this.working.index,g=e.nextMatch;switch(d){case r:o++;break;case a:case i:o--;break;default:if(1===o&&n)for(var m=0,y=n.length;y>m;m++)d===n[m]&&(h.push({name:l,arguments:u,contents:e.source.slice(c,f)}),l=d,u=p,c=g)}if(0===o){h.push({name:l,arguments:u,contents:e.source.slice(c,f)}),s=g;break}}else this.lookaheadRegExp.lastIndex=e.nextMatch=e.matchStart+this.match.length;return-1!==s?(e.nextMatch=s,h):null},parseArgs:function(t){for(var r,i=new RegExp(this.argsPattern,"gm"),a=[];null!==(r=i.exec(t));){var n;if(r[1]){n=r[1];try{n=Util.evalExpression(n)}catch(e){throw new Error("unable to parse macro argument '"+n+"': "+e.message)}}else if(r[2]){n=r[2];try{n=Util.evalExpression(n)}catch(e){throw new Error('unable to parse macro argument "'+n+'": '+e.message)}}else if(r[3])n="";else if(r[4]){n=r[4];var s=e.helpers.parseSquareBracketedMarkup({source:n,matchStart:0});if(s.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'+n+'": '+s.error);if(s.pos<n.length)throw new Error('unable to parse macro argument "'+n+'": unexpected character(s) "'+n.slice(s.pos)+'" (pos: '+s.pos+")");s.isLink?(n={isLink:!0},n.count=s.hasOwnProperty("text")?2:1,n.link=e.helpers.evalPassageId(s.link),n.text=s.hasOwnProperty("text")?e.helpers.evalExpression(s.text):n.link,n.external=!s.forceInternal&&e.isExternalLink(n.link),n.setFn=s.hasOwnProperty("setter")?function(t){return function(){e.evalStatements(t)}}(e.parse(s.setter)):null):s.isImage&&(n=function(e){var t={isImage:!0,source:e};if("data:"!==e.slice(0,5)&&tale.has(e)){var r=tale.get(e);r.tags.contains("Twine.image")&&(t.source=r.text,t.passage=r.title)}return t}(s.source),s.hasOwnProperty("align")&&(n.align=s.align),s.hasOwnProperty("title")&&(n.title=e.helpers.evalExpression(s.title)),s.hasOwnProperty("link")&&(n.link=e.helpers.evalPassageId(s.link),n.external=!s.forceInternal&&e.isExternalLink(n.link)),n.setFn=s.hasOwnProperty("setter")?function(t){return function(){e.evalStatements(t)}}(e.parse(s.setter)):null)}else if(r[5])if(n=r[5],/^\$\w+/.test(n))n=e.getValue(n);else if(/^(?:options|setup)[\.\[]/.test(n))try{n=e.evalExpression(n)}catch(e){throw new Error('unable to parse macro argument "'+n+'": '+e.message)}else if(/^(?:\{.*\}|\[.*\])$/.test(n))try{n=e.evalExpression(n)}catch(e){throw new Error('unable to parse macro argument "'+n+'": '+e.message)}else"null"===n?n=null:"undefined"===n?n=undefined:"true"===n?n=!0:"false"===n?n=!1:!isNaN(parseFloat(n))&&isFinite(n)&&(n=Number(n));a.push(n)}return a}},{name:"html",match:"<[Hh][Tt][Mm][Ll]>",lookaheadRegExp:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:function(e){this.lookaheadRegExp.lastIndex=e.matchStart;var t=this.lookaheadRegExp.exec(e.source);if(t&&t.index===e.matchStart){e.nextMatch=this.lookaheadRegExp.lastIndex;var r=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=t[1];i.firstChild;)r.appendChild(i.firstChild);e.output.appendChild(r)}}},{name:"commentByBlock",match:"/(?:%|\\*)",lookaheadRegExp:/\/(%|\*)((?:.|\n)*?)\1\//gm,handler:function(e){this.lookaheadRegExp.lastIndex=e.matchStart;var t=this.lookaheadRegExp.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookaheadRegExp.lastIndex)}},{name:"htmlCommentByBlock",match:"<!--",lookaheadRegExp:/<!--((?:.|\\n)*?)-->/gm,handler:function(e){this.lookaheadRegExp.lastIndex=e.matchStart;var t=this.lookaheadRegExp.exec(e.source);t&&t.index===e.matchStart&&(e.output.appendChild(document.createComment(t[1])),e.nextMatch=this.lookaheadRegExp.lastIndex)}},{name:"formatByChar",match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(e){switch(e.matchText){case"''":e.subWikify(insertElement(e.output,"strong"),"''");break;case"//":e.subWikify(insertElement(e.output,"em"),"//");break;case"__":e.subWikify(insertElement(e.output,"u"),"__");break;case"^^":e.subWikify(insertElement(e.output,"sup"),"\\^\\^");break;case"~~":e.subWikify(insertElement(e.output,"sub"),"~~");break;case"==":e.subWikify(insertElement(e.output,"s"),"==");break;case"{{{":var t=/\{\{\{((?:.|\n)*?)\}\}\}/gm;t.lastIndex=e.matchStart;var r=t.exec(e.source);r&&r.index===e.matchStart&&(insertElement(e.output,"code",null,null,r[1]),e.nextMatch=t.lastIndex)}}},{name:"customStyle",match:"@@",terminator:"@@",blockRegExp:/\s*\n/gm,handler:function(t){var r=e.helpers.inlineCSS(t);this.blockRegExp.lastIndex=t.nextMatch;var i=this.blockRegExp.exec(t.source),a=i&&i.index===t.nextMatch,n=insertElement(t.output,a?"div":"span");if(0===r.styles.length&&0===r.classes.length)n.className="marked";else{for(var s=0;s<r.styles.length;s++)n.style[r.styles[s].style]=r.styles[s].value;for(var s=0;s<r.classes.length;s++)n.classList.add(r.classes[s])}a?(t.nextMatch+=i[0].length,t.subWikify(n,"\\n?"+this.terminator)):t.subWikify(n,this.terminator)}},{name:"emdash",match:"--",handler:function(e){insertText(e.output,"—")}},{name:"lineContinuation",match:"\\\\[\\s\\u00a0\\u2028\\u2029]*?(?:\\n|$)",handler:function(e){e.nextMatch=e.matchStart+e.matchLength}},{name:"lineBreak",match:"\\n|<br ?/?>",handler:function(e){0!==e._nobr.length&&e._nobr[0]||insertElement(e.output,"br")}},{name:"rawText",match:'"{3}|<nowiki>',lookaheadRegExp:/(?:\"{3}|<nowiki>)((?:.|\n)*?)(?:\"{3}|<\/nowiki>)/gm,handler:function(e){this.lookaheadRegExp.lastIndex=e.matchStart;var t=this.lookaheadRegExp.exec(e.source);t&&t.index===e.matchStart&&(insertElement(e.output,"span",null,null,t[1]),e.nextMatch=this.lookaheadRegExp.lastIndex)}},{name:"htmlCharacterReference",match:"(?:(?:&#?[a-zA-Z0-9]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[a-zA-Z0-9]{2,8};)",handler:function(e){var t=document.createElement("span");t.innerHTML=e.matchText,insertText(e.output,t.textContent),"function"==typeof t.remove&&t.remove()}},{name:"htmlTag",match:"<\\w+(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>",tagPattern:"<(\\w+)",voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],nobrElements:["colgroup","datalist","dl","figure","ol","optgroup","select","table","tbody","tfoot","thead","tr","ul"],handler:function(e){var t=new RegExp(this.tagPattern).exec(e.matchText),r=t&&t[1],i=r&&r.toLowerCase();if(i){var a,n,s,o=this.voidElements.contains(i),l=this.nobrElements.contains(i);if(o||(a="<\\/"+i+"\\s*>",n=new RegExp(a,"gim"),n.lastIndex=e.matchStart,s=n.exec(e.source)),o||s){var u=document.createElement(e.output.tagName);for(u.innerHTML=e.matchText;u.firstChild;)u=u.firstChild;if(u.hasAttribute("data-passage")&&this.processDataAttributes(u),s){l?e._nobr.unshift(!0):0!==e._nobr.length&&e._nobr.unshift(!1);try{e.subWikify(u,a,!0)}finally{0!==e._nobr.length&&e._nobr.shift()}}e.output.appendChild(u)}else throwError(e.output,'HTML tag "'+r+'" is not closed',e.matchText+"…")}},processDataAttributes:function(t){var r=t.getAttribute("data-passage");if(null!=r&&(r=("string"!=typeof r?String(r):r).trim(),/^\$\w+/.test(r)&&(r=e.getValue(r),t.setAttribute("data-passage",r)),""!==r))if("IMG"===t.tagName.toUpperCase()){var i;tale.has(r)&&(r=tale.get(r),r.tags.contains("Twine.image")&&(i=r.text)),t.src=i}else{var a,n=t.getAttribute("data-setter");
null!=n&&(n=("string"!=typeof n?String(n):n).trim(),""!==n&&(a=function(t){return function(){e.evalStatements(t)}}(e.parse(n)))),tale.has(r)?(t.classList.add("link-internal"),config.addVisitedLinkClass&&state.has(r)&&t.classList.add("link-visited")):t.classList.add("link-broken"),jQuery(t).click(function(){"function"==typeof a&&a(),state.display(r,t)})}}}]}),e}();Object.defineProperties(Macros.prototype,{add:{value:function(e,t,r){if(Array.isArray(e))return void e.forEach(function(e){this.add(e,t,r)},this);if(this.has(e))throw new Error("cannot clobber existing macro <<"+e+">>");if(this.tags.hasOwnProperty(e))throw new Error("cannot clobber child tag <<"+e+">> of parent macro"+(1===this.tags[e].length?"":"s")+" <<"+this.tags[e].join(">>, <<")+">>");try{if("object"==typeof t)this.definitions[e]=r?clone(t):t;else{if(!this.has(t))throw new Error("cannot create alias of nonexistent macro <<"+t+">>");this.definitions[e]=r?clone(this.definitions[t]):this.definitions[t]}Object.defineProperty(this.definitions,e,{writable:!1}),this.definitions[e]._USE_MACROS_API=!0}catch(t){throw"TypeError"===t.name?new Error("cannot clobber protected macro <<"+e+">>"):new Error("unknown error when attempting to add macro <<"+e+">>: ["+t.name+"] "+t.message)}if(this.definitions[e].hasOwnProperty("tags"))if(null==this.definitions[e].tags)this.registerTags(e);else{if(!Array.isArray(this.definitions[e].tags))throw new Error('bad value for "tags" property of macro <<'+e+">>");this.registerTags(e,this.definitions[e].tags)}}},remove:{value:function(e){if(Array.isArray(e))return void e.forEach(function(e){this.remove(e)},this);if(this.definitions.hasOwnProperty(e)){this.definitions[e].hasOwnProperty("tags")&&this.unregisterTags(e);try{Object.defineProperty(this.definitions,e,{writable:!0}),delete this.definitions[e]}catch(t){throw new Error("unknown error removing macro <<"+e+">>: "+t.message)}}else if(this.tags.hasOwnProperty(e))throw new Error("cannot remove child tag <<"+e+">> of parent macro <<"+this.tags[e]+">>")}},has:{value:function(e,t){return this.definitions.hasOwnProperty(e)||(t?this.tags.hasOwnProperty(e):!1)}},get:{value:function(e){var t=null;return this.definitions.hasOwnProperty(e)&&"function"==typeof this.definitions[e].handler?t=this.definitions[e]:this.hasOwnProperty(e)&&"function"==typeof this[e].handler&&(t=this[e]),t}},getHandler:{value:function(e,t){var r=this.get(e);return t||(t="handler"),r&&r.hasOwnProperty(t)&&"function"==typeof r[t]?r[t]:null}},evalStatements:{value:function(statements,thisp){try{return eval(null==thisp?'var output = document.createElement("div");(function(){'+statements+"\n}());":"var output = thisp.output;(function(){"+statements+"\n}.call(thisp));"),!0}catch(e){if(null==thisp)throw e;return thisp.error("bad evaluation: "+e.message)}}},registerTags:{value:function(e,t){if(!e)throw new Error("no parent specified");Array.isArray(t)||(t=[]);for(var r=["/"+e,"end"+e],i=[].concat(r,t),a=0;a<i.length;a++){var n=i[a];if(this.definitions.hasOwnProperty(n))throw new Error("cannot register tag for an existing macro");this.tags.hasOwnProperty(n)?this.tags[n].contains(e)||(this.tags[n].push(e),this.tags[n].sort()):this.tags[n]=[e]}}},unregisterTags:{value:function(e){if(!e)throw new Error("no parent specified");Object.keys(this.tags).forEach(function(t){var r=this.tags[t].indexOf(e);-1!==r&&(1===this.tags[t].length?delete this.tags[t]:this.tags[t].splice(r,1))},this)}},init:{value:function(){Object.keys(this.definitions).forEach(function(e){var t=this.getHandler(e,"init");t&&t.call(this.definitions[e],e)},this),Object.keys(this).forEach(function(e){var t=this.getHandler(e,"init");t&&t.call(this[e],e)},this)}},lateInit:{value:function(){Object.keys(this.definitions).forEach(function(e){var t=this.getHandler(e,"lateInit");t&&t.call(this.definitions[e],e)},this),Object.keys(this).forEach(function(e){var t=this.getHandler(e,"lateInit");t&&t.call(this[e],e)},this)}}}),Object.defineProperties(MacrosContext.prototype,{contextHas:{value:function(e){for(var t=this;null!==(t=t.parent);)if(e(t))return!0;return!1}},contextSelect:{value:function(e){for(var t=this,r=[];null!==(t=t.parent);)e(t)&&r.push(t);return r}},error:{value:function(e){return throwError(this.output,"<<"+this.name+">>: "+e,this.source)}}}),window.onerror=function(e,t,r,i,a){technicalAlert(null,e,a)},window.SugarCube={};var version=Object.freeze({title:"SugarCube",major:1,minor:0,patch:35,prerelease:null,build:7110,date:new Date("2016-04-22T19:47:06.454Z"),extensions:{},toString:function(){return this.major+"."+this.minor+"."+this.patch+(this.prerelease?"-"+this.prerelease:"")+"+"+this.build},short:function(){return this.title+" (v"+this.major+"."+this.minor+"."+this.patch+(this.prerelease?"-"+this.prerelease:"")+")"},long:function(){return this.title+" v"+this.toString()+" ("+this.date.toUTCString()+")"}}),HistoryMode=Object.freeze({Hash:History.Modes.Hash,Window:History.Modes.Window,Session:History.Modes.Session}),modes=Object.freeze({hashTag:History.Modes.Hash,windowHistory:History.Modes.Window,sessionHistory:History.Modes.Session}),runtime=Object.defineProperties({},{flags:{value:{HistoryPRNG:{isEnabled:!1,isMathPRNG:!1}}},temp:{writable:!0,value:{}}}),config={hasPushState:has.pushState,hasLocalStorage:has.localStorage,hasSessionStorage:has.sessionStorage,hasFileAPI:has.fileAPI,userAgent:browser.userAgent,browser:browser,addVisitedLinkClass:!1,altPassageDescription:undefined,displayPassageTitles:!1,loadDelay:0,startPassage:undefined,updatePageElements:!0,disableHistoryControls:!1,disableHistoryTracking:!1,historyMode:has.pushState?has.sessionStorage?History.Modes.Session:History.Modes.Window:History.Modes.Hash,passageTransitionOut:undefined,transitionEndEventName:function(){for(var e={transition:"transitionend",MSTransition:"msTransitionEnd",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend"},t=Object.keys(e),r=document.createElement("div"),i=0;i<t.length;i++)if(r.style[t[i]]!==undefined)return e[t[i]];return""}(),macros:{disableIfAssignmentError:!1,maxLoopIterations:1e3},saves:{autoload:undefined,autosave:undefined,id:"untitled-story",isAllowed:undefined,onLoad:undefined,onSave:undefined,slots:8},errorName:undefined,errors:{}},macros={},tale={},state={},storage={},session={},options={},setup={},prehistory={},predisplay={},postdisplay={},prerender={},postrender={};jQuery(document).ready(function(){try{document.normalize&&document.normalize(),macros=new Macros,defineStandardMacros(),tale=new Tale,tale.init(),state=new History,storage=new KeyValueStore("webStorage",!0,tale.domId),session=new KeyValueStore("webStorage",!1,tale.domId),config.saves.id=tale.domId,UISystem.init(),session.hasItem("rcWarn")||has.pushState&&"cookie"!==storage.name||(session.setItem("rcWarn",1),window.alert(("Apologies! Your browser either lacks some of the capabilities required by this %identity% or has disabled them, so this %identity% is running in a degraded mode. You may be able to continue, but some parts may not work properly.\n\nThe former may, probably, be solved by upgrading your browser. The latter may be solved by loosening its security restrictions"+("file:"===window.location.protocol?" or, perhaps, by playing this %identity% via the HTTP protocol.":".")).replace(/%identity%/g,strings.identity)));for(var i=0;i<tale.styles.length;i++)addStyle(tale.styles[i].text);for(var i=0;i<tale.scripts.length;i++)try{eval(tale.scripts[i].text)}catch(e){technicalAlert(tale.scripts[i].title,e.message)}for(var i=0;i<tale.widgets.length;i++)try{Wikifier.wikifyEval(tale.widgets[i].processText())}catch(e){technicalAlert(tale.widgets[i].title,e.message)}SaveSystem.init(),macros.init(),state.init(),macros.lateInit(),UISystem.start()}catch(e){return fatalAlert(null,e.message)}window.SugarCube={version:version,runtime:runtime,has:has,browser:browser,config:config,setup:setup,storage:storage,session:session,macros:macros,tale:tale,state:state,Wikifier:Wikifier,Util:Util,History:History,Passage:Passage,Tale:Tale,SaveSystem:SaveSystem,UISystem:UISystem}})}(window,window.document);}
	</script>
</body>
</html>
